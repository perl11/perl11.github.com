<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>self</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.2.8' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/133.html#L42'>self</a>               42 core/ast.c     PN potion_source_name(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/133.html#L43'>self</a>               43 core/ast.c       vPN(Source) t = (struct PNSource *)self;</span>
<span class='curline'><a href='../S/133.html#L49'>self</a>               49 core/ast.c     PN potion_source_string(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/133.html#L51'>self</a>               51 core/ast.c       vPN(Source) t = (struct PNSource *)self;</span>
<span class='curline'><a href='../S/135.html#L13'>self</a>               13 core/callcc.c  PN potion_continuation_yield(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/135.html#L14'>self</a>               14 core/callcc.c    struct PNCont *cc = (struct PNCont *)self;</span>
<span class='curline'><a href='../S/135.html#L83'>self</a>               83 core/callcc.c    return self;</span>
<span class='curline'><a href='../S/135.html#L87'>self</a>               87 core/callcc.c  PN potion_callcc(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/136.html#L40'>self</a>               40 core/compile.c PN potion_proto_tree(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/136.html#L41'>self</a>               41 core/compile.c   return PN_PROTO(self)-&gt;tree;</span>
<span class='curline'><a href='../S/136.html#L47'>self</a>               47 core/compile.c PN potion_proto_call(Potion *P, PN cl, PN self, PN args) {</span>
<span class='curline'><a href='../S/136.html#L48'>self</a>               48 core/compile.c   return potion_vm(P, self, P-&gt;lobby, args, 0, NULL);</span>
<span class='curline'><a href='../S/136.html#L53'>self</a>               53 core/compile.c PN potion_proto_string(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/136.html#L54'>self</a>               54 core/compile.c   vPN(Proto) t = (struct PNProto *)self;</span>
<span class='curline'><a href='../S/136.html#L722'>self</a>              722 core/compile.c PN potion_source_compile(Potion *P, PN cl, PN self, PN source, PN sig) {</span>
<span class='curline'><a href='../S/136.html#L724'>self</a>              724 core/compile.c   vPN(Source) t = (struct PNSource *)self;</span>
<span class='curline'><a href='../S/136.html#L740'>self</a>              740 core/compile.c   f-&gt;tree = self;</span>
<span class='curline'><a href='../S/137.html#L30'>self</a>               30 core/file.c    PN potion_file_new(Potion *P, PN cl, PN self, PN path, PN modestr) {</span>
<span class='curline'><a href='../S/137.html#L54'>self</a>               54 core/file.c      ((struct PNFile *)self)-&gt;fd = fd;</span>
<span class='curline'><a href='../S/137.html#L55'>self</a>               55 core/file.c      ((struct PNFile *)self)-&gt;path = path;</span>
<span class='curline'><a href='../S/137.html#L56'>self</a>               56 core/file.c      ((struct PNFile *)self)-&gt;mode = mode;</span>
<span class='curline'><a href='../S/137.html#L57'>self</a>               57 core/file.c      return self;</span>
<span class='curline'><a href='../S/137.html#L64'>self</a>               64 core/file.c    PN potion_file_with_fd(Potion *P, PN cl, PN self, PN fd) {</span>
<span class='curline'><a href='../S/137.html#L81'>self</a>               81 core/file.c    PN potion_file_close(Potion *P, PN cl, pn_file self) {</span>
<span class='curline'><a href='../S/137.html#L82'>self</a>               82 core/file.c      close(self-&gt;fd);</span>
<span class='curline'><a href='../S/137.html#L83'>self</a>               83 core/file.c      self-&gt;fd = -1;</span>
<span class='curline'><a href='../S/137.html#L91'>self</a>               91 core/file.c    PN potion_file_read(Potion *P, PN cl, pn_file self, PN n) {</span>
<span class='curline'><a href='../S/137.html#L94'>self</a>               94 core/file.c      int r = read(self-&gt;fd, buf, n);</span>
<span class='curline'><a href='../S/137.html#L109'>self</a>              109 core/file.c    PN potion_file_write(Potion *P, PN cl, pn_file self, PN str) {</span>
<span class='curline'><a href='../S/137.html#L110'>self</a>              110 core/file.c      int r = write(self-&gt;fd, PN_STR_PTR(str), PN_STR_LEN(str));</span>
<span class='curline'><a href='../S/137.html#L121'>self</a>              121 core/file.c    PN potion_file_string(Potion *P, PN cl, pn_file self) {</span>
<span class='curline'><a href='../S/137.html#L122'>self</a>              122 core/file.c      int fd = self-&gt;fd, rv;</span>
<span class='curline'><a href='../S/137.html#L125'>self</a>              125 core/file.c      if (self-&gt;path != PN_NIL &amp;&amp; fd != -1) {</span>
<span class='curline'><a href='../S/137.html#L126'>self</a>              126 core/file.c        rv = asprintf(&amp;buf, "&lt;file %s fd: %d&gt;", PN_STR_PTR(self-&gt;path), fd);</span>
<span class='curline'><a href='../S/137.html#L141'>self</a>              141 core/file.c    PN potion_lobby_read(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/138.html#L616'>self</a>              616 core/gc.c      PN potion_gc_actual(Potion *P, PN cl, PN self)</span>
<span class='curline'><a href='../S/138.html#L626'>self</a>              626 core/gc.c      PN potion_gc_fixed(Potion *P, PN cl, PN self)</span>
<span class='curline'><a href='../S/138.html#L634'>self</a>              634 core/gc.c      PN potion_gc_reserved(Potion *P, PN cl, PN self)</span>
<span class='curline'><a href='../S/139.html#L22'>self</a>               22 core/internal.c PN potion_allocate(Potion *P, PN cl, PN self, PN len) {</span>
<span class='curline'><a href='../S/139.html#L126'>self</a>              126 core/internal.c PN potion_delegated(Potion *P, PN closure, PN self) {</span>
<span class='curline'><a href='../S/139.html#L129'>self</a>              129 core/internal.c   return potion_type_new(P, t, self);</span>
<span class='curline'><a href='../S/139.html#L197'>self</a>              197 core/internal.c PN potion_error_string(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/139.html#L198'>self</a>              198 core/internal.c   vPN(Error) e = (struct PNError *)self;</span>
<span class='curline'><a href='../S/142.html#L22'>self</a>               22 core/lick.c    PN potion_lick_attr(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/142.html#L23'>self</a>               23 core/lick.c      return ((struct PNLick *)self)-&gt;attr;</span>
<span class='curline'><a href='../S/142.html#L29'>self</a>               29 core/lick.c    PN potion_lick_licks(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/142.html#L30'>self</a>               30 core/lick.c      PN licks = ((struct PNLick *)self)-&gt;inner;</span>
<span class='curline'><a href='../S/142.html#L38'>self</a>               38 core/lick.c    PN potion_lick_name(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/142.html#L39'>self</a>               39 core/lick.c      return ((struct PNLick *)self)-&gt;name;</span>
<span class='curline'><a href='../S/142.html#L45'>self</a>               45 core/lick.c    PN potion_lick_text(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/142.html#L46'>self</a>               46 core/lick.c      PN text = ((struct PNLick *)self)-&gt;inner;</span>
<span class='curline'><a href='../S/142.html#L54'>self</a>               54 core/lick.c    PN potion_lick_string(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/142.html#L56'>self</a>               56 core/lick.c      potion_bytes_obj_string(P, out, ((struct PNLick *)self)-&gt;name);</span>
<span class='curline'><a href='../S/142.html#L57'>self</a>               57 core/lick.c      if (((struct PNLick *)self)-&gt;inner != PN_NIL) {</span>
<span class='curline'><a href='../S/142.html#L59'>self</a>               59 core/lick.c        potion_bytes_obj_string(P, out, ((struct PNLick *)self)-&gt;inner);</span>
<span class='curline'><a href='../S/142.html#L61'>self</a>               61 core/lick.c      if (((struct PNLick *)self)-&gt;attr != PN_NIL) {</span>
<span class='curline'><a href='../S/142.html#L63'>self</a>               63 core/lick.c        potion_bytes_obj_string(P, out, ((struct PNLick *)self)-&gt;attr);</span>
<span class='curline'><a href='../S/143.html#L159'>self</a>              159 core/load.c    PN potion_load(Potion *P, PN cl, PN self, PN file) {</span>
<span class='curline'><a href='../S/143.html#L185'>self</a>              185 core/load.c    PN p2_load(Potion *P, PN cl, PN self, PN file) {</span>
<span class='curline'><a href='../S/128.html#L149'>self</a>              149 core/mt19937ar.c PN potion_srand(Potion *P, PN cl, PN self, PN seed) {</span>
<span class='curline'><a href='../S/128.html#L151'>self</a>              151 core/mt19937ar.c   return self;</span>
<span class='curline'><a href='../S/128.html#L154'>self</a>              154 core/mt19937ar.c PN potion_rand(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/144.html#L38'>self</a>               38 core/number.c    if (PN_IS_NUM(self) &amp;&amp; PN_IS_NUM(num)) \</span>
<span class='curline'><a href='../S/144.html#L39'>self</a>               39 core/number.c      return PN_NUM(PN_INT(self) int_math PN_INT(num)); \</span>
<span class='curline'><a href='../S/144.html#L40'>self</a>               40 core/number.c    return potion_real(P, PN_DBL(self) int_math PN_DBL(num));</span>
<span class='curline'><a href='../S/144.html#L42'>self</a>               42 core/number.c  static PN potion_add(Potion *P, PN closure, PN self, PN num) {</span>
<span class='curline'><a href='../S/144.html#L46'>self</a>               46 core/number.c  static PN potion_sub(Potion *P, PN closure, PN self, PN num) {</span>
<span class='curline'><a href='../S/144.html#L50'>self</a>               50 core/number.c  static PN potion_mult(Potion *P, PN closure, PN self, PN num) {</span>
<span class='curline'><a href='../S/144.html#L54'>self</a>               54 core/number.c  static PN potion_div(Potion *P, PN closure, PN self, PN num) {</span>
<span class='curline'><a href='../S/144.html#L58'>self</a>               58 core/number.c  static PN potion_rem(Potion *P, PN closure, PN self, PN num) {</span>
<span class='curline'><a href='../S/144.html#L59'>self</a>               59 core/number.c    if (PN_IS_NUM(self) &amp;&amp; PN_IS_NUM(num))</span>
<span class='curline'><a href='../S/144.html#L60'>self</a>               60 core/number.c      return PN_NUM(PN_INT(self) % PN_INT(num));</span>
<span class='curline'><a href='../S/144.html#L61'>self</a>               61 core/number.c    double x = PN_DBL(self), y = PN_DBL(num);</span>
<span class='curline'><a href='../S/144.html#L66'>self</a>               66 core/number.c  static PN potion_bitn(Potion *P, PN closure, PN self) {</span>
<span class='curline'><a href='../S/144.html#L67'>self</a>               67 core/number.c    if (PN_IS_NUM(self))</span>
<span class='curline'><a href='../S/144.html#L68'>self</a>               68 core/number.c      return PN_NUM(~PN_INT(self));</span>
<span class='curline'><a href='../S/144.html#L72'>self</a>               72 core/number.c  static PN potion_bitl(Potion *P, PN closure, PN self, PN num) {</span>
<span class='curline'><a href='../S/144.html#L73'>self</a>               73 core/number.c    if (PN_IS_NUM(self) &amp;&amp; PN_IS_NUM(num))</span>
<span class='curline'><a href='../S/144.html#L74'>self</a>               74 core/number.c      return PN_NUM(PN_INT(self) &lt;&lt; PN_INT(num));</span>
<span class='curline'><a href='../S/144.html#L78'>self</a>               78 core/number.c  static PN potion_bitr(Potion *P, PN closure, PN self, PN num) {</span>
<span class='curline'><a href='../S/144.html#L79'>self</a>               79 core/number.c    if (PN_IS_NUM(self) &amp;&amp; PN_IS_NUM(num))</span>
<span class='curline'><a href='../S/144.html#L80'>self</a>               80 core/number.c      return PN_NUM(PN_INT(self) &gt;&gt; PN_INT(num));</span>
<span class='curline'><a href='../S/144.html#L84'>self</a>               84 core/number.c  static PN potion_num_number(Potion *P, PN closure, PN self) {</span>
<span class='curline'><a href='../S/144.html#L85'>self</a>               85 core/number.c    return self;</span>
<span class='curline'><a href='../S/144.html#L88'>self</a>               88 core/number.c  static PN potion_num_step(Potion *P, PN cl, PN self, PN end, PN step, PN block) {</span>
<span class='curline'><a href='../S/144.html#L90'>self</a>               90 core/number.c    for (i = PN_INT(self); i &lt;= j; i += k) {</span>
<span class='curline'><a href='../S/144.html#L95'>self</a>               95 core/number.c  PN potion_num_string(Potion *P, PN closure, PN self) {</span>
<span class='curline'><a href='../S/144.html#L97'>self</a>               97 core/number.c    if (PN_IS_NUM(self)) {</span>
<span class='curline'><a href='../S/144.html#L98'>self</a>               98 core/number.c      sprintf(ints, "%ld", PN_INT(self));</span>
<span class='curline'><a href='../S/144.html#L100'>self</a>              100 core/number.c      int len = sprintf(ints, "%.16f", ((struct PNDecimal *)self)-&gt;value);</span>
<span class='curline'><a href='../S/144.html#L108'>self</a>              108 core/number.c  static PN potion_num_times(Potion *P, PN cl, PN self, PN block) {</span>
<span class='curline'><a href='../S/144.html#L109'>self</a>              109 core/number.c    long i, j = PN_INT(self);</span>
<span class='curline'><a href='../S/144.html#L115'>self</a>              115 core/number.c  PN potion_num_to(Potion *P, PN cl, PN self, PN end, PN block) {</span>
<span class='curline'><a href='../S/144.html#L116'>self</a>              116 core/number.c    long i, s = 1, j = PN_INT(self), k = PN_INT(end);</span>
<span class='curline'><a href='../S/144.html#L123'>self</a>              123 core/number.c  static PN potion_num_chr(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/144.html#L124'>self</a>              124 core/number.c    char c = PN_INT(self);</span>
<span class='curline'><a href='../S/144.html#L128'>self</a>              128 core/number.c  static PN potion_num_is_integer(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/144.html#L129'>self</a>              129 core/number.c    return PN_IS_NUM(self) ? PN_TRUE : PN_FALSE;</span>
<span class='curline'><a href='../S/144.html#L132'>self</a>              132 core/number.c  static PN potion_num_is_float(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/144.html#L133'>self</a>              133 core/number.c    return PN_IS_DECIMAL(self) ? PN_TRUE : PN_FALSE;</span>
<span class='curline'><a href='../S/144.html#L136'>self</a>              136 core/number.c  static PN potion_num_integer(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/144.html#L137'>self</a>              137 core/number.c    if (PN_IS_NUM(self))</span>
<span class='curline'><a href='../S/144.html#L138'>self</a>              138 core/number.c      return self;</span>
<span class='curline'><a href='../S/144.html#L140'>self</a>              140 core/number.c      return PN_NUM(floor(((struct PNDecimal *)self)-&gt;value));</span>
<span class='curline'><a href='../S/144.html#L143'>self</a>              143 core/number.c  static PN potion_abs(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/144.html#L144'>self</a>              144 core/number.c    if (PN_IS_DECIMAL(self)) {</span>
<span class='curline'><a href='../S/144.html#L145'>self</a>              145 core/number.c      double d = PN_DBL(self);</span>
<span class='curline'><a href='../S/144.html#L150'>self</a>              150 core/number.c        return self;</span>
<span class='curline'><a href='../S/144.html#L152'>self</a>              152 core/number.c    return PN_NUM(labs(PN_INT(self)));</span>
<span class='curline'><a href='../S/145.html#L29'>self</a>               29 core/objmodel.c PN potion_closure_code(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/145.html#L30'>self</a>               30 core/objmodel.c   if (PN_CLOSURE(self)-&gt;extra &gt; 0 &amp;&amp; PN_IS_PROTO(PN_CLOSURE(self)-&gt;data[0])) </span>
<span class='curline'><a href='../S/145.html#L31'>self</a>               31 core/objmodel.c     return PN_CLOSURE(self)-&gt;data[0];</span>
<span class='curline'><a href='../S/145.html#L35'>self</a>               35 core/objmodel.c PN potion_closure_string(Potion *P, PN cl, PN self, PN len) {</span>
<span class='curline'><a href='../S/145.html#L43'>self</a>               43 core/objmodel.c   if (PN_IS_TUPLE(PN_CLOSURE(self)-&gt;sig)) {</span>
<span class='curline'><a href='../S/145.html#L44'>self</a>               44 core/objmodel.c     PN_TUPLE_EACH(PN_CLOSURE(self)-&gt;sig, i, v, {</span>
<span class='curline'><a href='../S/145.html#L61'>self</a>               61 core/objmodel.c PN potion_closure_arity(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/145.html#L62'>self</a>               62 core/objmodel.c   return PN_NUM(potion_arity(P, self));</span>
<span class='curline'><a href='../S/145.html#L65'>self</a>               65 core/objmodel.c PN potion_no_call(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/145.html#L66'>self</a>               66 core/objmodel.c   return self;</span>
<span class='curline'><a href='../S/145.html#L83'>self</a>               83 core/objmodel.c PN potion_type_new(Potion *P, PNType t, PN self) {</span>
<span class='curline'><a href='../S/145.html#L87'>self</a>               87 core/objmodel.c   vt-&gt;parent = self ? ((struct PNVtable *)self)-&gt;type : 0;</span>
<span class='curline'><a href='../S/145.html#L95'>self</a>               95 core/objmodel.c PN potion_type_new2(Potion *P, PNType t, PN self, PN name) {</span>
<span class='curline'><a href='../S/145.html#L96'>self</a>               96 core/objmodel.c   vPN(Vtable) vt = (vPN(Vtable))potion_type_new(P, t, self);</span>
<span class='curline'><a href='../S/145.html#L129'>self</a>              129 core/objmodel.c PN potion_class(Potion *P, PN cl, PN self, PN ivars) {</span>
<span class='curline'><a href='../S/145.html#L130'>self</a>              130 core/objmodel.c   PN parent = (self == P-&gt;lobby ? PN_VTABLE(PN_TOBJECT) : self);</span>
<span class='curline'><a href='../S/145.html#L135'>self</a>              135 core/objmodel.c   self = potion_type_new(P, t, parent);</span>
<span class='curline'><a href='../S/145.html#L141'>self</a>              141 core/objmodel.c     potion_ivars(P, PN_NIL, self, ivars);</span>
<span class='curline'><a href='../S/145.html#L145'>self</a>              145 core/objmodel.c   ((struct PNVtable *)self)-&gt;ctor = cl;</span>
<span class='curline'><a href='../S/145.html#L148'>self</a>              148 core/objmodel.c   return self;</span>
<span class='curline'><a href='../S/145.html#L162'>self</a>              162 core/objmodel.c PN potion_ivars(Potion *P, PN cl, PN self, PN ivars) {</span>
<span class='curline'><a href='../S/145.html#L163'>self</a>              163 core/objmodel.c   struct PNVtable *vt = (struct PNVtable *)self;</span>
<span class='curline'><a href='../S/145.html#L174'>self</a>              174 core/objmodel.c   return self;</span>
<span class='curline'><a href='../S/145.html#L177'>self</a>              177 core/objmodel.c static inline long potion_obj_find_ivar(Potion *P, PN self, PN ivar) {</span>
<span class='curline'><a href='../S/145.html#L178'>self</a>              178 core/objmodel.c   PNType t = PN_TYPE(self);</span>
<span class='curline'><a href='../S/145.html#L191'>self</a>              191 core/objmodel.c PN potion_obj_get(Potion *P, PN cl, PN self, PN ivar) {</span>
<span class='curline'><a href='../S/145.html#L192'>self</a>              192 core/objmodel.c   long i = potion_obj_find_ivar(P, self, ivar);</span>
<span class='curline'><a href='../S/145.html#L194'>self</a>              194 core/objmodel.c     return ((struct PNObject *)self)-&gt;ivars[i];</span>
<span class='curline'><a href='../S/145.html#L198'>self</a>              198 core/objmodel.c PN potion_obj_set(Potion *P, PN cl, PN self, PN ivar, PN value) {</span>
<span class='curline'><a href='../S/145.html#L199'>self</a>              199 core/objmodel.c   long i = potion_obj_find_ivar(P, self, ivar);</span>
<span class='curline'><a href='../S/145.html#L201'>self</a>              201 core/objmodel.c     ((struct PNObject *)self)-&gt;ivars[i] = value;</span>
<span class='curline'><a href='../S/145.html#L202'>self</a>              202 core/objmodel.c     PN_TOUCH(self);</span>
<span class='curline'><a href='../S/145.html#L207'>self</a>              207 core/objmodel.c PN potion_proto_method(Potion *P, PN cl, PN self, PN args) {</span>
<span class='curline'><a href='../S/145.html#L211'>self</a>              211 core/objmodel.c PN potion_getter_method(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/145.html#L215'>self</a>              215 core/objmodel.c PN potion_def_method(Potion *P, PN closure, PN self, PN key, PN method) {</span>
<span class='curline'><a href='../S/145.html#L218'>self</a>              218 core/objmodel.c   vPN(Vtable) vt = (struct PNVtable *)self;</span>
<span class='curline'><a href='../S/145.html#L233'>self</a>              233 core/objmodel.c   PN_TOUCH(self);</span>
<span class='curline'><a href='../S/145.html#L254'>self</a>              254 core/objmodel.c PN potion_lookup(Potion *P, PN closure, PN self, PN key) {</span>
<span class='curline'><a href='../S/145.html#L255'>self</a>              255 core/objmodel.c   vPN(Vtable) vt = (struct PNVtable *)self;</span>
<span class='curline'><a href='../S/145.html#L331'>self</a>              331 core/objmodel.c PN potion_ref_string(Potion *P, PN cl, PN self, PN len) {</span>
<span class='curline'><a href='../S/145.html#L335'>self</a>              335 core/objmodel.c PN potion_object_string(Potion *P, PN cl, vPN(Object) self) {</span>
<span class='curline'><a href='../S/145.html#L336'>self</a>              336 core/objmodel.c   struct PNVtable *vt = (struct PNVtable *)PN_VTABLE(self-&gt;vt);</span>
<span class='curline'><a href='../S/145.html#L339'>self</a>              339 core/objmodel.c     pn_printf(P, str, "&lt;%s %x&gt;", PN_STR_PTR(vt-&gt;name), (PN)self);</span>
<span class='curline'><a href='../S/145.html#L346'>self</a>              346 core/objmodel.c PN potion_object_forward(Potion *P, PN cl, PN self, PN method) {</span>
<span class='curline'><a href='../S/145.html#L351'>self</a>              351 core/objmodel.c PN potion_object_send(Potion *P, PN cl, PN self, PN method) {</span>
<span class='curline'><a href='../S/145.html#L352'>self</a>              352 core/objmodel.c   return potion_send(self, method);</span>
<span class='curline'><a href='../S/145.html#L355'>self</a>              355 core/objmodel.c PN potion_object_new(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/145.html#L356'>self</a>              356 core/objmodel.c   vPN(Vtable) vt = (struct PNVtable *)self;</span>
<span class='curline'><a href='../S/145.html#L362'>self</a>              362 core/objmodel.c     potion_type_size(P, (struct PNObject *)self) - sizeof(struct PNObject) + vt-&gt;ivlen * sizeof(PN));</span>
<span class='curline'><a href='../S/145.html#L365'>self</a>              365 core/objmodel.c PN potion_get_metaclass(Potion *P, PN cl, vPN(Vtable) self) {</span>
<span class='curline'><a href='../S/145.html#L366'>self</a>              366 core/objmodel.c   return (PN)self-&gt;meta;</span>
<span class='curline'><a href='../S/145.html#L369'>self</a>              369 core/objmodel.c static PN potion_lobby_self(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/145.html#L370'>self</a>              370 core/objmodel.c   return self;</span>
<span class='curline'><a href='../S/145.html#L373'>self</a>              373 core/objmodel.c PN potion_lobby_string(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/145.html#L374'>self</a>              374 core/objmodel.c   PN str = ((struct PNVtable *)self)-&gt;name;</span>
<span class='curline'><a href='../S/145.html#L376'>self</a>              376 core/objmodel.c     PN_IS_METACLASS(self) ? potion_str(P, "&lt;metaclass&gt;") : potion_str(P, "&lt;class&gt;");</span>
<span class='curline'><a href='../S/145.html#L379'>self</a>              379 core/objmodel.c PN potion_lobby_kind(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/145.html#L380'>self</a>              380 core/objmodel.c   PNType t = PN_TYPE(self);</span>
<span class='curline'><a href='../S/145.html#L401'>self</a>              401 core/objmodel.c PN potion_about(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/145.html#L424'>self</a>              424 core/objmodel.c PN potion_exit(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/148.html#L15'>self</a>               15 core/primitive.c static PN potion_nil_is_defined(Potion *P, PN closure, PN self) {</span>
<span class='curline'><a href='../S/148.html#L18'>self</a>               18 core/primitive.c PN potion_any_is_defined(Potion *P, PN closure, PN self) {</span>
<span class='curline'><a href='../S/148.html#L25'>self</a>               25 core/primitive.c static PN potion_nil_is_nil(Potion *P, PN closure, PN self) {</span>
<span class='curline'><a href='../S/148.html#L28'>self</a>               28 core/primitive.c PN potion_any_is_nil(Potion *P, PN closure, PN self) {</span>
<span class='curline'><a href='../S/148.html#L36'>self</a>               36 core/primitive.c static PN potion_bool_number(Potion *P, PN closure, PN self) {</span>
<span class='curline'><a href='../S/148.html#L37'>self</a>               37 core/primitive.c   return PN_NUM(PN_TEST(self));</span>
<span class='curline'><a href='../S/148.html#L43'>self</a>               43 core/primitive.c static PN potion_bool_string(Potion *P, PN closure, PN self) {</span>
<span class='curline'><a href='../S/148.html#L44'>self</a>               44 core/primitive.c   if (PN_TEST(self)) return potion_str(P, "true");</span>
<span class='curline'><a href='../S/149.html#L98'>self</a>               98 core/string.c  static PN potion_str_length(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/149.html#L99'>self</a>               99 core/string.c    return PN_NUM(potion_cp_strlen_utf8(PN_STR_PTR(self)));</span>
<span class='curline'><a href='../S/149.html#L104'>self</a>              104 core/string.c  static PN potion_str_eval(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/149.html#L105'>self</a>              105 core/string.c    return potion_eval(P, self, POTION_JIT);</span>
<span class='curline'><a href='../S/149.html#L110'>self</a>              110 core/string.c  static PN potion_str_number(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/149.html#L111'>self</a>              111 core/string.c    char *str = PN_STR_PTR(self);</span>
<span class='curline'><a href='../S/149.html#L112'>self</a>              112 core/string.c    int i = 0, dec = 0, sign = 0, len = PN_STR_LEN(self);</span>
<span class='curline'><a href='../S/149.html#L126'>self</a>              126 core/string.c    return potion_decimal(P, PN_STR_PTR(self), PN_STR_LEN(self));</span>
<span class='curline'><a href='../S/149.html#L131'>self</a>              131 core/string.c  static PN potion_str_string(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/149.html#L132'>self</a>              132 core/string.c    return self;</span>
<span class='curline'><a href='../S/149.html#L137'>self</a>              137 core/string.c  static PN potion_str_print(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/149.html#L138'>self</a>              138 core/string.c    fwrite(PN_STR_PTR(self), 1, PN_STR_LEN(self), stdout);</span>
<span class='curline'><a href='../S/149.html#L174'>self</a>              174 core/string.c  static PN potion_str_slice(Potion *P, PN cl, PN self, PN start, PN end) {</span>
<span class='curline'><a href='../S/149.html#L175'>self</a>              175 core/string.c    char *str = PN_STR_PTR(self);</span>
<span class='curline'><a href='../S/149.html#L189'>self</a>              189 core/string.c  static PN potion_str_bytes(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/149.html#L190'>self</a>              190 core/string.c    return potion_byte_str2(P, PN_STR_PTR(self), PN_STR_LEN(self));</span>
<span class='curline'><a href='../S/149.html#L197'>self</a>              197 core/string.c  static PN potion_str_add(Potion *P, PN cl, PN self, PN x) {</span>
<span class='curline'><a href='../S/149.html#L198'>self</a>              198 core/string.c    char *s = malloc(PN_STR_LEN(self) + PN_STR_LEN(x));</span>
<span class='curline'><a href='../S/149.html#L201'>self</a>              201 core/string.c    PN_MEMCPY_N(s, PN_STR_PTR(self), char, PN_STR_LEN(self));</span>
<span class='curline'><a href='../S/149.html#L202'>self</a>              202 core/string.c    PN_MEMCPY_N(s + PN_STR_LEN(self), PN_STR_PTR(x), char, PN_STR_LEN(x));</span>
<span class='curline'><a href='../S/149.html#L203'>self</a>              203 core/string.c    str = potion_str2(P, s, PN_STR_LEN(self) + PN_STR_LEN(x));</span>
<span class='curline'><a href='../S/149.html#L212'>self</a>              212 core/string.c  static PN potion_str_ord(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/149.html#L213'>self</a>              213 core/string.c    self = potion_fwd(self);</span>
<span class='curline'><a href='../S/149.html#L214'>self</a>              214 core/string.c    if (PN_STR_LEN(self) != 1)</span>
<span class='curline'><a href='../S/149.html#L216'>self</a>              216 core/string.c    return PN_NUM(PN_STR_PTR(self)[0]);</span>
<span class='curline'><a href='../S/149.html#L223'>self</a>              223 core/string.c  static PN potion_str_at(Potion *P, PN cl, PN self, PN index) {</span>
<span class='curline'><a href='../S/149.html#L224'>self</a>              224 core/string.c    return potion_str_slice(P, cl, self, index, PN_NUM(PN_INT(index) + 1));</span>
<span class='curline'><a href='../S/149.html#L277'>self</a>              277 core/string.c  PN potion_bytes_append(Potion *P, PN cl, PN self, PN str) {</span>
<span class='curline'><a href='../S/149.html#L278'>self</a>              278 core/string.c    vPN(Bytes) s = (struct PNBytes *)potion_fwd(self);</span>
<span class='curline'><a href='../S/149.html#L291'>self</a>              291 core/string.c    return self;</span>
<span class='curline'><a href='../S/149.html#L297'>self</a>              297 core/string.c  static PN potion_bytes_length(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/149.html#L298'>self</a>              298 core/string.c    PN str = potion_fwd(self);</span>
<span class='curline'><a href='../S/149.html#L305'>self</a>              305 core/string.c  PN potion_bytes_string(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/149.html#L306'>self</a>              306 core/string.c    PN exist = potion_lookup_str(P, PN_STR_PTR(self = potion_fwd(self)));</span>
<span class='curline'><a href='../S/149.html#L308'>self</a>              308 core/string.c      PN_SIZE len = PN_STR_LEN(self);</span>
<span class='curline'><a href='../S/149.html#L311'>self</a>              311 core/string.c      PN_MEMCPY_N(s-&gt;chars, PN_STR_PTR(self), char, len + 1);</span>
<span class='curline'><a href='../S/149.html#L320'>self</a>              320 core/string.c  static PN potion_bytes_print(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/149.html#L321'>self</a>              321 core/string.c    self = potion_fwd(self);</span>
<span class='curline'><a href='../S/149.html#L322'>self</a>              322 core/string.c    fwrite(PN_STR_PTR(self), 1, PN_STR_LEN(self), stdout);</span>
<span class='curline'><a href='../S/149.html#L330'>self</a>              330 core/string.c  static PN potion_bytes_each(Potion *P, PN cl, PN self, PN block) {</span>
<span class='curline'><a href='../S/149.html#L331'>self</a>              331 core/string.c    self = potion_fwd(self);</span>
<span class='curline'><a href='../S/149.html#L332'>self</a>              332 core/string.c    char *s = PN_STR_PTR(self);</span>
<span class='curline'><a href='../S/149.html#L334'>self</a>              334 core/string.c    for (i = 0; i &lt; PN_STR_LEN(self); i++) {</span>
<span class='curline'><a href='../S/149.html#L344'>self</a>              344 core/string.c  static PN potion_bytes_at(Potion *P, PN cl, PN self, PN index) {</span>
<span class='curline'><a href='../S/149.html#L346'>self</a>              346 core/string.c    self = potion_fwd(self);</span>
<span class='curline'><a href='../S/149.html#L348'>self</a>              348 core/string.c    if (index &gt;= PN_STR_LEN(self) || (signed long)index &lt; 0)</span>
<span class='curline'><a href='../S/149.html#L350'>self</a>              350 core/string.c    c = PN_STR_PTR(self)[index];</span>
<span class='curline'><a href='../S/150.html#L18'>self</a>               18 core/table.c   PN potion_table_string(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/150.html#L19'>self</a>               19 core/table.c     vPN(Table) t = (struct PNTable *)potion_fwd(self);</span>
<span class='curline'><a href='../S/150.html#L41'>self</a>               41 core/table.c   PN potion_table_cast(Potion *P, PN self) {</span>
<span class='curline'><a href='../S/150.html#L42'>self</a>               42 core/table.c     if (PN_IS_TUPLE(self)) {</span>
<span class='curline'><a href='../S/150.html#L45'>self</a>               45 core/table.c       PN_TUPLE_EACH(self, i, v, {</span>
<span class='curline'><a href='../S/150.html#L50'>self</a>               50 core/table.c       ((struct PNFwd *)self)-&gt;fwd = POTION_FWD;</span>
<span class='curline'><a href='../S/150.html#L51'>self</a>               51 core/table.c       ((struct PNFwd *)self)-&gt;siz = potion_type_size(P, (const struct PNObject *)self);</span>
<span class='curline'><a href='../S/150.html#L52'>self</a>               52 core/table.c       ((struct PNFwd *)self)-&gt;ptr = (PN)t;</span>
<span class='curline'><a href='../S/150.html#L53'>self</a>               53 core/table.c       PN_TOUCH(self);</span>
<span class='curline'><a href='../S/150.html#L54'>self</a>               54 core/table.c       self = (PN)t;</span>
<span class='curline'><a href='../S/150.html#L56'>self</a>               56 core/table.c     return self;</span>
<span class='curline'><a href='../S/150.html#L63'>self</a>               63 core/table.c   PN potion_table_at(Potion *P, PN cl, PN self, PN key) {</span>
<span class='curline'><a href='../S/150.html#L64'>self</a>               64 core/table.c     vPN(Table) t = (struct PNTable *)potion_fwd(self);</span>
<span class='curline'><a href='../S/150.html#L74'>self</a>               74 core/table.c   PN potion_table_each(Potion *P, PN cl, PN self, PN block) {</span>
<span class='curline'><a href='../S/150.html#L75'>self</a>               75 core/table.c     vPN(Table) t = (struct PNTable *)potion_fwd(self);</span>
<span class='curline'><a href='../S/150.html#L81'>self</a>               81 core/table.c     return self;</span>
<span class='curline'><a href='../S/150.html#L89'>self</a>               89 core/table.c   PN potion_table_put(Potion *P, PN cl, PN self, PN key, PN value) {</span>
<span class='curline'><a href='../S/150.html#L91'>self</a>               91 core/table.c     vPN(Table) t = (struct PNTable *)potion_fwd(self);</span>
<span class='curline'><a href='../S/150.html#L95'>self</a>               95 core/table.c     PN_TOUCH(self);</span>
<span class='curline'><a href='../S/150.html#L96'>self</a>               96 core/table.c     return self;</span>
<span class='curline'><a href='../S/150.html#L103'>self</a>              103 core/table.c   PN potion_table_remove(Potion *P, PN cl, PN self, PN key) {</span>
<span class='curline'><a href='../S/150.html#L104'>self</a>              104 core/table.c     vPN(Table) t = (struct PNTable *)potion_fwd(self);</span>
<span class='curline'><a href='../S/150.html#L107'>self</a>              107 core/table.c     return self;</span>
<span class='curline'><a href='../S/150.html#L114'>self</a>              114 core/table.c   PN potion_table_set(Potion *P, PN self, PN key, PN value) {</span>
<span class='curline'><a href='../S/150.html#L115'>self</a>              115 core/table.c     self = potion_fwd(self);</span>
<span class='curline'><a href='../S/150.html#L116'>self</a>              116 core/table.c     return potion_table_put(P, PN_NIL, potion_table_cast(P, self), key, value);</span>
<span class='curline'><a href='../S/150.html#L122'>self</a>              122 core/table.c   PN potion_table_length(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/150.html#L123'>self</a>              123 core/table.c     vPN(Table) t = (struct PNTable *)potion_fwd(self);</span>
<span class='curline'><a href='../S/150.html#L163'>self</a>              163 core/table.c   PN potion_tuple_append(Potion *P, PN cl, PN self, PN value) {</span>
<span class='curline'><a href='../S/150.html#L164'>self</a>              164 core/table.c     return potion_tuple_push(P, self, value);</span>
<span class='curline'><a href='../S/150.html#L189'>self</a>              189 core/table.c   PN potion_tuple_at(Potion *P, PN cl, PN self, PN index) {</span>
<span class='curline'><a href='../S/150.html#L190'>self</a>              190 core/table.c     long i = PN_INT(index), len = PN_TUPLE_LEN(self);</span>
<span class='curline'><a href='../S/150.html#L193'>self</a>              193 core/table.c     return PN_TUPLE_AT(self, i);</span>
<span class='curline'><a href='../S/150.html#L199'>self</a>              199 core/table.c   PN potion_tuple_clone(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/150.html#L200'>self</a>              200 core/table.c     vPN(Tuple) t1 = PN_GET_TUPLE(self);</span>
<span class='curline'><a href='../S/150.html#L210'>self</a>              210 core/table.c   PN potion_tuple_each(Potion *P, PN cl, PN self, PN block) {</span>
<span class='curline'><a href='../S/150.html#L212'>self</a>              212 core/table.c     PN_TUPLE_EACH(self, i, v, {</span>
<span class='curline'><a href='../S/150.html#L218'>self</a>              218 core/table.c     return self;</span>
<span class='curline'><a href='../S/150.html#L224'>self</a>              224 core/table.c   PN potion_tuple_first(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/150.html#L225'>self</a>              225 core/table.c     if (PN_TUPLE_LEN(self) &lt; 1) return PN_NIL;</span>
<span class='curline'><a href='../S/150.html#L226'>self</a>              226 core/table.c     return PN_TUPLE_AT(self, 0);</span>
<span class='curline'><a href='../S/150.html#L233'>self</a>              233 core/table.c   PN potion_tuple_join(Potion *P, PN cl, PN self, PN sep) {</span>
<span class='curline'><a href='../S/150.html#L235'>self</a>              235 core/table.c     PN_TUPLE_EACH(self, i, v, {</span>
<span class='curline'><a href='../S/150.html#L245'>self</a>              245 core/table.c   PN potion_tuple_last(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/150.html#L246'>self</a>              246 core/table.c     long len = PN_TUPLE_LEN(self);</span>
<span class='curline'><a href='../S/150.html#L248'>self</a>              248 core/table.c     return PN_TUPLE_AT(self, len - 1);</span>
<span class='curline'><a href='../S/150.html#L254'>self</a>              254 core/table.c   PN potion_tuple_string(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/150.html#L257'>self</a>              257 core/table.c     PN_TUPLE_EACH(self, i, v, {</span>
<span class='curline'><a href='../S/150.html#L263'>self</a>              263 core/table.c     licks = (licks &gt; 0 &amp;&amp; licks == PN_TUPLE_LEN(self));</span>
<span class='curline'><a href='../S/150.html#L272'>self</a>              272 core/table.c   PN potion_tuple_pop(Potion *P, PN cl, PN self, PN key) {</span>
<span class='curline'><a href='../S/150.html#L273'>self</a>              273 core/table.c     vPN(Tuple) t = PN_GET_TUPLE(self);</span>
<span class='curline'><a href='../S/150.html#L277'>self</a>              277 core/table.c     PN_TOUCH(self);</span>
<span class='curline'><a href='../S/150.html#L286'>self</a>              286 core/table.c   PN potion_tuple_put(Potion *P, PN cl, PN self, PN key, PN value) {</span>
<span class='curline'><a href='../S/150.html#L288'>self</a>              288 core/table.c       long i = PN_INT(key), len = PN_TUPLE_LEN(self);</span>
<span class='curline'><a href='../S/150.html#L291'>self</a>              291 core/table.c         PN_TUPLE_AT(self, i) = value;</span>
<span class='curline'><a href='../S/150.html#L292'>self</a>              292 core/table.c         PN_TOUCH(self);</span>
<span class='curline'><a href='../S/150.html#L293'>self</a>              293 core/table.c         return self;</span>
<span class='curline'><a href='../S/150.html#L295'>self</a>              295 core/table.c         return potion_tuple_push(P, self, value);</span>
<span class='curline'><a href='../S/150.html#L297'>self</a>              297 core/table.c     return potion_table_put(P, PN_NIL, potion_table_cast(P, self), key, value);</span>
<span class='curline'><a href='../S/150.html#L303'>self</a>              303 core/table.c   PN potion_tuple_print(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/150.html#L304'>self</a>              304 core/table.c     PN_TUPLE_EACH(self, i, v, {</span>
<span class='curline'><a href='../S/150.html#L313'>self</a>              313 core/table.c   PN potion_tuple_length(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/150.html#L314'>self</a>              314 core/table.c     return PN_NUM(PN_TUPLE_LEN(self));</span>
<span class='curline'><a href='../S/150.html#L320'>self</a>              320 core/table.c   PN potion_tuple_reverse(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/150.html#L321'>self</a>              321 core/table.c     unsigned long len = PN_TUPLE_LEN(self);</span>
<span class='curline'><a href='../S/150.html#L324'>self</a>              324 core/table.c     PN_TUPLE_EACH(self, i, x, {</span>
<span class='curline'><a href='../S/150.html#L333'>self</a>              333 core/table.c   long potion_tuple_binary_search(PN self, PN x) {</span>
<span class='curline'><a href='../S/150.html#L334'>self</a>              334 core/table.c     struct PNTuple *t = PN_GET_TUPLE(self);</span>
<span class='curline'><a href='../S/150.html#L353'>self</a>              353 core/table.c   void potion_tuple_ins_sort(PN self) {</span>
<span class='curline'><a href='../S/150.html#L354'>self</a>              354 core/table.c     struct PNTuple *t = PN_GET_TUPLE(self);</span>
<span class='curline'><a href='../S/150.html#L370'>self</a>              370 core/table.c   PN potion_lobby_list(Potion *P, PN cl, PN self, PN size) {</span>
<span class='curline'><a href='../S/152.html#L67'>self</a>               67 core/vm.c      PN potion_vm_proto(Potion *P, PN cl, PN self, ...) {</span>
<span class='curline'><a href='../S/152.html#L72'>self</a>               72 core/vm.c          va_start(args, self);</span>
<span class='curline'><a href='../S/152.html#L80'>self</a>               80 core/vm.c        return potion_vm(P, (PN)f, self, ary,</span>
<span class='curline'><a href='../S/152.html#L84'>self</a>               84 core/vm.c      PN potion_vm_class(Potion *P, PN cl, PN self) {</span>
<span class='curline'><a href='../S/152.html#L91'>self</a>               91 core/vm.c          return potion_class(P, cl, self, ivars);</span>
<span class='curline'><a href='../S/152.html#L94'>self</a>               94 core/vm.c        return potion_class(P, PN_NIL, self, cl);</span>
<span class='curline'><a href='../S/152.html#L236'>self</a>              236 core/vm.c      PN potion_vm(Potion *P, PN proto, PN self, PN vargs, PN_SIZE upc, PN *upargs) {</span>
<span class='curline'><a href='../S/152.html#L262'>self</a>              262 core/vm.c          reg[-1] = reg[0] = self;</span>
<span class='curline'><a href='../S/152.html#L447'>self</a>              447 core/vm.c                    self = reg[op.a + 1];</span>
<span class='curline'><a href='../S/112.html#L6'>self</a>                6 lib/readline/readline.c PN pn_readline(Potion *P, PN cl, PN self, PN start) {</span>
</pre>
</body>
</html>
