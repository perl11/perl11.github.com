<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>PN_S</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.7' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/9.html#L38'>PN_S</a>               38 core/ast.h           if (PN_PART(endname) == AST_EXPR) endname = PN_TUPLE_AT(PN_S(endname, 0), 0); \</span>
<span class='curline'><a href='../S/9.html#L40'>PN_S</a>               40 core/ast.h             endname = PN_S(endname, 0); \</span>
<span class='curline'><a href='../S/11.html#L190'>PN_S</a>              190 core/compile.c   if (PN_PART(t-&gt;a[n]) == AST_LIST &amp;&amp; PN_PART(PN_TUPLE_AT(PN_S(t-&gt;a[n],0), 0)) == AST_EXPR) { \</span>
<span class='curline'><a href='../S/11.html#L191'>PN_S</a>              191 core/compile.c     PN test = PN_S(PN_TUPLE_AT(PN_S(t-&gt;a[n],0), 0), 0);			\</span>
<span class='curline'><a href='../S/11.html#L202'>PN_S</a>              202 core/compile.c   if (PN_PART(t-&gt;a[n]) == AST_EXPR &amp;&amp; PN_PART(PN_TUPLE_AT(PN_S(t-&gt;a[n],0), 0)) == AST_LIST) { \</span>
<span class='curline'><a href='../S/11.html#L203'>PN_S</a>              203 core/compile.c     PN test = PN_S(PN_TUPLE_AT(PN_S(t-&gt;a[n],0), 0), 0);			\</span>
<span class='curline'><a href='../S/11.html#L256'>PN_S</a>              256 core/compile.c #define SRC_TUPLE_AT(src,i)  PN_SRC(PN_TUPLE_AT(PN_S(src,0), i))</span>
<span class='curline'><a href='../S/11.html#L287'>PN_S</a>              287 core/compile.c       args = PN_S(args,0);</span>
<span class='curline'><a href='../S/11.html#L295'>PN_S</a>              295 core/compile.c               vPN(Source) lhs = PN_SRC(PN_S(v,0));</span>
<span class='curline'><a href='../S/11.html#L297'>PN_S</a>              297 core/compile.c               if (lhs-&gt;part == AST_EXPR &amp;&amp; PN_TUPLE_LEN(PN_S(lhs,0)) == 1)</span>
<span class='curline'><a href='../S/11.html#L302'>PN_S</a>              302 core/compile.c                   PN_OP op; op.a = PN_S(lhs,0); //12 bit!</span>
<span class='curline'><a href='../S/11.html#L303'>PN_S</a>              303 core/compile.c                   if (!PN_IS_PTR(PN_S(lhs,0)) &amp;&amp; PN_S(lhs,0) == op.a) {</span>
<span class='curline'><a href='../S/11.html#L304'>PN_S</a>              304 core/compile.c                     PN_ASM2(OP_LOADPN, sreg, PN_S(lhs,0));</span>
<span class='curline'><a href='../S/11.html#L306'>PN_S</a>              306 core/compile.c                     PN_SIZE num = PN_PUT(f-&gt;values, PN_S(lhs,0));</span>
<span class='curline'><a href='../S/11.html#L344'>PN_S</a>              344 core/compile.c       if (PN_S(t,0) != PN_NIL) {</span>
<span class='curline'><a href='../S/11.html#L346'>PN_S</a>              346 core/compile.c 	      t-&gt;part == AST_CODE?"":AS_STR(PN_S(t,0)));</span>
<span class='curline'><a href='../S/11.html#L347'>PN_S</a>              347 core/compile.c         PN_TUPLE_EACH(PN_S(t,0), i, v, {</span>
<span class='curline'><a href='../S/11.html#L354'>PN_S</a>              354 core/compile.c       if (PN_S(t,0) != PN_NIL) {</span>
<span class='curline'><a href='../S/11.html#L355'>PN_S</a>              355 core/compile.c 	PN e = PN_S(t,0);</span>
<span class='curline'><a href='../S/11.html#L364'>PN_S</a>              364 core/compile.c       PN_BLOCK(reg, PN_S(t,1), PN_S(t,0));</span>
<span class='curline'><a href='../S/11.html#L369'>PN_S</a>              369 core/compile.c       PN_OP op; op.a = PN_S(t,0); // but 12bit only</span>
<span class='curline'><a href='../S/11.html#L371'>PN_S</a>              371 core/compile.c         PN_ASM2(OP_LOADPN, reg, PN_S(t,0));</span>
<span class='curline'><a href='../S/11.html#L375'>PN_S</a>              375 core/compile.c         PN tpl = PN_S(msg, 0);</span>
<span class='curline'><a href='../S/11.html#L379'>PN_S</a>              379 core/compile.c         PN key = PN_S(PN_TUPLE_AT(a-&gt;a[1]-&gt;a[0], 0), 0);</span>
<span class='curline'><a href='../S/11.html#L396'>PN_S</a>              396 core/compile.c           PN k = PN_S(key, 0);</span>
<span class='curline'><a href='../S/11.html#L424'>PN_S</a>              424 core/compile.c       if (PN_S(t,1) != PN_NIL &amp;&amp; a-&gt;part != AST_LICK) {</span>
<span class='curline'><a href='../S/11.html#L427'>PN_S</a>              427 core/compile.c         PN_ARG_TABLE(PN_S(t,1), breg, 1);</span>
<span class='curline'><a href='../S/11.html#L428'>PN_S</a>              428 core/compile.c         if (PN_S(t,2) != PN_NIL) {</span>
<span class='curline'><a href='../S/11.html#L430'>PN_S</a>              430 core/compile.c           PN_BLOCK(breg, PN_S(t,2), PN_NIL);</span>
<span class='curline'><a href='../S/11.html#L445'>PN_S</a>              445 core/compile.c         c = PN_TUPLE_LEN(PN_S(lhs,0)) - 1;</span>
<span class='curline'><a href='../S/11.html#L456'>PN_S</a>              456 core/compile.c         char first_letter = PN_STR_PTR(PN_S(lhs,0))[0];</span>
<span class='curline'><a href='../S/11.html#L459'>PN_S</a>              459 core/compile.c 	      AS_STR(PN_S(lhs,0)));</span>
<span class='curline'><a href='../S/11.html#L463'>PN_S</a>              463 core/compile.c           num = PN_PUT(f-&gt;values, PN_S(lhs,0));</span>
<span class='curline'><a href='../S/11.html#L471'>PN_S</a>              471 core/compile.c           num = PN_UPVAL(PN_S(lhs,0));</span>
<span class='curline'><a href='../S/11.html#L473'>PN_S</a>              473 core/compile.c             num = PN_PUT(f-&gt;locals, PN_S(lhs,0));</span>
<span class='curline'><a href='../S/11.html#L479'>PN_S</a>              479 core/compile.c 	      PN fname = PN_S(lhs,0);</span>
<span class='curline'><a href='../S/11.html#L486'>PN_S</a>              486 core/compile.c           num = PN_PUT(f-&gt;values, PN_S(lhs,0));</span>
<span class='curline'><a href='../S/11.html#L494'>PN_S</a>              494 core/compile.c         num = PN_PUT(f-&gt;values, PN_S(lhs,0));</span>
<span class='curline'><a href='../S/11.html#L513'>PN_S</a>              513 core/compile.c         PN_ARG_TABLE(PN_S(lhs,1), breg, 1);</span>
<span class='curline'><a href='../S/11.html#L551'>PN_S</a>              551 core/compile.c       PN_SIZE num = PN_UPVAL(PN_S(lhs,0));</span>
<span class='curline'><a href='../S/11.html#L554'>PN_S</a>              554 core/compile.c         num = PN_PUT(f-&gt;locals, PN_S(lhs,0));</span>
<span class='curline'><a href='../S/11.html#L563'>PN_S</a>              563 core/compile.c       if (PN_IS_INT(PN_S(t,1))) {</span>
<span class='curline'><a href='../S/11.html#L567'>PN_S</a>              567 core/compile.c       PN_ASM2(OP_LOADPN, breg + 1, (PN_S(t,1) | PN_FINTEGER));</span>
<span class='curline'><a href='../S/11.html#L619'>PN_S</a>              619 core/compile.c       int arg = (PN_S(t,1) != PN_NIL);</span>
<span class='curline'><a href='../S/11.html#L620'>PN_S</a>              620 core/compile.c       int call = (PN_S(t,2) != PN_NIL || arg);</span>
<span class='curline'><a href='../S/11.html#L623'>PN_S</a>              623 core/compile.c       if (t-&gt;part == AST_MSG &amp;&amp; PN_S(t,0) == PN_use) {</span>
<span class='curline'><a href='../S/11.html#L625'>PN_S</a>              625 core/compile.c         PN use = PN_TUPLE_AT(PN_S(t,1), 0);</span>
<span class='curline'><a href='../S/11.html#L626'>PN_S</a>              626 core/compile.c         PN name = PN_TUPLE_AT(PN_S(t,1), 1);</span>
<span class='curline'><a href='../S/11.html#L627'>PN_S</a>              627 core/compile.c         PN list = potion_tuple_at(P,0,PN_S(t,1),2);</span>
<span class='curline'><a href='../S/11.html#L636'>PN_S</a>              636 core/compile.c       if (t-&gt;part == AST_MSG &amp;&amp; PN_S(t,0) == PN_if) {</span>
<span class='curline'><a href='../S/11.html#L652'>PN_S</a>              652 core/compile.c           ifconst = PN_S(t-&gt;a[1], 0);</span>
<span class='curline'><a href='../S/11.html#L661'>PN_S</a>              661 core/compile.c           PN_ARG_TABLE(PN_S(t,1), breg, 0);</span>
<span class='curline'><a href='../S/11.html#L667'>PN_S</a>              667 core/compile.c       } else if (t-&gt;part == AST_MSG &amp;&amp; PN_S(t,0) == PN_elsif) {</span>
<span class='curline'><a href='../S/11.html#L686'>PN_S</a>              686 core/compile.c           ifconst = PN_S(t-&gt;a[1], 0);</span>
<span class='curline'><a href='../S/11.html#L696'>PN_S</a>              696 core/compile.c           PN_ARG_TABLE(PN_S(t,1), breg, 0);</span>
<span class='curline'><a href='../S/11.html#L703'>PN_S</a>              703 core/compile.c       } else if (t-&gt;part == AST_MSG &amp;&amp; PN_S(t,0) == PN_else) {</span>
<span class='curline'><a href='../S/11.html#L733'>PN_S</a>              733 core/compile.c       } else if (t-&gt;part == AST_MSG &amp;&amp; PN_S(t,0) == PN_class) {</span>
<span class='curline'><a href='../S/11.html#L737'>PN_S</a>              737 core/compile.c         if (PN_S(t,2) != PN_NIL) {</span>
<span class='curline'><a href='../S/11.html#L740'>PN_S</a>              740 core/compile.c           if (PN_S(blk, 0) == PN_NIL)</span>
<span class='curline'><a href='../S/11.html#L742'>PN_S</a>              742 core/compile.c           PN ctor = PN_S(blk, 0);</span>
<span class='curline'><a href='../S/11.html#L747'>PN_S</a>              747 core/compile.c           PN_BLOCK(breg, (PN)blk, PN_S(t,1));</span>
<span class='curline'><a href='../S/11.html#L751'>PN_S</a>              751 core/compile.c       } else if (t-&gt;part == AST_MSG &amp;&amp; PN_S(t,0) == PN_extern) { // ffi</span>
<span class='curline'><a href='../S/11.html#L754'>PN_S</a>              754 core/compile.c         PN msg = PN_S(t,1);</span>
<span class='curline'><a href='../S/11.html#L755'>PN_S</a>              755 core/compile.c 	char *name = PN_STR_PTR(PN_S(PN_TUPLE_AT(msg,0),0));</span>
<span class='curline'><a href='../S/11.html#L772'>PN_S</a>              772 core/compile.c           cl-&gt;name = PN_S(PN_TUPLE_AT(msg,0),0);</span>
<span class='curline'><a href='../S/11.html#L802'>PN_S</a>              802 core/compile.c       } else if (t-&gt;part == AST_MSG &amp;&amp; (PN_S(t,0) == PN_while || PN_S(t,0) == PN_loop)) {</span>
<span class='curline'><a href='../S/11.html#L806'>PN_S</a>              806 core/compile.c         if (PN_S(t,0) == PN_while) {</span>
<span class='curline'><a href='../S/11.html#L807'>PN_S</a>              807 core/compile.c           PN_ARG_TABLE(PN_S(t,1), breg, 0);</span>
<span class='curline'><a href='../S/11.html#L810'>PN_S</a>              810 core/compile.c         } else if (PN_S(t,1) || !t-&gt;a[2]) {</span>
<span class='curline'><a href='../S/11.html#L816'>PN_S</a>              816 core/compile.c           if (PN_S(t,0) == PN_while)</span>
<span class='curline'><a href='../S/11.html#L823'>PN_S</a>              823 core/compile.c         if (PN_S(t,0) == PN_while) {</span>
<span class='curline'><a href='../S/11.html#L832'>PN_S</a>              832 core/compile.c       } else if (t-&gt;part == AST_MSG &amp;&amp; PN_S(t,0) == PN_return) {</span>
<span class='curline'><a href='../S/11.html#L835'>PN_S</a>              835 core/compile.c         PN_ARG_TABLE(PN_S(t,1), reg, 0);</span>
<span class='curline'><a href='../S/11.html#L837'>PN_S</a>              837 core/compile.c       } else if (t-&gt;part == AST_MSG &amp;&amp; PN_S(t,0) == PN_break) {</span>
<span class='curline'><a href='../S/11.html#L844'>PN_S</a>              844 core/compile.c       } else if (t-&gt;part == AST_MSG &amp;&amp; PN_S(t,0) == PN_continue) {</span>
<span class='curline'><a href='../S/11.html#L851'>PN_S</a>              851 core/compile.c       } else if (t-&gt;part == AST_MSG &amp;&amp; PN_S(t,0) == PN_self) {</span>
<span class='curline'><a href='../S/11.html#L858'>PN_S</a>              858 core/compile.c         PN v = PN_S(t,0);</span>
<span class='curline'><a href='../S/11.html#L868'>PN_S</a>              868 core/compile.c         if (num == PN_NONE &amp;&amp; PN_S(t,0) != PN_NIL) {</span>
<span class='curline'><a href='../S/11.html#L871'>PN_S</a>              871 core/compile.c           num = PN_PUT(f-&gt;values, PN_S(t,0));</span>
<span class='curline'><a href='../S/11.html#L879'>PN_S</a>              879 core/compile.c           if (PN_S(t,2) != PN_NIL &amp;&amp; (PN_PART(PN_S(t,2)) == AST_MSG)) {</span>
<span class='curline'><a href='../S/11.html#L883'>PN_S</a>              883 core/compile.c             num = PN_PUT(f-&gt;values, PN_S(t2,0));</span>
<span class='curline'><a href='../S/11.html#L887'>PN_S</a>              887 core/compile.c             PN_ASM2(((PN_S(t,1) != PN_NIL || PN_S(t,2) != PN_NIL) ? OP_MSG : OP_BIND), reg, breg);</span>
<span class='curline'><a href='../S/11.html#L889'>PN_S</a>              889 core/compile.c           if (t-&gt;part == AST_QUERY &amp;&amp; PN_S(t,1) != PN_NIL) {</span>
<span class='curline'><a href='../S/11.html#L893'>PN_S</a>              893 core/compile.c #define LOAD_ARG() PN_ARG_TABLE(PN_S(t,1), breg, 1)</span>
<span class='curline'><a href='../S/11.html#L895'>PN_S</a>              895 core/compile.c             u8 part1 = PN_PART(PN_S(t,1));</span>
<span class='curline'><a href='../S/11.html#L896'>PN_S</a>              896 core/compile.c             if (part1 == AST_VALUE || (part1 == AST_LIST &amp;&amp; PN_S(t,2) == PN_NIL)) {</span>
<span class='curline'><a href='../S/11.html#L900'>PN_S</a>              900 core/compile.c           if (PN_S(t,2) != PN_NIL &amp;&amp; (PN_PART(PN_S(t,2)) == AST_PROTO)) {</span>
<span class='curline'><a href='../S/11.html#L903'>PN_S</a>              903 core/compile.c             PN_BLOCK(breg, PN_S(t2,1), PN_S(t2,0));</span>
<span class='curline'><a href='../S/11.html#L905'>PN_S</a>              905 core/compile.c             if (PN_S(t,1) == PN_NIL &amp;&amp; PN_S(t,2) == PN_NIL)</span>
<span class='curline'><a href='../S/11.html#L907'>PN_S</a>              907 core/compile.c             if (PN_S(t,2) != PN_NIL &amp;&amp; PN_PART(PN_S(t,2)) == AST_BLOCK) {</span>
<span class='curline'><a href='../S/11.html#L909'>PN_S</a>              909 core/compile.c               PN_BLOCK(breg, PN_S(t,2), PN_S(t,1));</span>
<span class='curline'><a href='../S/11.html#L917'>PN_S</a>              917 core/compile.c             if (PN_S(t,1) != PN_NIL) {</span>
<span class='curline'><a href='../S/11.html#L930'>PN_S</a>              930 core/compile.c             PN_ARG_TABLE(PN_S(t,1), breg, 1);</span>
<span class='curline'><a href='../S/11.html#L931'>PN_S</a>              931 core/compile.c             if (PN_S(t,2) != PN_NIL) {</span>
<span class='curline'><a href='../S/11.html#L933'>PN_S</a>              933 core/compile.c               PN_BLOCK(breg, PN_S(t,2), PN_NIL);</span>
<span class='curline'><a href='../S/11.html#L946'>PN_S</a>              946 core/compile.c       PN_SIZE num = PN_PUT(f-&gt;values, PN_S(t,0));</span>
<span class='curline'><a href='../S/11.html#L963'>PN_S</a>              963 core/compile.c       PN_SIZE num = PN_PUT(f-&gt;values, PN_S(t,0));</span>
<span class='curline'><a href='../S/11.html#L966'>PN_S</a>              966 core/compile.c       if (PN_S(t,1) != PN_NIL)</span>
<span class='curline'><a href='../S/11.html#L968'>PN_S</a>              968 core/compile.c       else if (PN_S(t,2) != PN_NIL)</span>
<span class='curline'><a href='../S/11.html#L970'>PN_S</a>              970 core/compile.c       if (PN_S(t,2) != PN_NIL)</span>
<span class='curline'><a href='../S/11.html#L979'>PN_S</a>              979 core/compile.c       if (PN_S(t,0) != PN_NIL) {</span>
<span class='curline'><a href='../S/11.html#L980'>PN_S</a>              980 core/compile.c         PN_TUPLE_EACH(PN_S(t,0), i, v, {</span>
<span class='curline'><a href='../S/11.html#L983'>PN_S</a>              983 core/compile.c 	    vPN(Source) lhs = PN_SRC(PN_S(v,0));</span>
<span class='curline'><a href='../S/11.html#L984'>PN_S</a>              984 core/compile.c             if (lhs-&gt;part == AST_EXPR &amp;&amp; PN_TUPLE_LEN(PN_S(lhs,0)) == 1)</span>
<span class='curline'><a href='../S/11.html#L989'>PN_S</a>              989 core/compile.c                 PN_SIZE num = PN_PUT(f-&gt;values, PN_S(lhs,0));</span>
<span class='curline'><a href='../S/11.html#L1017'>PN_S</a>             1017 core/compile.c       name = PN_S(t,0);				\</span>
<span class='curline'><a href='../S/11.html#L1048'>PN_S</a>             1048 core/compile.c   PN sig = PN_S(t,0);</span>
<span class='curline'><a href='../S/11.html#L1059'>PN_S</a>             1059 core/compile.c   if (t-&gt;part == AST_LIST &amp;&amp; PN_S(t,0) != PN_NIL) {</span>
<span class='curline'><a href='../S/11.html#L1061'>PN_S</a>             1061 core/compile.c     ({ struct PNTuple * volatile __tv = ((struct PNTuple *)potion_fwd(PN_S(t,0)));</span>
<span class='curline'><a href='../S/11.html#L1073'>PN_S</a>             1073 core/compile.c 	PN v = PN_S(lhs,0);</span>
<span class='curline'><a href='../S/11.html#L1094'>PN_S</a>             1094 core/compile.c         if (lhs-&gt;part == AST_EXPR &amp;&amp; PN_TUPLE_LEN(PN_S(lhs,0)) == 1) {</span>
<span class='curline'><a href='../S/11.html#L1111'>PN_S</a>             1111 core/compile.c 	    PN v = PN_NUM(PN_STR_PTR(PN_S(rhs,0))[0]); // = type. TODO: one-char =&gt; VTABLE</span>
<span class='curline'><a href='../S/11.html#L1127'>PN_S</a>             1127 core/compile.c             PN v = PN_S(SRC_TUPLE_AT(rhs,0),0);</span>
<span class='curline'><a href='../S/11.html#L1133'>PN_S</a>             1133 core/compile.c 	  PN v = PN_S(rhs,0);</span>
<span class='curline'><a href='../S/30.html#L371'>PN_S</a>              371 core/syntax.y                          { SRC_TPL3(n, PN_NUM(':'), PN_S(d,0)) }</span>
<span class='curline'><a href='../S/106.html#L171'>PN_S</a>              171 syn/syntax-p5.y           { PN s1 = PN_TUP0(); PN_TUPLE_EACH(PN_S(l,0), i, v, {</span>
<span class='curline'><a href='../S/106.html#L173'>PN_S</a>              173 syn/syntax-p5.y             s1 = PN_PUSH(s1, PN_AST2(ASSIGN, v, potion_tuple_at(P,0,PN_S(r,0),PN_NUM(i))));</span>
<span class='curline'><a href='../S/106.html#L176'>PN_S</a>              176 syn/syntax-p5.y           { PN s1 = PN_TUP0(); PN_TUPLE_EACH(PN_S(l,0), i, v, {</span>
<span class='curline'><a href='../S/106.html#L177'>PN_S</a>              177 syn/syntax-p5.y             s1 = PN_PUSH(s1, PN_AST2(ASSIGN, v, potion_tuple_at(P,0,PN_S(r,0),PN_NUM(i))));</span>
<span class='curline'><a href='../S/106.html#L248'>PN_S</a>              248 syn/syntax-p5.y     | c:call e:expr 		{ $$ = PN_AST(EXPR, PN_PUSH(PN_TUPIF(PN_S(e,0)),</span>
<span class='curline'><a href='../S/106.html#L250'>PN_S</a>              250 syn/syntax-p5.y     | c:call l:listexprs 	{ $$ = PN_SHIFT(PN_S(l,0));</span>
<span class='curline'><a href='../S/106.html#L251'>PN_S</a>              251 syn/syntax-p5.y             if (!PN_S(l, 0)) { PN_SRC(c)-&gt;a[1] = PN_SRC($$); }</span>
<span class='curline'><a href='../S/106.html#L544'>PN_S</a>              544 syn/syntax-p5.y                         { SRC_TPL3(n, PN_NUM(':'), PN_S(d,0)) }</span>
<span class='curline'><a href='../S/106.html#L567'>PN_S</a>              567 syn/syntax-p5.y      | n:arg2-name - assign d:value			{ SRC_TPL3(n,PN_NUM(':'), PN_S(d,0)) }</span>
<span class='curline'><a href='../S/107.html#L370'>PN_S</a>              370 syn/syntax.y                           { SRC_TPL3(n, PN_NUM(':'), PN_S(d,0)) }</span>
</pre>
</body>
</html>
