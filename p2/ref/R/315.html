<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>PN_AST</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.7' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/8.html#L39'>PN_AST</a>             39 core/ast.c       t-&gt;part = (enum PN_AST)p;</span>
<span class='curline'><a href='../S/11.html#L741'>PN_AST</a>            741 core/compile.c             blk-&gt;a[0] = PN_SRC(PN_AST(CODE, PN_NIL, blk-&gt;loc.lineno, blk-&gt;line));</span>
<span class='curline'><a href='../S/11.html#L743'>PN_AST</a>            743 core/compile.c           PN_PUSH(ctor, PN_AST(EXPR, PN_TUP(PN_AST(MSG,</span>
<span class='curline'><a href='../S/27.html#L435'>PN_AST</a>            435 core/potion.h    enum PN_AST part;     ///&lt; AST type, avoid -Wswitch (aligned access: 4+4+8+4+24)</span>
<span class='curline'><a href='../S/30.html#L61'>PN_AST</a>             61 core/syntax.y  potion = -- s:statements end-of-file { $$ = P-&gt;source = PN_AST(CODE, s) }</span>
<span class='curline'><a href='../S/30.html#L133'>PN_AST</a>            133 core/syntax.y  expr = ( not a:expr           { a = PN_AST(NOT, a) }</span>
<span class='curline'><a href='../S/30.html#L134'>PN_AST</a>            134 core/syntax.y         | wavy a:expr          { a = PN_AST(WAVY, a) }</span>
<span class='curline'><a href='../S/30.html#L135'>PN_AST</a>            135 core/syntax.y         | minus !minus a:atom  { a = PN_OP(AST_MINUS, PN_AST(VALUE, PN_ZERO), a) }</span>
<span class='curline'><a href='../S/30.html#L136'>PN_AST</a>            136 core/syntax.y         | plus !plus a:atom    { a = PN_OP(AST_PLUS, PN_AST(VALUE, PN_ZERO), a) }</span>
<span class='curline'><a href='../S/30.html#L142'>PN_AST</a>            142 core/syntax.y         { $$ = PN_AST(EXPR, a) }</span>
<span class='curline'><a href='../S/30.html#L147'>PN_AST</a>            147 core/syntax.y         (v:value | v:list) { n = PN_AST(MSG, PN_NIL); b = PN_NIL; } b:block?)</span>
<span class='curline'><a href='../S/30.html#L155'>PN_AST</a>            155 core/syntax.y  name = p:path           { $$ = PN_AST(PATH, p) }</span>
<span class='curline'><a href='../S/30.html#L156'>PN_AST</a>            156 core/syntax.y       | quiz ( m:msg -   { $$ = PN_AST(QUERY, m) }</span>
<span class='curline'><a href='../S/30.html#L157'>PN_AST</a>            157 core/syntax.y              | p:path    { $$ = PN_AST(PATHQ, p) })</span>
<span class='curline'><a href='../S/30.html#L158'>PN_AST</a>            158 core/syntax.y       | t:tuple -        { $$ = PN_AST(VALUE, t) } # like a lick, but only a arrayref</span>
<span class='curline'><a href='../S/30.html#L160'>PN_AST</a>            160 core/syntax.y         m:msg -          { $$ = PN_AST(MSG, m) }</span>
<span class='curline'><a href='../S/30.html#L171'>PN_AST</a>            171 core/syntax.y            | m:msg -         { $$ = PN_AST(LICK, m) }</span>
<span class='curline'><a href='../S/30.html#L172'>PN_AST</a>            172 core/syntax.y            | v:loose -       { $$ = PN_AST(LICK, v) }</span>
<span class='curline'><a href='../S/30.html#L175'>PN_AST</a>            175 core/syntax.y        | v:unquoted { $$ = PN_AST(VALUE, v) }</span>
<span class='curline'><a href='../S/30.html#L178'>PN_AST</a>            178 core/syntax.y  list  = list-start s:statements list-end   { $$ = PN_AST(LIST, s) }</span>
<span class='curline'><a href='../S/30.html#L179'>PN_AST</a>            179 core/syntax.y  block = block-start s:statements block-end { $$ = PN_AST(BLOCK, s) }</span>
<span class='curline'><a href='../S/30.html#L180'>PN_AST</a>            180 core/syntax.y  lick  = lick-start i:lick-items lick-end   { $$ = PN_AST(LIST, i) }</span>
<span class='curline'><a href='../S/30.html#L181'>PN_AST</a>            181 core/syntax.y  group = group-start s:statements group-end { $$ = PN_AST(EXPR, s) }</span>
<span class='curline'><a href='../S/30.html#L182'>PN_AST</a>            182 core/syntax.y  tuple = m:msg l:lick  { $$ = PN_AST2(LICK, PN_AST(MSG, m), l) }</span>
<span class='curline'><a href='../S/30.html#L189'>PN_AST</a>            189 core/syntax.y  value = i:immed - { $$ = PN_AST(VALUE, i) }</span>
<span class='curline'><a href='../S/30.html#L190'>PN_AST</a>            190 core/syntax.y        | t:tuple - { $$ = PN_AST(VALUE, t) } # arrayref</span>
<span class='curline'><a href='../S/106.html#L72'>PN_AST</a>             72 syn/syntax-p5.y    { $$ = P-&gt;source = PN_AST(CODE, s);</span>
<span class='curline'><a href='../S/106.html#L79'>PN_AST</a>             79 syn/syntax-p5.y # block = '{' s:lineseq '}' { $$ = PN_AST(BLOCK, s) }</span>
<span class='curline'><a href='../S/106.html#L90'>PN_AST</a>             90 syn/syntax-p5.y     | i:ifstmt                { $$ = PN_AST(EXPR, i) }</span>
<span class='curline'><a href='../S/106.html#L95'>PN_AST</a>             95 syn/syntax-p5.y       { $$ = PN_OP(AST_AND, PN_AST(NOT, e), a) }</span>
<span class='curline'><a href='../S/106.html#L101'>PN_AST</a>            101 syn/syntax-p5.y       { $$ = PN_OP(AST_AND, PN_AST(NOT, e), a) }</span>
<span class='curline'><a href='../S/106.html#L107'>PN_AST</a>            107 syn/syntax-p5.y     | l:list sep?             { $$ = PN_AST(EXPR, l) }</span>
<span class='curline'><a href='../S/106.html#L128'>PN_AST</a>            128 syn/syntax-p5.y p5-siglist = list-start args2* list-end { $$ = PN_AST(LIST, P-&gt;source); P-&gt;source = PN_NIL }</span>
<span class='curline'><a href='../S/106.html#L131'>PN_AST</a>            131 syn/syntax-p5.y           { $$ = PN_AST2(ASSIGN, PN_AST(EXPR, PN_TUP(PN_AST(MSG, n))),</span>
<span class='curline'><a href='../S/106.html#L132'>PN_AST</a>            132 syn/syntax-p5.y                                  PN_AST(EXPR, PN_TUP(PN_AST2(PROTO, l, b)))) }</span>
<span class='curline'><a href='../S/106.html#L134'>PN_AST</a>            134 syn/syntax-p5.y           { $$ = PN_AST2(ASSIGN, PN_AST(EXPR, PN_TUP(PN_AST(MSG, n))),</span>
<span class='curline'><a href='../S/106.html#L135'>PN_AST</a>            135 syn/syntax-p5.y                                  PN_AST(EXPR, PN_TUP(PN_AST2(PROTO, PN_AST(LIST, PN_NIL), b)))) }</span>
<span class='curline'><a href='../S/106.html#L146'>PN_AST</a>            146 syn/syntax-p5.y         { p2_eval(P, PN_AST(BLOCK, PN_TUP(PN_AST2(MSG, PN_use, PN_AST(LIST, PN_PUSH(PN_TUP(u), v)))))) }</span>
<span class='curline'><a href='../S/106.html#L150'>PN_AST</a>            150 syn/syntax-p5.y         { p2_eval(P, PN_AST(BLOCK, PN_TUP(PN_AST2(MSG, PN_use, PN_AST(LIST, PN_PUSH(PN_TUP(u), n)))))) }</span>
<span class='curline'><a href='../S/106.html#L152'>PN_AST</a>            152 syn/syntax-p5.y         { p2_eval(P, PN_AST(BLOCK, PN_TUP(PN_AST2(MSG, PN_use, PN_AST(LIST, PN_PUSH(u,PN_PUSH(PN_PUSH(PN_TUP(u),n),l))))))) }</span>
<span class='curline'><a href='../S/106.html#L158'>PN_AST</a>            158 syn/syntax-p5.y        | IF e:ifexpr s1:block         { $$ = e = PN_AST3(MSG, PN_if, PN_AST(LIST, PN_TUP(e)), s1) }</span>
<span class='curline'><a href='../S/106.html#L159'>PN_AST</a>            159 syn/syntax-p5.y          (ELSIF e1:ifexpr f:block     { $$ = e = PN_PUSH(PN_TUPIF(e), PN_AST3(MSG, PN_elsif, PN_AST(LIST, PN_TUP(e1)), f)) } )*</span>
<span class='curline'><a href='../S/106.html#L174'>PN_AST</a>            174 syn/syntax-p5.y           }); $$ = PN_AST(EXPR, s1) }</span>
<span class='curline'><a href='../S/106.html#L178'>PN_AST</a>            178 syn/syntax-p5.y           }); $$ = PN_AST(EXPR, s1) }</span>
<span class='curline'><a href='../S/106.html#L243'>PN_AST</a>            243 syn/syntax-p5.y expr = c:method  	        { $$ = PN_AST(EXPR, c) }</span>
<span class='curline'><a href='../S/106.html#L246'>PN_AST</a>            246 syn/syntax-p5.y             $$ = PN_AST(EXPR, PN_TUP(m)) }</span>
<span class='curline'><a href='../S/106.html#L247'>PN_AST</a>            247 syn/syntax-p5.y     | c:calllist		{ $$ = PN_AST(EXPR, c) }</span>
<span class='curline'><a href='../S/106.html#L248'>PN_AST</a>            248 syn/syntax-p5.y     | c:call e:expr 		{ $$ = PN_AST(EXPR, PN_PUSH(PN_TUPIF(PN_S(e,0)),</span>
<span class='curline'><a href='../S/106.html#L254'>PN_AST</a>            254 syn/syntax-p5.y     | c:call			{ $$ = PN_AST(EXPR, c) }</span>
<span class='curline'><a href='../S/106.html#L257'>PN_AST</a>            257 syn/syntax-p5.y eatom = e:atom                  { $$ = PN_AST(EXPR, PN_TUPIF(e)) }</span>
<span class='curline'><a href='../S/106.html#L259'>PN_AST</a>            259 syn/syntax-p5.y opexpr = not e:expr		{ $$ = PN_AST(NOT, e) }</span>
<span class='curline'><a href='../S/106.html#L260'>PN_AST</a>            260 syn/syntax-p5.y     | bitnot e:expr		{ $$ = PN_AST(WAVY, e) }</span>
<span class='curline'><a href='../S/106.html#L261'>PN_AST</a>            261 syn/syntax-p5.y     | minus  e:expr		{ $$ = PN_OP(AST_MINUS, PN_AST(VALUE, PN_ZERO), e) }</span>
<span class='curline'><a href='../S/106.html#L273'>PN_AST</a>            273 syn/syntax-p5.y special = &lt; ( "foreach"|"for"|"while"|"class"|"if"|"elseif" ) &gt; - { $$ = PN_AST(MSG, PN_STRN(yytext, yyleng)) }</span>
<span class='curline'><a href='../S/106.html#L283'>PN_AST</a>            283 syn/syntax-p5.y            { PN_SRC(m)-&gt;a[1] = PN_SRC(PN_AST(LIST, PN_NIL)); $$ = PN_TUP(m) }</span>
<span class='curline'><a href='../S/106.html#L287'>PN_AST</a>            287 syn/syntax-p5.y            { PN_SRC(m)-&gt;a[1] = PN_SRC(PN_AST(LIST, l)); $$ = PN_TUP(m) }</span>
<span class='curline'><a href='../S/106.html#L294'>PN_AST</a>            294 syn/syntax-p5.y name = !keyword m:id -      { $$ = PN_AST(MSG, m) }</span>
<span class='curline'><a href='../S/106.html#L295'>PN_AST</a>            295 syn/syntax-p5.y      | !keyword m:funcvar - { $$ = PN_AST(MSG, m) }</span>
<span class='curline'><a href='../S/106.html#L307'>PN_AST</a>            307 syn/syntax-p5.y #          | m:msg         { $$ = PN_AST(LICK, m) }</span>
<span class='curline'><a href='../S/106.html#L310'>PN_AST</a>            310 syn/syntax-p5.y           | k:unquoted - fatcomma v:atom      { $$ = PN_AST2(ASSIGN, PN_AST(VALUE, k), v) }</span>
<span class='curline'><a href='../S/106.html#L317'>PN_AST</a>            317 syn/syntax-p5.y #      | v:unquoted { $$ = PN_AST(VALUE, v) }</span>
<span class='curline'><a href='../S/106.html#L321'>PN_AST</a>            321 syn/syntax-p5.y block = block-start s:statements - block-end  { $$ = PN_AST(BLOCK, s) }</span>
<span class='curline'><a href='../S/106.html#L322'>PN_AST</a>            322 syn/syntax-p5.y list = list-start s:listexprs - list-end      { $$ = PN_AST(LIST, s) }</span>
<span class='curline'><a href='../S/106.html#L323'>PN_AST</a>            323 syn/syntax-p5.y      | list-start list-end                    { $$ = PN_AST(LIST, PN_NIL) }</span>
<span class='curline'><a href='../S/106.html#L324'>PN_AST</a>            324 syn/syntax-p5.y listref = listref-start s:listexprs - listref-end { $$ = PN_AST(LIST, s) }</span>
<span class='curline'><a href='../S/106.html#L325'>PN_AST</a>            325 syn/syntax-p5.y      | listref-start listref-end              { $$ = PN_AST(LIST, PN_NIL) }</span>
<span class='curline'><a href='../S/106.html#L326'>PN_AST</a>            326 syn/syntax-p5.y hash = hash-start h:hash-items - hash-end     { $$ = PN_AST(LIST, h) }</span>
<span class='curline'><a href='../S/106.html#L327'>PN_AST</a>            327 syn/syntax-p5.y      | hash-start hash-end                    { $$ = PN_AST(LIST, PN_NIL) }</span>
<span class='curline'><a href='../S/106.html#L333'>PN_AST</a>            333 syn/syntax-p5.y mvalue = i:immed - { $$ = PN_AST(VALUE, i) }</span>
<span class='curline'><a href='../S/106.html#L339'>PN_AST</a>            339 syn/syntax-p5.y value = i:immed - { $$ = PN_AST(VALUE, i) }</span>
<span class='curline'><a href='../S/106.html#L362'>PN_AST</a>            362 syn/syntax-p5.y 	  { $$ = PN_AST(MSG, PN_STRCAT("$", PN_STR_PTR(i))) }</span>
<span class='curline'><a href='../S/106.html#L364'>PN_AST</a>            364 syn/syntax-p5.y 	  { $$ = PN_AST(MSG, i) }</span>
<span class='curline'><a href='../S/106.html#L368'>PN_AST</a>            368 syn/syntax-p5.y                    PN_AST(EXPR, PN_PUSH(PN_TUP(PN_AST(MSG, PN_STRCAT("@", PN_STR_PTR(l)))),</span>
<span class='curline'><a href='../S/106.html#L369'>PN_AST</a>            369 syn/syntax-p5.y 	                                       PN_AST(MSG, PN_STR("length")))),</span>
<span class='curline'><a href='../S/106.html#L370'>PN_AST</a>            370 syn/syntax-p5.y                    PN_AST(EXPR, PN_TUP(PN_AST(VALUE, PN_NUM(1))))) }</span>
<span class='curline'><a href='../S/106.html#L371'>PN_AST</a>            371 syn/syntax-p5.y listvar = &lt; '@' i:id &gt; - { $$ = PN_AST(MSG, PN_STRCAT("@", PN_STR_PTR(i))) }</span>
<span class='curline'><a href='../S/106.html#L372'>PN_AST</a>            372 syn/syntax-p5.y hashvar = &lt; '%' i:id &gt; - { $$ = PN_AST(MSG, PN_STRCAT("%", PN_STR_PTR(i))) }</span>
<span class='curline'><a href='../S/106.html#L373'>PN_AST</a>            373 syn/syntax-p5.y funcvar = &lt; '&amp;' i:id &gt; - { $$ = PN_AST(MSG, PN_STRCAT("&amp;", PN_STR_PTR(i))) }</span>
<span class='curline'><a href='../S/106.html#L374'>PN_AST</a>            374 syn/syntax-p5.y globvar = &lt; '*' i:id &gt; - { $$ = PN_AST(MSG, PN_STRCAT("*", PN_STR_PTR(i))) }</span>
<span class='curline'><a href='../S/106.html#L377'>PN_AST</a>            377 syn/syntax-p5.y 	                      PN_AST(LIST, PN_TUP(i))) }</span>
<span class='curline'><a href='../S/106.html#L380'>PN_AST</a>            380 syn/syntax-p5.y 	  { $$ = PN_AST2(MSG, PN_STR("@_"), PN_AST(LIST, PN_TUP(i))) }</span>
<span class='curline'><a href='../S/106.html#L383'>PN_AST</a>            383 syn/syntax-p5.y                               PN_AST(LIST, PN_TUP(k))) }</span>
<span class='curline'><a href='../S/107.html#L61'>PN_AST</a>             61 syn/syntax.y   potion = -- s:statements end-of-file { $$ = P-&gt;source = PN_AST(CODE, s) }</span>
<span class='curline'><a href='../S/107.html#L133'>PN_AST</a>            133 syn/syntax.y   expr = ( not a:expr           { a = PN_AST(NOT, a) }</span>
<span class='curline'><a href='../S/107.html#L134'>PN_AST</a>            134 syn/syntax.y          | wavy a:expr          { a = PN_AST(WAVY, a) }</span>
<span class='curline'><a href='../S/107.html#L135'>PN_AST</a>            135 syn/syntax.y          | minus !minus a:atom  { a = PN_OP(AST_MINUS, PN_AST(VALUE, PN_ZERO), a) }</span>
<span class='curline'><a href='../S/107.html#L136'>PN_AST</a>            136 syn/syntax.y          | plus !plus a:atom    { a = PN_OP(AST_PLUS, PN_AST(VALUE, PN_ZERO), a) }</span>
<span class='curline'><a href='../S/107.html#L142'>PN_AST</a>            142 syn/syntax.y          { $$ = PN_AST(EXPR, a) }</span>
<span class='curline'><a href='../S/107.html#L147'>PN_AST</a>            147 syn/syntax.y          (v:value | v:list) { n = PN_AST(MSG, PN_NIL); b = PN_NIL; } b:block?)</span>
<span class='curline'><a href='../S/107.html#L155'>PN_AST</a>            155 syn/syntax.y   name = p:path           { $$ = PN_AST(PATH, p) }</span>
<span class='curline'><a href='../S/107.html#L156'>PN_AST</a>            156 syn/syntax.y        | quiz ( m:msg -   { $$ = PN_AST(QUERY, m) }</span>
<span class='curline'><a href='../S/107.html#L157'>PN_AST</a>            157 syn/syntax.y               | p:path    { $$ = PN_AST(PATHQ, p) })</span>
<span class='curline'><a href='../S/107.html#L158'>PN_AST</a>            158 syn/syntax.y        | t:tuple -        { $$ = PN_AST(VALUE, t) } # like a lick, but only a arrayref</span>
<span class='curline'><a href='../S/107.html#L160'>PN_AST</a>            160 syn/syntax.y          m:msg -          { $$ = PN_AST(MSG, m) }</span>
<span class='curline'><a href='../S/107.html#L171'>PN_AST</a>            171 syn/syntax.y             | m:msg -         { $$ = PN_AST(LICK, m) }</span>
<span class='curline'><a href='../S/107.html#L172'>PN_AST</a>            172 syn/syntax.y             | v:loose -       { $$ = PN_AST(LICK, v) }</span>
<span class='curline'><a href='../S/107.html#L175'>PN_AST</a>            175 syn/syntax.y         | v:unquoted { $$ = PN_AST(VALUE, v) }</span>
<span class='curline'><a href='../S/107.html#L178'>PN_AST</a>            178 syn/syntax.y   list  = list-start s:statements list-end   { $$ = PN_AST(LIST, s) }</span>
<span class='curline'><a href='../S/107.html#L179'>PN_AST</a>            179 syn/syntax.y   block = block-start s:statements block-end { $$ = PN_AST(BLOCK, s) }</span>
<span class='curline'><a href='../S/107.html#L180'>PN_AST</a>            180 syn/syntax.y   lick  = lick-start i:lick-items lick-end   { $$ = PN_AST(LIST, i) }</span>
<span class='curline'><a href='../S/107.html#L181'>PN_AST</a>            181 syn/syntax.y   group = group-start s:statements group-end { $$ = PN_AST(EXPR, s) }</span>
<span class='curline'><a href='../S/107.html#L182'>PN_AST</a>            182 syn/syntax.y   tuple = m:msg l:lick  { $$ = PN_AST2(LICK, PN_AST(MSG, m), l) }</span>
<span class='curline'><a href='../S/107.html#L189'>PN_AST</a>            189 syn/syntax.y   value = i:immed - { $$ = PN_AST(VALUE, i) }</span>
<span class='curline'><a href='../S/107.html#L190'>PN_AST</a>            190 syn/syntax.y         | t:tuple - { $$ = PN_AST(VALUE, t) } # arrayref</span>
</pre>
</body>
</html>
