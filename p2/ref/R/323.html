<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>PN_S</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.2.8' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/13.html#L35'>PN_S</a>               35 core/ast.h           if (PN_PART(endname) == AST_EXPR) endname = PN_TUPLE_AT(PN_S(endname, 0), 0); \</span>
<span class='curline'><a href='../S/13.html#L37'>PN_S</a>               37 core/ast.h             endname = PN_S(endname, 0); \</span>
<span class='curline'><a href='../S/15.html#L182'>PN_S</a>              182 core/compile.c   if (PN_PART(t-&gt;a[n]) == AST_LIST &amp;&amp; PN_PART(PN_TUPLE_AT(PN_S(t-&gt;a[n],0), 0)) == AST_EXPR) { \</span>
<span class='curline'><a href='../S/15.html#L183'>PN_S</a>              183 core/compile.c     PN test = PN_S(PN_TUPLE_AT(PN_S(t-&gt;a[n],0), 0), 0);			\</span>
<span class='curline'><a href='../S/15.html#L193'>PN_S</a>              193 core/compile.c   if (PN_PART(t-&gt;a[n]) == AST_EXPR &amp;&amp; PN_PART(PN_TUPLE_AT(PN_S(t-&gt;a[n],0), 0)) == AST_LIST) { \</span>
<span class='curline'><a href='../S/15.html#L194'>PN_S</a>              194 core/compile.c     PN test = PN_S(PN_TUPLE_AT(PN_S(t-&gt;a[n],0), 0), 0); \</span>
<span class='curline'><a href='../S/15.html#L239'>PN_S</a>              239 core/compile.c #define SRC_TUPLE_AT(src,i)  PN_SRC((PN_TUPLE_AT(PN_S(src,0), i)))</span>
<span class='curline'><a href='../S/15.html#L257'>PN_S</a>              257 core/compile.c       args = PN_S(args,0);</span>
<span class='curline'><a href='../S/15.html#L265'>PN_S</a>              265 core/compile.c               vPN(Source) lhs = PN_SRC(PN_S(v,0));</span>
<span class='curline'><a href='../S/15.html#L267'>PN_S</a>              267 core/compile.c               if (lhs-&gt;part == AST_EXPR &amp;&amp; PN_TUPLE_LEN(PN_S(lhs,0)) == 1)</span>
<span class='curline'><a href='../S/15.html#L271'>PN_S</a>              271 core/compile.c                   PN_OP op; op.a = PN_S(lhs,0); //12 bit!</span>
<span class='curline'><a href='../S/15.html#L272'>PN_S</a>              272 core/compile.c                   if (!PN_IS_PTR(PN_S(lhs,0)) &amp;&amp; PN_S(lhs,0) == op.a) {</span>
<span class='curline'><a href='../S/15.html#L273'>PN_S</a>              273 core/compile.c                     PN_ASM2(OP_LOADPN, sreg, PN_S(lhs,0));</span>
<span class='curline'><a href='../S/15.html#L275'>PN_S</a>              275 core/compile.c                     PN_SIZE num = PN_PUT(f-&gt;values, PN_S(lhs,0));</span>
<span class='curline'><a href='../S/15.html#L311'>PN_S</a>              311 core/compile.c       DBG_c("debug %ld %s\n", PN_INT(PN_S(v,1)), PN_STR_PTR(PN_S(v,2)));</span>
<span class='curline'><a href='../S/15.html#L312'>PN_S</a>              312 core/compile.c       PN_ASM2(OP_DEBUG, PN_S(v,1), PN_S(v,2));</span>
<span class='curline'><a href='../S/15.html#L319'>PN_S</a>              319 core/compile.c       if (PN_S(t,0) != PN_NIL) {</span>
<span class='curline'><a href='../S/15.html#L320'>PN_S</a>              320 core/compile.c         DBG_c("%s [%u] %u\n", t-&gt;part == AST_CODE?"code":"block", PN_TUPLE_LEN(PN_S(t,0)), reg);</span>
<span class='curline'><a href='../S/15.html#L321'>PN_S</a>              321 core/compile.c         PN_TUPLE_EACH(PN_S(t,0), i, v, {</span>
<span class='curline'><a href='../S/15.html#L328'>PN_S</a>              328 core/compile.c       if (PN_S(t,0) != PN_NIL) {</span>
<span class='curline'><a href='../S/15.html#L329'>PN_S</a>              329 core/compile.c         DBG_c("expr %d\n", PN_TUPLE_LEN(PN_S(t,0)));</span>
<span class='curline'><a href='../S/15.html#L330'>PN_S</a>              330 core/compile.c         PN_TUPLE_EACH(PN_S(t,0), i, v, {</span>
<span class='curline'><a href='../S/15.html#L337'>PN_S</a>              337 core/compile.c       PN_BLOCK(reg, PN_S(t,1), PN_S(t,0));</span>
<span class='curline'><a href='../S/15.html#L341'>PN_S</a>              341 core/compile.c       PN_OP op; op.a = PN_S(t,0);</span>
<span class='curline'><a href='../S/15.html#L342'>PN_S</a>              342 core/compile.c       if (!PN_IS_PTR(PN_S(t,0)) &amp;&amp; PN_S(t,0) == (PN)op.a) {</span>
<span class='curline'><a href='../S/15.html#L343'>PN_S</a>              343 core/compile.c         PN_ASM2(OP_LOADPN, reg, PN_S(t,0));</span>
<span class='curline'><a href='../S/15.html#L345'>PN_S</a>              345 core/compile.c         PN_SIZE num = PN_PUT(f-&gt;values, PN_S(t,0));</span>
<span class='curline'><a href='../S/15.html#L348'>PN_S</a>              348 core/compile.c       if (PN_S(t,1) != PN_NIL) {</span>
<span class='curline'><a href='../S/15.html#L351'>PN_S</a>              351 core/compile.c         PN_ARG_TABLE(PN_S(t,1), breg, 1);</span>
<span class='curline'><a href='../S/15.html#L352'>PN_S</a>              352 core/compile.c         if (PN_S(t,2) != PN_NIL) {</span>
<span class='curline'><a href='../S/15.html#L354'>PN_S</a>              354 core/compile.c           PN_BLOCK(breg, PN_S(t,2), PN_NIL);</span>
<span class='curline'><a href='../S/15.html#L369'>PN_S</a>              369 core/compile.c         c = PN_TUPLE_LEN(PN_S(lhs,0)) - 1;</span>
<span class='curline'><a href='../S/15.html#L378'>PN_S</a>              378 core/compile.c         char first_letter = PN_STR_PTR(PN_S(lhs,0))[0];</span>
<span class='curline'><a href='../S/15.html#L380'>PN_S</a>              380 core/compile.c                   PN_STR_PTR(PN_S(lhs,0)));</span>
<span class='curline'><a href='../S/15.html#L382'>PN_S</a>              382 core/compile.c           num = PN_PUT(f-&gt;values, PN_S(lhs,0));</span>
<span class='curline'><a href='../S/15.html#L387'>PN_S</a>              387 core/compile.c           num = PN_UPVAL(PN_S(lhs,0));</span>
<span class='curline'><a href='../S/15.html#L389'>PN_S</a>              389 core/compile.c             num = PN_PUT(f-&gt;locals, PN_S(lhs,0));</span>
<span class='curline'><a href='../S/15.html#L393'>PN_S</a>              393 core/compile.c           num = PN_PUT(f-&gt;values, PN_S(lhs,0));</span>
<span class='curline'><a href='../S/15.html#L400'>PN_S</a>              400 core/compile.c         num = PN_PUT(f-&gt;values, PN_S(lhs,0));</span>
<span class='curline'><a href='../S/15.html#L415'>PN_S</a>              415 core/compile.c         PN_ARG_TABLE(PN_S(lhs,1), breg, 1);</span>
<span class='curline'><a href='../S/15.html#L451'>PN_S</a>              451 core/compile.c       PN_SIZE num = PN_UPVAL(PN_S(lhs,0));</span>
<span class='curline'><a href='../S/15.html#L454'>PN_S</a>              454 core/compile.c         num = PN_PUT(f-&gt;locals, PN_S(lhs,0));</span>
<span class='curline'><a href='../S/15.html#L462'>PN_S</a>              462 core/compile.c       if (PN_IS_NUM(PN_S(t,1))) {</span>
<span class='curline'><a href='../S/15.html#L466'>PN_S</a>              466 core/compile.c       PN_ASM2(OP_LOADPN, breg + 1, (PN_S(t,1) | PN_FNUMBER));</span>
<span class='curline'><a href='../S/15.html#L518'>PN_S</a>              518 core/compile.c       int arg = (PN_S(t,1) != PN_NIL);</span>
<span class='curline'><a href='../S/15.html#L519'>PN_S</a>              519 core/compile.c       int call = (PN_S(t,2) != PN_NIL || arg);</span>
<span class='curline'><a href='../S/15.html#L521'>PN_S</a>              521 core/compile.c       if (t-&gt;part == AST_MSG &amp;&amp; PN_S(t,0) == PN_if) { // (if value (1) block</span>
<span class='curline'><a href='../S/15.html#L525'>PN_S</a>              525 core/compile.c           ifconst = PN_S(t-&gt;a[1], 0);</span>
<span class='curline'><a href='../S/15.html#L530'>PN_S</a>              530 core/compile.c           PN_ARG_TABLE(PN_S(t,1), breg, 0);</span>
<span class='curline'><a href='../S/15.html#L536'>PN_S</a>              536 core/compile.c       } else if (t-&gt;part == AST_MSG &amp;&amp; PN_S(t,0) == PN_elsif) {</span>
<span class='curline'><a href='../S/15.html#L542'>PN_S</a>              542 core/compile.c           ifconst = PN_S(t-&gt;a[1], 0);</span>
<span class='curline'><a href='../S/15.html#L548'>PN_S</a>              548 core/compile.c           PN_ARG_TABLE(PN_S(t,1), breg, 0);</span>
<span class='curline'><a href='../S/15.html#L555'>PN_S</a>              555 core/compile.c       } else if (t-&gt;part == AST_MSG &amp;&amp; PN_S(t,0) == PN_else) {</span>
<span class='curline'><a href='../S/15.html#L566'>PN_S</a>              566 core/compile.c       } else if (t-&gt;part == AST_MSG &amp;&amp; PN_S(t,0) == PN_class) {</span>
<span class='curline'><a href='../S/15.html#L570'>PN_S</a>              570 core/compile.c         if (PN_S(t,2) != PN_NIL) {</span>
<span class='curline'><a href='../S/15.html#L572'>PN_S</a>              572 core/compile.c           if (PN_S(PN_S(t,2), 0) == PN_NIL)</span>
<span class='curline'><a href='../S/15.html#L574'>PN_S</a>              574 core/compile.c           PN ctor = PN_S(PN_S(t,2), 0);</span>
<span class='curline'><a href='../S/15.html#L577'>PN_S</a>              577 core/compile.c           PN_BLOCK(breg, PN_S(t,2), PN_S(t,1));</span>
<span class='curline'><a href='../S/15.html#L580'>PN_S</a>              580 core/compile.c       } else if (t-&gt;part == AST_MSG &amp;&amp; (PN_S(t,0) == PN_while || PN_S(t,0) == PN_loop)) {</span>
<span class='curline'><a href='../S/15.html#L584'>PN_S</a>              584 core/compile.c         if (PN_S(t,0) == PN_while) {</span>
<span class='curline'><a href='../S/15.html#L586'>PN_S</a>              586 core/compile.c           PN_ARG_TABLE(PN_S(t,1), breg, 0);</span>
<span class='curline'><a href='../S/15.html#L592'>PN_S</a>              592 core/compile.c         if (PN_S(t,0) == PN_while) {</span>
<span class='curline'><a href='../S/15.html#L601'>PN_S</a>              601 core/compile.c       } else if (t-&gt;part == AST_MSG &amp;&amp; PN_S(t,0) == PN_return) {</span>
<span class='curline'><a href='../S/15.html#L602'>PN_S</a>              602 core/compile.c         PN_ARG_TABLE(PN_S(t,1), reg, 0);</span>
<span class='curline'><a href='../S/15.html#L604'>PN_S</a>              604 core/compile.c       } else if (t-&gt;part == AST_MSG &amp;&amp; PN_S(t,0) == PN_break) {</span>
<span class='curline'><a href='../S/15.html#L611'>PN_S</a>              611 core/compile.c       } else if (t-&gt;part == AST_MSG &amp;&amp; PN_S(t,0) == PN_continue) {</span>
<span class='curline'><a href='../S/15.html#L618'>PN_S</a>              618 core/compile.c       } else if (t-&gt;part == AST_MSG &amp;&amp; PN_S(t,0) == PN_self) {</span>
<span class='curline'><a href='../S/15.html#L624'>PN_S</a>              624 core/compile.c           num = PN_UPVAL(PN_S(t,0));</span>
<span class='curline'><a href='../S/15.html#L626'>PN_S</a>              626 core/compile.c             num = PN_GET(f-&gt;locals, PN_S(t,0));</span>
<span class='curline'><a href='../S/15.html#L631'>PN_S</a>              631 core/compile.c         if (num == PN_NONE &amp;&amp; PN_S(t,0) != PN_NIL) {</span>
<span class='curline'><a href='../S/15.html#L634'>PN_S</a>              634 core/compile.c           num = PN_PUT(f-&gt;values, PN_S(t,0));</span>
<span class='curline'><a href='../S/15.html#L641'>PN_S</a>              641 core/compile.c           PN_ASM2(PN_S(t,1) != PN_NIL || PN_S(t,2) != PN_NIL ? OP_MSG : OP_BIND, reg, breg);</span>
<span class='curline'><a href='../S/15.html#L642'>PN_S</a>              642 core/compile.c           if (t-&gt;part == AST_QUERY &amp;&amp; PN_S(t,1) != PN_NIL) {</span>
<span class='curline'><a href='../S/15.html#L646'>PN_S</a>              646 core/compile.c #define LOAD_ARG() PN_ARG_TABLE(PN_S(t,1), breg, 1)</span>
<span class='curline'><a href='../S/15.html#L648'>PN_S</a>              648 core/compile.c             u8 part1 = PN_PART(PN_S(t,1));</span>
<span class='curline'><a href='../S/15.html#L649'>PN_S</a>              649 core/compile.c             if (part1 == AST_VALUE || (part1 == AST_LIST &amp;&amp; PN_S(t,2) == PN_NIL)) {</span>
<span class='curline'><a href='../S/15.html#L653'>PN_S</a>              653 core/compile.c           if (PN_S(t,2) != PN_NIL &amp;&amp; (PN_PART(PN_S(t,2)) == AST_PROTO)) {</span>
<span class='curline'><a href='../S/15.html#L654'>PN_S</a>              654 core/compile.c             vPN(Source) t2 = PN_SRC(PN_S(t,2));</span>
<span class='curline'><a href='../S/15.html#L656'>PN_S</a>              656 core/compile.c             PN_BLOCK(breg, PN_S(t2,1), PN_S(t2,0));</span>
<span class='curline'><a href='../S/15.html#L658'>PN_S</a>              658 core/compile.c             if (PN_S(t,1) == PN_NIL &amp;&amp; PN_S(t,2) == PN_NIL)</span>
<span class='curline'><a href='../S/15.html#L660'>PN_S</a>              660 core/compile.c             if (PN_S(t,2) != PN_NIL &amp;&amp; PN_PART(PN_S(t,2)) == AST_BLOCK) {</span>
<span class='curline'><a href='../S/15.html#L662'>PN_S</a>              662 core/compile.c               PN_BLOCK(breg, PN_S(t,2), PN_S(t,1));</span>
<span class='curline'><a href='../S/15.html#L670'>PN_S</a>              670 core/compile.c             if (PN_S(t,1) != PN_NIL) {</span>
<span class='curline'><a href='../S/15.html#L682'>PN_S</a>              682 core/compile.c             PN_ARG_TABLE(PN_S(t,1), breg, 1);</span>
<span class='curline'><a href='../S/15.html#L683'>PN_S</a>              683 core/compile.c             if (PN_S(t,2) != PN_NIL) {</span>
<span class='curline'><a href='../S/15.html#L685'>PN_S</a>              685 core/compile.c               PN_BLOCK(breg, PN_S(t,2), PN_NIL);</span>
<span class='curline'><a href='../S/15.html#L698'>PN_S</a>              698 core/compile.c       PN_SIZE num = PN_PUT(f-&gt;values, PN_S(t,0));</span>
<span class='curline'><a href='../S/15.html#L713'>PN_S</a>              713 core/compile.c       PN_SIZE num = PN_PUT(f-&gt;values, PN_S(t,0));</span>
<span class='curline'><a href='../S/15.html#L715'>PN_S</a>              715 core/compile.c       if (PN_S(t,1) != PN_NIL)</span>
<span class='curline'><a href='../S/15.html#L717'>PN_S</a>              717 core/compile.c       else if (PN_S(t,2) != PN_NIL)</span>
<span class='curline'><a href='../S/15.html#L719'>PN_S</a>              719 core/compile.c       if (PN_S(t,2) != PN_NIL)</span>
<span class='curline'><a href='../S/15.html#L728'>PN_S</a>              728 core/compile.c       if (PN_S(t,0) != PN_NIL) {</span>
<span class='curline'><a href='../S/15.html#L729'>PN_S</a>              729 core/compile.c         PN_TUPLE_EACH(PN_S(t,0), i, v, {</span>
<span class='curline'><a href='../S/15.html#L731'>PN_S</a>              731 core/compile.c             vPN(Source) lhs = PN_SRC(PN_S(v,0));</span>
<span class='curline'><a href='../S/15.html#L732'>PN_S</a>              732 core/compile.c             if (lhs-&gt;part == AST_EXPR &amp;&amp; PN_TUPLE_LEN(PN_S(lhs,0)) == 1)</span>
<span class='curline'><a href='../S/15.html#L736'>PN_S</a>              736 core/compile.c                 PN_SIZE num = PN_PUT(f-&gt;values, PN_S(lhs,0));</span>
<span class='curline'><a href='../S/15.html#L758'>PN_S</a>              758 core/compile.c         PN_ASM2(OP_DEBUG, PN_S(t,1), PN_S(t,2));</span>
<span class='curline'><a href='../S/15.html#L767'>PN_S</a>              767 core/compile.c       name = PN_S(t,0);				\</span>
<span class='curline'><a href='../S/15.html#L790'>PN_S</a>              790 core/compile.c   if (t-&gt;part == AST_LIST &amp;&amp; PN_S(t,0) != PN_NIL) {</span>
<span class='curline'><a href='../S/15.html#L792'>PN_S</a>              792 core/compile.c     ({ struct PNTuple * volatile __tv = ((struct PNTuple *)potion_fwd(PN_S(t,0)));</span>
<span class='curline'><a href='../S/15.html#L804'>PN_S</a>              804 core/compile.c 	PN v = PN_S(lhs,0);</span>
<span class='curline'><a href='../S/15.html#L823'>PN_S</a>              823 core/compile.c         if (lhs-&gt;part == AST_EXPR &amp;&amp; PN_TUPLE_LEN(PN_S(lhs,0)) == 1) {</span>
<span class='curline'><a href='../S/15.html#L840'>PN_S</a>              840 core/compile.c 	    PN v = PN_NUM(PN_STR_PTR(PN_S(rhs,0))[0]); // = type. TODO: one-char =&gt; VTABLE</span>
<span class='curline'><a href='../S/15.html#L845'>PN_S</a>              845 core/compile.c 	  PN v = PN_S(rhs,0);</span>
<span class='curline'><a href='../S/72.html#L308'>PN_S</a>              308 syn/syntax.y                           { SRC_TPL3(n, PN_NUM(':'), PN_S(d,0)) }</span>
</pre>
</body>
</html>
