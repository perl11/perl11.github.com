<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>PN_S</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.2.8' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/13.html#L37'>PN_S</a>               37 core/ast.h           if (PN_PART(endname) == AST_EXPR) endname = PN_TUPLE_AT(PN_S(endname, 0), 0); \</span>
<span class='curline'><a href='../S/13.html#L39'>PN_S</a>               39 core/ast.h             endname = PN_S(endname, 0); \</span>
<span class='curline'><a href='../S/15.html#L185'>PN_S</a>              185 core/compile.c   if (PN_PART(t-&gt;a[n]) == AST_LIST &amp;&amp; PN_PART(PN_TUPLE_AT(PN_S(t-&gt;a[n],0), 0)) == AST_EXPR) { \</span>
<span class='curline'><a href='../S/15.html#L186'>PN_S</a>              186 core/compile.c     PN test = PN_S(PN_TUPLE_AT(PN_S(t-&gt;a[n],0), 0), 0);			\</span>
<span class='curline'><a href='../S/15.html#L197'>PN_S</a>              197 core/compile.c   if (PN_PART(t-&gt;a[n]) == AST_EXPR &amp;&amp; PN_PART(PN_TUPLE_AT(PN_S(t-&gt;a[n],0), 0)) == AST_LIST) { \</span>
<span class='curline'><a href='../S/15.html#L198'>PN_S</a>              198 core/compile.c     PN test = PN_S(PN_TUPLE_AT(PN_S(t-&gt;a[n],0), 0), 0);			\</span>
<span class='curline'><a href='../S/15.html#L251'>PN_S</a>              251 core/compile.c #define SRC_TUPLE_AT(src,i)  PN_SRC((PN_TUPLE_AT(PN_S(src,0), i)))</span>
<span class='curline'><a href='../S/15.html#L282'>PN_S</a>              282 core/compile.c       args = PN_S(args,0);</span>
<span class='curline'><a href='../S/15.html#L290'>PN_S</a>              290 core/compile.c               vPN(Source) lhs = PN_SRC(PN_S(v,0));</span>
<span class='curline'><a href='../S/15.html#L292'>PN_S</a>              292 core/compile.c               if (lhs-&gt;part == AST_EXPR &amp;&amp; PN_TUPLE_LEN(PN_S(lhs,0)) == 1)</span>
<span class='curline'><a href='../S/15.html#L297'>PN_S</a>              297 core/compile.c                   PN_OP op; op.a = PN_S(lhs,0); //12 bit!</span>
<span class='curline'><a href='../S/15.html#L298'>PN_S</a>              298 core/compile.c                   if (!PN_IS_PTR(PN_S(lhs,0)) &amp;&amp; PN_S(lhs,0) == op.a) {</span>
<span class='curline'><a href='../S/15.html#L299'>PN_S</a>              299 core/compile.c                     PN_ASM2(OP_LOADPN, sreg, PN_S(lhs,0));</span>
<span class='curline'><a href='../S/15.html#L301'>PN_S</a>              301 core/compile.c                     PN_SIZE num = PN_PUT(f-&gt;values, PN_S(lhs,0));</span>
<span class='curline'><a href='../S/15.html#L339'>PN_S</a>              339 core/compile.c       if (PN_S(t,0) != PN_NIL) {</span>
<span class='curline'><a href='../S/15.html#L341'>PN_S</a>              341 core/compile.c 	      t-&gt;part == AST_CODE?"":AS_STR(PN_S(t,0)));</span>
<span class='curline'><a href='../S/15.html#L342'>PN_S</a>              342 core/compile.c         PN_TUPLE_EACH(PN_S(t,0), i, v, {</span>
<span class='curline'><a href='../S/15.html#L349'>PN_S</a>              349 core/compile.c       if (PN_S(t,0) != PN_NIL) {</span>
<span class='curline'><a href='../S/15.html#L350'>PN_S</a>              350 core/compile.c 	PN e = PN_S(t,0);</span>
<span class='curline'><a href='../S/15.html#L359'>PN_S</a>              359 core/compile.c       PN_BLOCK(reg, PN_S(t,1), PN_S(t,0));</span>
<span class='curline'><a href='../S/15.html#L363'>PN_S</a>              363 core/compile.c       PN_OP op; op.a = PN_S(t,0);</span>
<span class='curline'><a href='../S/15.html#L364'>PN_S</a>              364 core/compile.c       if (!PN_IS_PTR(PN_S(t,0)) &amp;&amp; PN_S(t,0) == (PN)op.a) {</span>
<span class='curline'><a href='../S/15.html#L365'>PN_S</a>              365 core/compile.c         PN_ASM2(OP_LOADPN, reg, PN_S(t,0));</span>
<span class='curline'><a href='../S/15.html#L367'>PN_S</a>              367 core/compile.c         PN_SIZE num = PN_PUT(f-&gt;values, PN_S(t,0));</span>
<span class='curline'><a href='../S/15.html#L371'>PN_S</a>              371 core/compile.c       if (PN_S(t,1) != PN_NIL) {</span>
<span class='curline'><a href='../S/15.html#L374'>PN_S</a>              374 core/compile.c         PN_ARG_TABLE(PN_S(t,1), breg, 1);</span>
<span class='curline'><a href='../S/15.html#L375'>PN_S</a>              375 core/compile.c         if (PN_S(t,2) != PN_NIL) {</span>
<span class='curline'><a href='../S/15.html#L377'>PN_S</a>              377 core/compile.c           PN_BLOCK(breg, PN_S(t,2), PN_NIL);</span>
<span class='curline'><a href='../S/15.html#L392'>PN_S</a>              392 core/compile.c         c = PN_TUPLE_LEN(PN_S(lhs,0)) - 1;</span>
<span class='curline'><a href='../S/15.html#L403'>PN_S</a>              403 core/compile.c         char first_letter = PN_STR_PTR(PN_S(lhs,0))[0];</span>
<span class='curline'><a href='../S/15.html#L406'>PN_S</a>              406 core/compile.c 	      AS_STR(PN_S(lhs,0)));</span>
<span class='curline'><a href='../S/15.html#L410'>PN_S</a>              410 core/compile.c           num = PN_PUT(f-&gt;values, PN_S(lhs,0));</span>
<span class='curline'><a href='../S/15.html#L418'>PN_S</a>              418 core/compile.c           num = PN_UPVAL(PN_S(lhs,0));</span>
<span class='curline'><a href='../S/15.html#L420'>PN_S</a>              420 core/compile.c             num = PN_PUT(f-&gt;locals, PN_S(lhs,0));</span>
<span class='curline'><a href='../S/15.html#L426'>PN_S</a>              426 core/compile.c 	      fname = PN_S(lhs,0);</span>
<span class='curline'><a href='../S/15.html#L433'>PN_S</a>              433 core/compile.c           num = PN_PUT(f-&gt;values, PN_S(lhs,0));</span>
<span class='curline'><a href='../S/15.html#L441'>PN_S</a>              441 core/compile.c         num = PN_PUT(f-&gt;values, PN_S(lhs,0));</span>
<span class='curline'><a href='../S/15.html#L458'>PN_S</a>              458 core/compile.c         PN_ARG_TABLE(PN_S(lhs,1), breg, 1);</span>
<span class='curline'><a href='../S/15.html#L496'>PN_S</a>              496 core/compile.c       PN_SIZE num = PN_UPVAL(PN_S(lhs,0));</span>
<span class='curline'><a href='../S/15.html#L499'>PN_S</a>              499 core/compile.c         num = PN_PUT(f-&gt;locals, PN_S(lhs,0));</span>
<span class='curline'><a href='../S/15.html#L508'>PN_S</a>              508 core/compile.c       if (PN_IS_NUM(PN_S(t,1))) {</span>
<span class='curline'><a href='../S/15.html#L512'>PN_S</a>              512 core/compile.c       PN_ASM2(OP_LOADPN, breg + 1, (PN_S(t,1) | PN_FNUMBER));</span>
<span class='curline'><a href='../S/15.html#L564'>PN_S</a>              564 core/compile.c       int arg = (PN_S(t,1) != PN_NIL);</span>
<span class='curline'><a href='../S/15.html#L565'>PN_S</a>              565 core/compile.c       int call = (PN_S(t,2) != PN_NIL || arg);</span>
<span class='curline'><a href='../S/15.html#L568'>PN_S</a>              568 core/compile.c       if (t-&gt;part == AST_MSG &amp;&amp; PN_S(t,0) == PN_use) {</span>
<span class='curline'><a href='../S/15.html#L570'>PN_S</a>              570 core/compile.c         PN use = PN_TUPLE_AT(PN_S(t,1), 0);</span>
<span class='curline'><a href='../S/15.html#L571'>PN_S</a>              571 core/compile.c         PN name = PN_TUPLE_AT(PN_S(t,1), 1);</span>
<span class='curline'><a href='../S/15.html#L572'>PN_S</a>              572 core/compile.c         PN list = potion_tuple_at(P,0,PN_S(t,1),2);</span>
<span class='curline'><a href='../S/15.html#L581'>PN_S</a>              581 core/compile.c       if (t-&gt;part == AST_MSG &amp;&amp; PN_S(t,0) == PN_if) {</span>
<span class='curline'><a href='../S/15.html#L596'>PN_S</a>              596 core/compile.c           ifconst = PN_S(t-&gt;a[1], 0);</span>
<span class='curline'><a href='../S/15.html#L605'>PN_S</a>              605 core/compile.c           PN_ARG_TABLE(PN_S(t,1), breg, 0);</span>
<span class='curline'><a href='../S/15.html#L611'>PN_S</a>              611 core/compile.c       } else if (t-&gt;part == AST_MSG &amp;&amp; PN_S(t,0) == PN_elsif) {</span>
<span class='curline'><a href='../S/15.html#L629'>PN_S</a>              629 core/compile.c           ifconst = PN_S(t-&gt;a[1], 0);</span>
<span class='curline'><a href='../S/15.html#L639'>PN_S</a>              639 core/compile.c           PN_ARG_TABLE(PN_S(t,1), breg, 0);</span>
<span class='curline'><a href='../S/15.html#L646'>PN_S</a>              646 core/compile.c       } else if (t-&gt;part == AST_MSG &amp;&amp; PN_S(t,0) == PN_else) {</span>
<span class='curline'><a href='../S/15.html#L672'>PN_S</a>              672 core/compile.c       } else if (t-&gt;part == AST_MSG &amp;&amp; PN_S(t,0) == PN_class) {</span>
<span class='curline'><a href='../S/15.html#L676'>PN_S</a>              676 core/compile.c         if (PN_S(t,2) != PN_NIL) {</span>
<span class='curline'><a href='../S/15.html#L679'>PN_S</a>              679 core/compile.c           if (PN_S(blk, 0) == PN_NIL)</span>
<span class='curline'><a href='../S/15.html#L681'>PN_S</a>              681 core/compile.c           PN ctor = PN_S(blk, 0);</span>
<span class='curline'><a href='../S/15.html#L686'>PN_S</a>              686 core/compile.c           PN_BLOCK(breg, (PN)blk, PN_S(t,1));</span>
<span class='curline'><a href='../S/15.html#L689'>PN_S</a>              689 core/compile.c       } else if (t-&gt;part == AST_MSG &amp;&amp; (PN_S(t,0) == PN_while || PN_S(t,0) == PN_loop)) {</span>
<span class='curline'><a href='../S/15.html#L693'>PN_S</a>              693 core/compile.c         if (PN_S(t,0) == PN_while) {</span>
<span class='curline'><a href='../S/15.html#L694'>PN_S</a>              694 core/compile.c           PN_ARG_TABLE(PN_S(t,1), breg, 0);</span>
<span class='curline'><a href='../S/15.html#L697'>PN_S</a>              697 core/compile.c         } else if (PN_S(t,1) || !t-&gt;a[2]) {</span>
<span class='curline'><a href='../S/15.html#L704'>PN_S</a>              704 core/compile.c         if (PN_S(t,0) == PN_while) {</span>
<span class='curline'><a href='../S/15.html#L713'>PN_S</a>              713 core/compile.c       } else if (t-&gt;part == AST_MSG &amp;&amp; PN_S(t,0) == PN_return) {</span>
<span class='curline'><a href='../S/15.html#L714'>PN_S</a>              714 core/compile.c         PN_ARG_TABLE(PN_S(t,1), reg, 0);</span>
<span class='curline'><a href='../S/15.html#L716'>PN_S</a>              716 core/compile.c       } else if (t-&gt;part == AST_MSG &amp;&amp; PN_S(t,0) == PN_break) {</span>
<span class='curline'><a href='../S/15.html#L723'>PN_S</a>              723 core/compile.c       } else if (t-&gt;part == AST_MSG &amp;&amp; PN_S(t,0) == PN_continue) {</span>
<span class='curline'><a href='../S/15.html#L730'>PN_S</a>              730 core/compile.c       } else if (t-&gt;part == AST_MSG &amp;&amp; PN_S(t,0) == PN_self) {</span>
<span class='curline'><a href='../S/15.html#L736'>PN_S</a>              736 core/compile.c         PN v = PN_S(t,0);</span>
<span class='curline'><a href='../S/15.html#L746'>PN_S</a>              746 core/compile.c         if (num == PN_NONE &amp;&amp; PN_S(t,0) != PN_NIL) {</span>
<span class='curline'><a href='../S/15.html#L749'>PN_S</a>              749 core/compile.c           num = PN_PUT(f-&gt;values, PN_S(t,0));</span>
<span class='curline'><a href='../S/15.html#L757'>PN_S</a>              757 core/compile.c           if (PN_S(t,2) != PN_NIL &amp;&amp; (PN_PART(PN_S(t,2)) == AST_MSG)) {</span>
<span class='curline'><a href='../S/15.html#L761'>PN_S</a>              761 core/compile.c             num = PN_PUT(f-&gt;values, PN_S(t2,0));</span>
<span class='curline'><a href='../S/15.html#L765'>PN_S</a>              765 core/compile.c             PN_ASM2(PN_S(t,1) != PN_NIL || PN_S(t,2) != PN_NIL ? OP_MSG : OP_BIND, reg, breg);</span>
<span class='curline'><a href='../S/15.html#L767'>PN_S</a>              767 core/compile.c           if (t-&gt;part == AST_QUERY &amp;&amp; PN_S(t,1) != PN_NIL) {</span>
<span class='curline'><a href='../S/15.html#L771'>PN_S</a>              771 core/compile.c #define LOAD_ARG() PN_ARG_TABLE(PN_S(t,1), breg, 1)</span>
<span class='curline'><a href='../S/15.html#L773'>PN_S</a>              773 core/compile.c             u8 part1 = PN_PART(PN_S(t,1));</span>
<span class='curline'><a href='../S/15.html#L774'>PN_S</a>              774 core/compile.c             if (part1 == AST_VALUE || (part1 == AST_LIST &amp;&amp; PN_S(t,2) == PN_NIL)) {</span>
<span class='curline'><a href='../S/15.html#L778'>PN_S</a>              778 core/compile.c           if (PN_S(t,2) != PN_NIL &amp;&amp; (PN_PART(PN_S(t,2)) == AST_PROTO)) {</span>
<span class='curline'><a href='../S/15.html#L781'>PN_S</a>              781 core/compile.c             PN_BLOCK(breg, PN_S(t2,1), PN_S(t2,0));</span>
<span class='curline'><a href='../S/15.html#L783'>PN_S</a>              783 core/compile.c             if (PN_S(t,1) == PN_NIL &amp;&amp; PN_S(t,2) == PN_NIL)</span>
<span class='curline'><a href='../S/15.html#L785'>PN_S</a>              785 core/compile.c             if (PN_S(t,2) != PN_NIL &amp;&amp; PN_PART(PN_S(t,2)) == AST_BLOCK) {</span>
<span class='curline'><a href='../S/15.html#L787'>PN_S</a>              787 core/compile.c               PN_BLOCK(breg, PN_S(t,2), PN_S(t,1));</span>
<span class='curline'><a href='../S/15.html#L795'>PN_S</a>              795 core/compile.c             if (PN_S(t,1) != PN_NIL) {</span>
<span class='curline'><a href='../S/15.html#L808'>PN_S</a>              808 core/compile.c             PN_ARG_TABLE(PN_S(t,1), breg, 1);</span>
<span class='curline'><a href='../S/15.html#L809'>PN_S</a>              809 core/compile.c             if (PN_S(t,2) != PN_NIL) {</span>
<span class='curline'><a href='../S/15.html#L811'>PN_S</a>              811 core/compile.c               PN_BLOCK(breg, PN_S(t,2), PN_NIL);</span>
<span class='curline'><a href='../S/15.html#L824'>PN_S</a>              824 core/compile.c       PN_SIZE num = PN_PUT(f-&gt;values, PN_S(t,0));</span>
<span class='curline'><a href='../S/15.html#L841'>PN_S</a>              841 core/compile.c       PN_SIZE num = PN_PUT(f-&gt;values, PN_S(t,0));</span>
<span class='curline'><a href='../S/15.html#L844'>PN_S</a>              844 core/compile.c       if (PN_S(t,1) != PN_NIL)</span>
<span class='curline'><a href='../S/15.html#L846'>PN_S</a>              846 core/compile.c       else if (PN_S(t,2) != PN_NIL)</span>
<span class='curline'><a href='../S/15.html#L848'>PN_S</a>              848 core/compile.c       if (PN_S(t,2) != PN_NIL)</span>
<span class='curline'><a href='../S/15.html#L857'>PN_S</a>              857 core/compile.c       if (PN_S(t,0) != PN_NIL) {</span>
<span class='curline'><a href='../S/15.html#L858'>PN_S</a>              858 core/compile.c         PN_TUPLE_EACH(PN_S(t,0), i, v, {</span>
<span class='curline'><a href='../S/15.html#L861'>PN_S</a>              861 core/compile.c 	    vPN(Source) lhs = PN_SRC(PN_S(v,0));</span>
<span class='curline'><a href='../S/15.html#L862'>PN_S</a>              862 core/compile.c             if (lhs-&gt;part == AST_EXPR &amp;&amp; PN_TUPLE_LEN(PN_S(lhs,0)) == 1)</span>
<span class='curline'><a href='../S/15.html#L867'>PN_S</a>              867 core/compile.c                 PN_SIZE num = PN_PUT(f-&gt;values, PN_S(lhs,0));</span>
<span class='curline'><a href='../S/15.html#L895'>PN_S</a>              895 core/compile.c       name = PN_S(t,0);				\</span>
<span class='curline'><a href='../S/15.html#L926'>PN_S</a>              926 core/compile.c   PN sig = PN_S(t,0);</span>
<span class='curline'><a href='../S/15.html#L937'>PN_S</a>              937 core/compile.c   if (t-&gt;part == AST_LIST &amp;&amp; PN_S(t,0) != PN_NIL) {</span>
<span class='curline'><a href='../S/15.html#L939'>PN_S</a>              939 core/compile.c     ({ struct PNTuple * volatile __tv = ((struct PNTuple *)potion_fwd(PN_S(t,0)));</span>
<span class='curline'><a href='../S/15.html#L951'>PN_S</a>              951 core/compile.c 	PN v = PN_S(lhs,0);</span>
<span class='curline'><a href='../S/15.html#L971'>PN_S</a>              971 core/compile.c         if (lhs-&gt;part == AST_EXPR &amp;&amp; PN_TUPLE_LEN(PN_S(lhs,0)) == 1) {</span>
<span class='curline'><a href='../S/15.html#L988'>PN_S</a>              988 core/compile.c 	    PN v = PN_NUM(PN_STR_PTR(PN_S(rhs,0))[0]); // = type. TODO: one-char =&gt; VTABLE</span>
<span class='curline'><a href='../S/15.html#L1004'>PN_S</a>             1004 core/compile.c             PN v = PN_S(SRC_TUPLE_AT(rhs,0),0);</span>
<span class='curline'><a href='../S/15.html#L1010'>PN_S</a>             1010 core/compile.c 	  PN v = PN_S(rhs,0);</span>
<span class='curline'><a href='../S/84.html#L171'>PN_S</a>              171 syn/syntax-p5.y           { PN s1 = PN_TUP0(); PN_TUPLE_EACH(PN_S(l,0), i, v, {</span>
<span class='curline'><a href='../S/84.html#L173'>PN_S</a>              173 syn/syntax-p5.y             s1 = PN_PUSH(s1, PN_AST2(ASSIGN, v, potion_tuple_at(P,0,PN_S(r,0),PN_NUM(i))));</span>
<span class='curline'><a href='../S/84.html#L176'>PN_S</a>              176 syn/syntax-p5.y           { PN s1 = PN_TUP0(); PN_TUPLE_EACH(PN_S(l,0), i, v, {</span>
<span class='curline'><a href='../S/84.html#L177'>PN_S</a>              177 syn/syntax-p5.y             s1 = PN_PUSH(s1, PN_AST2(ASSIGN, v, potion_tuple_at(P,0,PN_S(r,0),PN_NUM(i))));</span>
<span class='curline'><a href='../S/84.html#L248'>PN_S</a>              248 syn/syntax-p5.y     | c:call e:expr 		{ $$ = PN_AST(EXPR, PN_PUSH(PN_TUPIF(PN_S(e,0)),</span>
<span class='curline'><a href='../S/84.html#L250'>PN_S</a>              250 syn/syntax-p5.y     | c:call l:listexprs 	{ $$ = PN_SHIFT(PN_S(l,0));</span>
<span class='curline'><a href='../S/84.html#L251'>PN_S</a>              251 syn/syntax-p5.y             if (!PN_S(l, 0)) { PN_SRC(c)-&gt;a[1] = PN_SRC($$); }</span>
<span class='curline'><a href='../S/84.html#L529'>PN_S</a>              529 syn/syntax-p5.y                         { SRC_TPL3(n, PN_NUM(':'), PN_S(d,0)) }</span>
<span class='curline'><a href='../S/84.html#L552'>PN_S</a>              552 syn/syntax-p5.y      | n:arg2-name - assign d:value			{ SRC_TPL3(n,PN_NUM(':'), PN_S(d,0)) }</span>
<span class='curline'><a href='../S/85.html#L356'>PN_S</a>              356 syn/syntax.y                           { SRC_TPL3(n, PN_NUM(':'), PN_S(d,0)) }</span>
</pre>
</body>
</html>
