<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>p2: start.html Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">p2
   &#160;<span id="projectnumber">0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dd/d56/start_8html_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">start.html</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../dd/d56/start_8html.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;DTD/xhtml1-transitional.dtd&quot;&gt;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; lang=&quot;en&quot; xml:lang=&quot;en&quot;&gt;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;&lt;style type=&quot;text/css&quot;&gt;@import &#39;doc.css&#39;;&lt;/style&gt;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;&lt;/head&gt;&lt;body&gt;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;&lt;pre style=&quot;background:#AE6;width:25em;float:right;padding-right:2em&quot;&gt;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;         .ooo</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;          &#39;OOOo</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;      ~ p ooOOOo 2 ~</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;          .OOO</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;           oO      %% a fast perl5</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;             Oo</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;            &#39;O</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;             `</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;            (o)</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;        ___/ /          </div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;       /`    \ </div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;      /v^  `  ,</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;     (...v/v^/</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;      \../::/</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;       \/::/ </div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;&lt;div id=&#39;central&#39;&gt;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;&lt;h1 class=&quot;kana&quot;&gt;ポーション&lt;/h1&gt;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;&lt;h1&gt;A Short Pamphlet&lt;/h1&gt;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;&lt;h4&gt;by why the lucky stiff&lt;/h4&gt;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;&lt;p&gt;Well, here we go. You want to learn Potion&lt;sup class=&quot;footnote&quot; id=&quot;fnr1&quot;&gt;&lt;a href=&quot;#fn1&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;? Sure, okay. But first, bear in mind that Potion isn&amp;#8217;t done yet. And it does very little. It&amp;#8217;s completely esoteric. So long as we&amp;#8217;ve got that straight.&lt;/p&gt;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;&lt;p&gt;So why exactly are you learning this nascent do-nothing probably-broken language? For fun, right? I&amp;#8217;m giving you till the end of sentence to come up with a good reason.&lt;/p&gt;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;&lt;p&gt;This pamphlet probably isn&amp;#8217;t for beginners to computer programming. Just for those curious about what Potion is like.&lt;/p&gt;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;&lt;h2&gt;An Understanding&lt;/h2&gt;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;&lt;p&gt;Potion&amp;#8217;s mantra is: &lt;em&gt;Everything is an object. But objects aren&amp;#8217;t everything.&lt;/em&gt;&lt;/p&gt;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;&lt;p&gt;Etched beneath that in faint pencil: &lt;em&gt;Oh, and everything is a function.&lt;/em&gt;&lt;/p&gt;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;&lt;h2&gt;Special Things?&lt;/h2&gt;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;&lt;p&gt;So is there anything unusual about Potion? Anything of particular interest?&lt;/p&gt;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;&lt;ul&gt;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;   &lt;li&gt;Potion compiles programs down to machine code.&lt;/li&gt;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;   &lt;li&gt;It includes a small generational near-exact garbage collector,&lt;br /&gt;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  spending on avg 4ms on medium sized heaps.&lt;/li&gt;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;   &lt;li&gt;It is two languages: one for code, one for data.&lt;/li&gt;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;   &lt;li&gt;It&amp;#8217;s written in under 10,000 lines of C.&lt;/li&gt;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;&lt;/ul&gt;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;&lt;p&gt;Potion is inspired by fellow languages Io, Ruby, OCaml, Lua, &lt;span class=&quot;caps&quot;&gt;REBOL&lt;/span&gt; and C. In that order. (Also influenced by the works of Ian Piumarta, Nicolas Cannasse and Basile Starynkevitch.)&lt;/p&gt;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;&lt;h2&gt;A Sip&lt;/h2&gt;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;&lt;p&gt;Let&amp;#8217;s start with some code.&lt;/p&gt;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;&lt;h3&gt;Ad Nauseam&lt;/h3&gt;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  loop: &#39;quaff&#39; print.</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;&lt;p&gt;I know this isn&amp;#8217;t terribly useful, but it&amp;#8217;s an infinite printing of the string &lt;code&gt;&#39;quaff&#39;&lt;/code&gt;.&lt;/p&gt;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;&lt;p&gt;A colon starts a &lt;strong&gt;code block&lt;/strong&gt;. And the period ends it. The &lt;code&gt;loop&lt;/code&gt; command then runs the code block endlessly. You will see the colon and period combination reused throughout Potion.&lt;/p&gt;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;&lt;p&gt;The &lt;code&gt;print&lt;/code&gt; message is sent to the string &lt;code&gt;&#39;quaff&#39;&lt;/code&gt;. Strings are an object, like everything. They receive messages. Messages are separated from objects by a space. (In most languages, you use a dot to separate messages. But, like English, the period signifies the end of something rather than a separation.)&lt;/p&gt;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;&lt;h3&gt;A List&lt;/h3&gt;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  (&#39;cheese&#39;, &#39;bread&#39;, &#39;mayo&#39;) at (1) print</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;&lt;p&gt;This one prints the message &amp;#8216;bread&amp;#8217;. The stuff in parentheses is a &lt;strong&gt;list&lt;/strong&gt;. We have a list of foodstuffs. And it&amp;#8217;s being sent a message named &lt;code&gt;at&lt;/code&gt;. Every list has an &lt;code&gt;at&lt;/code&gt; message that looks up an item by its position in the list.&lt;/p&gt;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;&lt;p&gt;Notice that after the &lt;code&gt;at&lt;/code&gt; message is another list. The &lt;code&gt;1&lt;/code&gt; is an argument to &lt;code&gt;at&lt;/code&gt;. It&amp;#8217;s the position we want to look up. It looks like a list (and it &lt;em&gt;is&lt;/em&gt; a list,) but we call it an argument because it comes after a message.&lt;/p&gt;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;&lt;h3&gt;A Table&lt;/h3&gt;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  (language=&#39;Potion&#39;, pointless=true) at (key=&#39;language&#39;) print</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;&lt;p&gt;Okay, this one looks similar to the list, but it&amp;#8217;s not. Here we have a &lt;strong&gt;table&lt;/strong&gt;. The table pairs up things. The string &lt;code&gt;&#39;language&#39;&lt;/code&gt; is paired up with the string &lt;code&gt;&#39;Potion&#39;&lt;/code&gt;.&lt;/p&gt;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;&lt;p&gt;Notice the arguments are also a table. Lists and tables are sort of interchangeable. You can use a table or a list as arguments.&lt;/p&gt;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;&lt;h2&gt;The Functional Side&lt;/h2&gt;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;&lt;p&gt;Functions are throughout Potion. Whether it be anonymous lambdas, blocks or type functions.&lt;/p&gt;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;&lt;h3&gt;A Function&lt;/h3&gt;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  minus = (x, y): x - y.</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  minus (y=10, x=6)</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;&lt;p&gt;This one illustrates a bit better how tables get used as argument lists. We have the &lt;code&gt;minus&lt;/code&gt; variable which contains a &lt;strong&gt;function&lt;/strong&gt;. The function subtracts &lt;code&gt;y&lt;/code&gt; from &lt;code&gt;x&lt;/code&gt;. In this case, it&amp;#8217;ll return &lt;code&gt;-4&lt;/code&gt;.&lt;/p&gt;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;&lt;p&gt;(This is similar to keyword arguments in Lua and Python, yes. However, it&amp;#8217;s important to see that lists and tables and arguments in Potion all share the same syntax. Less to remember.)&lt;/p&gt;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;&lt;h3&gt;A List as a Function&lt;/h3&gt;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  foods = (&#39;cheese&#39;, &#39;bread&#39;, &#39;mayo&#39;)</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  foods (2)</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;&lt;p&gt;Here&amp;#8217;s a case where a list is being called as a function. Yes, everything is a function! We could also have called: &lt;code&gt;foods (index=2)&lt;/code&gt;.&lt;/p&gt;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;&lt;p&gt;Strings, tables, numbers are also functions. The following returns the 3rd character of the string.&lt;/p&gt;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  &quot;ヘ(^_^ヘ)(ノ^_^)ノ&quot; (2)</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;&lt;p&gt;Even functions are functions! I invented this concept. Just like Steve Jobs will one day.&lt;/p&gt;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;&lt;h3&gt;A Block&lt;/h3&gt;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  (dog=&#39;canine&#39;, cat=&#39;feline&#39;, fox=&#39;vulpine&#39;) each (key, val):</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    (key, &#39; is a &#39;, val) join print.</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;&lt;p&gt;Functions can also be attached to methods, for use as anonymous blocks (as in Ruby.)&lt;/p&gt;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;&lt;p&gt;These blocks are merely the last argument. This also works: &lt;code&gt;each ((key, val): key print.)&lt;/code&gt;.&lt;/p&gt;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;&lt;h2&gt;The Object-Oriented Side&lt;/h2&gt;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  Person = class: /name, /age, /sex.</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  Person print = ():</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    (&#39;My name is &#39;, /name, &#39;.&#39;) join print.</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;&lt;p&gt;The above describes a &lt;strong&gt;class&lt;/strong&gt; in Potion. Objects are very memory-efficient. Each Person object will store three properties: the name, age and sex. (These are not kept in a hashtable. They are kept in memory, immediately following the object&amp;#8217;s header.)&lt;/p&gt;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;&lt;p&gt;Properties use a slash before their name. This comes from the computer filesystem, where slashes are used before the names of folders in which to store files.&lt;/p&gt;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;&lt;p&gt;However, if you are desperate to use an object as a hashtable, you can store anything you like in an object&amp;#8217;s method table. Not just methods can go there. Anything can be wrapped in a closure.&lt;/p&gt;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;&lt;h3&gt;Making Objects&lt;/h3&gt;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  p = Person ()</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  p /name string print</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;&lt;p&gt;Yep, classes are functions, too! They create objects.&lt;/p&gt;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;&lt;p&gt;In this case, the name of &lt;code&gt;p&lt;/code&gt; hasn&amp;#8217;t been set, so the code will print &lt;code&gt;nil&lt;/code&gt;.&lt;/p&gt;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;&lt;p&gt;But how does subclassing work?&lt;/p&gt;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;&lt;h3&gt;A Subclass&lt;/h3&gt;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  Policeman = Person class (rank): /rank = rank.</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  Policeman print = ():</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    (&#39;My name is &#39;, /name, &#39; and I&#39;&#39;m a &#39;, /rank, &#39;.&#39;) join print.</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  Policeman (&#39;Constable&#39;) print</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;&lt;p&gt;The &lt;code&gt;class&lt;/code&gt; message just gets sent to the parent class. And that&amp;#8217;s it.&lt;/p&gt;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;&lt;p&gt;A Policeman now has four properties: &lt;code&gt;/name&lt;/code&gt;, &lt;code&gt;/age&lt;/code&gt;, &lt;code&gt;/sex&lt;/code&gt; and &lt;code&gt;/rank&lt;/code&gt;.&lt;/p&gt;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;&lt;p&gt;Notice the first line of the code. The end of the statement is a block. That block is the object&amp;#8217;s constructor. So, in the last line, we&amp;#8217;re passing in the string &amp;#8216;Constable&amp;#8217; as the &lt;code&gt;rank&lt;/code&gt; argument.&lt;/p&gt;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;&lt;h2&gt;Licks&lt;/h2&gt;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  app = [window (width=200, height=400)</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;          [para &#39;Welcome.&#39;, button &#39;OK&#39;]]</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  app first name</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;&lt;p&gt;Lastly, here we have a &lt;strong&gt;lick&lt;/strong&gt;. This is the data language brought up earlier in the section about Special Things. This code will print &lt;code&gt;&#39;window&#39;&lt;/code&gt; since that&amp;#8217;s the name of the first item in the lick.&lt;/p&gt;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;&lt;p&gt;Two languages in one? What for? I mean you can do anything you want from code, right?&lt;/p&gt;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;&lt;p&gt;There can be problems with expressing data in code. Say the above example was written in Potion code. Some thing like this:&lt;/p&gt;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  app = window(width=200, height=400):</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    para &#39;Welcome.&#39;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    button &#39;OK&#39;.</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;&lt;p&gt;In order to get this to work, you need methods for &lt;code&gt;window&lt;/code&gt;, &lt;code&gt;para&lt;/code&gt; and &lt;code&gt;button&lt;/code&gt;. This could clutter the namespace. Also, under what context are those messages available? Are they methods of the created window? Or do they go through some kind of proxy object? We don&amp;#8217;t know what&amp;#8217;s going on behind this code. (Which isn&amp;#8217;t bad at all, if it works.)&lt;/p&gt;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;&lt;p&gt;By having a separate little data language, you can build tree structures of arbitrary elements (akin to &lt;span class=&quot;caps&quot;&gt;HTML&lt;/span&gt;) which act as a kind of common structure between Potion libraries. (You can also think of it as code which has been parsed, but not executed.)&lt;/p&gt;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;&lt;h3&gt;The Flexibility Of&amp;#8230;&lt;/h3&gt;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;&lt;p&gt;Licks generally follow the look of Potion. Strings can be quoted. Tables are curved on the edges.&lt;/p&gt;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  [name (attr1=&#39;string&#39;, attr2=10) &#39;TEXT HERE&#39;]</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;&lt;p&gt;Every lick can have a name, a table of attributes, and a list of children. The list of children can, instead, be a Potion data type, such as a number or string or something. (No, this isn&amp;#8217;t a new idea. It&amp;#8217;s very much like E4X&lt;sup class=&quot;footnote&quot; id=&quot;fnr2&quot;&gt;&lt;a href=&quot;#fn2&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;, but without &lt;span class=&quot;caps&quot;&gt;XML&lt;/span&gt;.)&lt;/p&gt;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;&lt;p&gt;However, licks also allow unquoted strings, to give you some added flexibility.&lt;/p&gt;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  math = Grammar [</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    digit  &amp;lt;- n:[0-9] { n number }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    value  &amp;lt;- d:digit+ | &#39;(&#39; e:expr &#39;)&#39; { d or e }</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    expr   &amp;lt;- l:value op:[*/] r:value</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      if (op == &#39;*&#39;): l * r. else: l / r.</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    }</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    main   &amp;lt;- expr</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  ]</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;&lt;p&gt;Here we have four entries in a lick, getting passed to the &lt;code&gt;Grammar&lt;/code&gt; method. The entries are: &lt;code&gt;digit&lt;/code&gt;, &lt;code&gt;value&lt;/code&gt;, &lt;code&gt;expr&lt;/code&gt; and &lt;code&gt;main&lt;/code&gt;. (So, for example, the &lt;code&gt;digit&lt;/code&gt; entry will be paired with the string &lt;code&gt;&quot;&amp;lt;- n:[0-9] { n number }&quot;&lt;/code&gt;.&lt;/p&gt;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;&lt;p&gt;The lick syntax keeps track of nested groups of parentheses, square brackets and curly braces. The unquoted mode merely needs to start with a letter, number or non-token character.&lt;/p&gt;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;&lt;p&gt;Be careful of commas in unquoted strings. This won&amp;#8217;t work:&lt;/p&gt;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  [dollars $10,000]</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;&lt;p&gt;You&amp;#8217;ll end up with two entries in the lick: a &lt;code&gt;dollars&lt;/code&gt; entry and a &lt;code&gt;000&lt;/code&gt; entry.&lt;/p&gt;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;&lt;p&gt;Commas are okay inside of nested groups, though. So, this would be okay:&lt;/p&gt;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  [dollars $(10,000)]</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;&lt;h2&gt;Pause For Effect&lt;/h2&gt;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;&lt;p&gt;Okay, let&amp;#8217;s stop. So you&amp;#8217;ve basically seen everything in the language already. Sorry about that. It kind of blows that there&amp;#8217;s no surprises left. :( But, hey, I said it&amp;#8217;s little, right?&lt;/p&gt;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;&lt;p&gt;Are you starting to see some patterns in this code?&lt;/p&gt;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;&lt;ul&gt;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;   &lt;li&gt;Methods, blocks and functions all use the colon-dot syntax.&lt;/li&gt;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;   &lt;li&gt;Tables and lists are reused as function and block arguments. And as attributes in licks.&lt;/li&gt;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   &lt;li&gt;Generally, lowercase is used. Except in the case of class names. (But it&amp;#8217;s nothing special, you can use lowercase for classes if you want.)&lt;/li&gt;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;&lt;/ul&gt;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;&lt;h2&gt;Potion Syntax&lt;/h2&gt;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;&lt;p&gt;Now that you have a feel for what Potion can do, let&amp;#8217;s talk about every one of Potion&amp;#8217;s tokens in detail.&lt;/p&gt;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;&lt;h3&gt;Encoding&lt;/h3&gt;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;&lt;p&gt;Potion source code is always in &lt;span class=&quot;caps&quot;&gt;UTF&lt;/span&gt;-8. Likewise, all Potion strings are &lt;span class=&quot;caps&quot;&gt;UTF&lt;/span&gt;-8. Potion is too small to include other encodings in its core &lt;span class=&quot;caps&quot;&gt;API&lt;/span&gt;.&lt;/p&gt;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;&lt;h3&gt;Lines&lt;/h3&gt;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;&lt;p&gt;Potion code lines are separate by a newline. (Or a CR-LF works as well.)&lt;/p&gt;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  x = 1</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  y = 2</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;&lt;p&gt;Throughout Potion, a comma is equivalent to a newline.&lt;/p&gt;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  x = 1, y = 2</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;&lt;p&gt;This also means that tables can be written using newlines as separators:&lt;/p&gt;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  (language=&#39;Potion&#39;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;   pointless=true)</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;&lt;h3&gt;Spaces&lt;/h3&gt;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;&lt;p&gt;Spaces are used to separate messages and objects and operators, but they usually are only used for clarity&amp;#8217;s sake.&lt;/p&gt;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;&lt;p&gt;To borrow an earlier example, it turns out the following is legit.&lt;/p&gt;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  (&#39;cheese&#39;,&#39;bread&#39;,&#39;mayo&#39;)at(1)print</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;&lt;p&gt;There is some flexibility, in order to avoid senseless syntax errors.&lt;/p&gt;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;&lt;h3&gt;Comments&lt;/h3&gt;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;&lt;p&gt;Lines preceded by the octothorpe are ignored by Potion.&lt;/p&gt;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  # this foul business...</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  String length = (): 10.</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;&lt;h3&gt;Code Blocks&lt;/h3&gt;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;&lt;p&gt;Lines can be grouped together into blocks. Think of it as a collection of code you&amp;#8217;ve group together to run later. Blocks start with a colon and end with a dot.&lt;/p&gt;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  block = :</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    &#39;potion&#39; print.</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;&lt;h2&gt;Built-in Types&lt;/h2&gt;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;&lt;p&gt;Potion has a rather small set of built-in types and libraries. This is to keep the language core small for folks who want to embed Potion and to constraint its memory footprint.&lt;/p&gt;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;&lt;h3&gt;True, False, Nil.&lt;/h3&gt;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;&lt;p&gt;Potion has three keywords for these built-in types.&lt;/p&gt;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;&lt;p&gt;&lt;code&gt;nil&lt;/code&gt; indicates that a variable is empty: it has no value and no type. (This isn&amp;#8217;t exactly true, though. Its class is &lt;code&gt;NilKind&lt;/code&gt;.)&lt;/p&gt;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;&lt;p&gt;&lt;code&gt;true&lt;/code&gt; and &lt;code&gt;false&lt;/code&gt; are boolean values belonging to the &lt;code&gt;Boolean&lt;/code&gt; class.&lt;/p&gt;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;&lt;p&gt;Anything which is not &lt;code&gt;nil&lt;/code&gt; or &lt;code&gt;false&lt;/code&gt; is considered a positive value. (Which means that the number zero and empty strings are considered &lt;code&gt;true&lt;/code&gt; in if statements.)&lt;/p&gt;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;&lt;h3&gt;Numbers&lt;/h3&gt;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;&lt;p&gt;Basic numbers take up no memory and are passed as plain (32-bit or&lt;br /&gt;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;64-bit, depending on your processor) integers, but we loose one bit of&lt;br /&gt;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;precision for a tag bit. Arithmetic methods accept the type Number,&lt;br /&gt;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;which is Integer or Double and converts them as it fits.&lt;/p&gt;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  5</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  47</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  -25</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  0xFF</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;&lt;p&gt;Double numbers use a boxed double-precision floating point number.&lt;/p&gt;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  999.9</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  2.00001</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  2e+2</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  2.4e-8</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;&lt;p&gt;Seemless arbitrary-precision math is planned for the 1.0 release.&lt;/p&gt;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;&lt;h3&gt;Strings&lt;/h3&gt;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;&lt;p&gt;Strings begin with a single quote, followed by a series of &lt;span class=&quot;caps&quot;&gt;UTF&lt;/span&gt;-8 characters, then a final single quote. There is only one escape code: &lt;code&gt;&#39;&#39;&lt;/code&gt; for an embedded single quote.&lt;/p&gt;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  &#39;Cornelius&#39;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  &#39;Tuesday</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  Jun 29th, 2009&#39;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  &#39;C:\Program Files\Potion&#39;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;&lt;p&gt;Double-quoted strings allow a number of escape codes.&lt;/p&gt;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;&lt;ul&gt;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;   &lt;li&gt;&lt;code&gt;&quot;\n&quot;&lt;/code&gt; for a newline.&lt;/li&gt;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;   &lt;li&gt;&lt;code&gt;&quot;\r&quot;&lt;/code&gt; for a carriage return.&lt;/li&gt;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;   &lt;li&gt;&lt;code&gt;&quot;\t&quot;&lt;/code&gt; for a tab.&lt;/li&gt;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   &lt;li&gt;&lt;code&gt;&quot;\uXXXX&quot;&lt;/code&gt; for a Unicode character.&lt;/li&gt;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;&lt;/ul&gt;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;&lt;h2&gt;Expressions&lt;/h2&gt;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;&lt;p&gt;In my opinion, a language can be called &amp;#8220;functional&amp;#8221; if every statement and expression returns a value. Even &lt;code&gt;if&lt;/code&gt; statements or class definitions. This is just how Potion is designed. Every statement is a function, since it takes arguments and returns results. There is no &lt;code&gt;void&lt;/code&gt;.&lt;/p&gt;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;&lt;h3&gt;if, elsif, else&lt;/h3&gt;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;&lt;p&gt;The &lt;code&gt;if&lt;/code&gt; keyword tests its arguments for truth. Its block is then executed if they pass.&lt;/p&gt;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  if (age &amp;gt; 100): &#39;ancient&#39;.</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;&lt;p&gt;Like any function, &lt;code&gt;if&lt;/code&gt; returns a result. If the condition fails, you get &lt;code&gt;nil&lt;/code&gt;. Otherwise, you get the result of the code executed inside the block.&lt;/p&gt;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;&lt;p&gt;Beyond &lt;code&gt;if&lt;/code&gt;, you can chain &lt;code&gt;elsif&lt;/code&gt; and &lt;code&gt;else&lt;/code&gt; to catch other conditions.&lt;/p&gt;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  author =</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    if (title == &#39;Jonathan Strange &amp;amp; Mr. Norrell&#39;):</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      &#39;Susanna Clarke&#39;.</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    elsif (title == &#39;The Star Diaries&#39;):</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      &#39;Stanislaw Lem&#39;.</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    elsif (title == &#39;The Slynx&#39;):</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      &#39;Tatyana Tolstaya&#39;.</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    else:</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      &#39;... probably Philip K. Dick&#39;.</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;&lt;p&gt;These three keywords can all be executed like functions, even though they are compiled into basic instructions.&lt;/p&gt;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;&lt;h3&gt;loop&lt;/h3&gt;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;&lt;p&gt;The &lt;code&gt;loop&lt;/code&gt; keyword executes its block endlessly.&lt;/p&gt;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  loop: &#39;quaff&#39; print.</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;&lt;h3&gt;while&lt;/h3&gt;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;&lt;p&gt;The &lt;code&gt;while&lt;/code&gt; keyword will execute its block endlessly, as long as its arguments stay true.&lt;/p&gt;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  count = 8</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  while (count &amp;gt; 0):</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    &#39;quaff&#39; print</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    count--.</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;&lt;h3&gt;to&lt;/h3&gt;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;&lt;p&gt;Potion has no &lt;code&gt;for&lt;/code&gt; keyword. One alternative is the &lt;code&gt;to&lt;/code&gt; keyword.&lt;/p&gt;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  1 to 5 (a):</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    a string print.</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  num = argv(1) number</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  1 to (num, (a):</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    a print.)</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;&lt;p&gt;The &lt;code&gt;to&lt;/code&gt; keyword will loop from the first number, up to the last.&lt;/p&gt;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;&lt;p&gt;Another option is the &lt;code&gt;times&lt;/code&gt; method, which starts at zero.&lt;/p&gt;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  5 times: &#39;Odelay&#39; print.</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;&lt;p&gt;Notice how the block doesn&amp;#8217;t need parentheses if we don&amp;#8217;t want the block arguments coming in.&lt;/p&gt;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;&lt;h3&gt;return&lt;/h3&gt;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;&lt;p&gt;Returns a value from the function. You only need to use the &lt;code&gt;return&lt;/code&gt; keyword explicitly if you&amp;#8217;re looking to quit in the middle of the function.&lt;/p&gt;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;&lt;h2&gt;Names and Objects&lt;/h2&gt;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;&lt;p&gt;The most expressive parts of a program are the naming and creation of unique objects.&lt;/p&gt;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;&lt;h3&gt;Variables&lt;/h3&gt;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;&lt;p&gt;Generally, any &lt;span class=&quot;caps&quot;&gt;UTF&lt;/span&gt;-8 set of characters which isn&amp;#8217;t seen as a built-in type or operator can be used as a variable. Variables are assigned with a plain equals sign.&lt;/p&gt;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  t = true</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  $$ = [dollars 100]</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  HTTP = &#39;Hypertext Transfer Protocol&#39;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  わが身 = self </div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;&lt;p&gt;You must set a variable before using it (even if just to &lt;code&gt;nil&lt;/code&gt;.) Otherwise, Potion sees a message, sent to &lt;code&gt;self&lt;/code&gt;.&lt;/p&gt;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;&lt;h3&gt;Messages&lt;/h3&gt;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;&lt;p&gt;Messages follow the same rules as variables. A message name can be any &lt;span class=&quot;caps&quot;&gt;UTF&lt;/span&gt;-8 character which isn&amp;#8217;t a built-in type or operator.&lt;/p&gt;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  Number $ = ():</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    [dollars (amount=self)].</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  100 $</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;&lt;p&gt;In this example, the &lt;code&gt;$&lt;/code&gt; message converts the number into a kind of currency lick.&lt;/p&gt;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;&lt;h3&gt;Queries&lt;/h3&gt;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;&lt;p&gt;Objects can be asked if they respond to a message, by prefixing the message with a question mark.&lt;/p&gt;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  if (3 ?gender):</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    &quot;Huh? Numbers are sexed? That&#39;s amazing.&quot; print.</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;&lt;p&gt;You can also optionally execute the message by send it arguments. And you can space out the quiz mark, if you want.&lt;/p&gt;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  3 ? gender ()</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;&lt;p&gt;Since numbers don&amp;#8217;t have a &lt;code&gt;gender&lt;/code&gt; method, this&amp;#8217;ll give &lt;code&gt;nil&lt;/code&gt; rather than an error.&lt;/p&gt;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;&lt;p&gt;A better example of this would be if you are in a web application and you wanted to see if the query string contained a &lt;code&gt;session&lt;/code&gt; entry.&lt;/p&gt;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  HomePage get = (url):</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    session = url query ? at (&#39;session&#39;).</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;&lt;p&gt;That way if &lt;code&gt;query&lt;/code&gt; is empty, you won&amp;#8217;t get an error, you&amp;#8217;ll just get nil. Assuming that &lt;code&gt;query&lt;/code&gt; is a table, though &amp;#8212; you&amp;#8217;ll get back the value filed under the &lt;code&gt;&#39;session&#39;&lt;/code&gt; key.&lt;/p&gt;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;&lt;h3&gt;Paths&lt;/h3&gt;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;&lt;p&gt;A path is any set of non-whitespace &lt;span class=&quot;caps&quot;&gt;UTF&lt;/span&gt;-8 characters preceded by a slash. A path is also called an &amp;#8220;instance variable&amp;#8221; in programming jargon.&lt;/p&gt;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  BTree = class: /left, /right.</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  b = BTree ()</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  b /left = BTree ()</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  b /right = BTree ()</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;&lt;p&gt;Paths cannot be randomly added to the object after the object is created. Each object has a strict set of paths. Every path which is used in the constructor is added to the object upon creation.&lt;/p&gt;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;&lt;h3&gt;Path Queries&lt;/h3&gt;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;&lt;p&gt;As with methods, you can query an object to see if it has a given path.&lt;/p&gt;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;&lt;pre&gt;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;&lt;code&gt;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  BTree = class: /left, /right.</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  b = BTree ()</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  if (b ? /left):</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    &#39;left path found!&#39; print.</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;&lt;/code&gt;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;&lt;/pre&gt;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;&lt;h2&gt;And That&amp;#8217;s It?&lt;/h2&gt;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;&lt;p&gt;Yes, that&amp;#8217;s the important stuff for now. But a number of new features are coming to Potion soon&lt;sup class=&quot;footnote&quot; id=&quot;fnr3&quot;&gt;&lt;a href=&quot;#fn3&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;&lt;ul&gt;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;   &lt;li&gt;Assignment extended to match and bind, for expressing conditions on object layout.&lt;/li&gt;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;   &lt;li&gt;&lt;span class=&quot;caps&quot;&gt;FFI&lt;/span&gt; (&lt;code&gt;extern&lt;/code&gt;), debuggers (-d), external compilers (-c) (&lt;em&gt;to c and native executable for the start&lt;/em&gt;).&lt;/li&gt;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;   &lt;li&gt;Types and symbol tables. Types to be faster, and symtabs to be slower and more like a &lt;span class=&quot;caps&quot;&gt;LISP&lt;/span&gt; and perl/ruby.&lt;/li&gt;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;   &lt;li&gt;Compiler macros and compiler optimizations, like tailcall, constant folding, strength reduction.&lt;/li&gt;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;   &lt;li&gt;Bignums, marshalling.&lt;/li&gt;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;   &lt;li&gt;More libraries for os, ui, db, &amp;#8230;&lt;/li&gt;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;   &lt;li&gt;And also: Native threading. This is a biggie. It requires lock-free bags and some new native&lt;br /&gt;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  atomic insns and parallelizing loops. The work-stealing sister language sol&lt;sup class=&quot;footnote&quot; id=&quot;fnr4&quot;&gt;&lt;a href=&quot;#fn4&quot;&gt;4&lt;/a&gt;&lt;/sup&gt; looks good,&lt;br /&gt;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  it can yield to other threads. But if or if not to steal work, and if or not share data.&lt;/li&gt;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;   &lt;li&gt;Channels and blocking recv for typed task communications al la Go. On top of &lt;code&gt;aio&lt;/code&gt;.&lt;/li&gt;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;   &lt;li&gt;Eventually lists, implemented via licks, but with a LISPy feeling.&lt;/li&gt;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;&lt;/ul&gt;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;&lt;p&gt;This are already in, but documented elsewhere&lt;sup class=&quot;footnote&quot; id=&quot;fnr5&quot;&gt;&lt;a href=&quot;#fn5&quot;&gt;5&lt;/a&gt;&lt;/sup&gt;:&lt;/p&gt;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;&lt;ul&gt;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;   &lt;li&gt;Mixins, a syntax for blending methods into classes.&lt;/li&gt;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;   &lt;li&gt;&lt;span class=&quot;caps&quot;&gt;MOP&lt;/span&gt;, changing metaclasses, the behavior of classes.&lt;/li&gt;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;   &lt;li&gt;Coroutines, a technique for inprocess threading.&lt;/li&gt;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;   &lt;li&gt;Continuations, for saving and resuming the stack, &lt;code&gt;here&lt;/code&gt; and &lt;code&gt;yield&lt;/code&gt;.&lt;/li&gt;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;   &lt;li&gt;Exceptions for graceful error handling.&lt;/li&gt;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;   &lt;li&gt;Asynchronous non-blocking IO in the &lt;code&gt;aio&lt;/code&gt; module.&lt;/li&gt;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;   &lt;li&gt;Buffered stream FILE* IO in the &lt;code&gt;buffile&lt;/code&gt; module.&lt;/li&gt;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;   &lt;li&gt;&lt;code&gt;readline&lt;/code&gt; module providing a little repl if called without script&lt;/li&gt;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;   &lt;li&gt;Optional, named and default signature arguments.&lt;/li&gt;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;&lt;/ul&gt;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;&lt;p&gt;Thankyou for reading along. I hope this was only a brief interruption to an otherwise lush and exotic life. I&amp;#8217;m sorry to disappoint with so little. Perhaps one day I can make things right?&lt;/p&gt;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;&lt;h2&gt;Footnotes&lt;/h2&gt;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;&lt;p class=&quot;footnote&quot; id=&quot;fn1&quot;&gt;&lt;a href=&quot;#fnr1&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt; Potion the &lt;a href=&quot;http://github.com/perl11/potion&quot;&gt;programming language&lt;/a&gt;. Not the drink of fables.&lt;/p&gt;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;&lt;p class=&quot;footnote&quot; id=&quot;fn2&quot;&gt;&lt;a href=&quot;#fnr2&quot;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt; &lt;a href=&quot;http://en.wikipedia.org/wiki/ECMAScript_for_XML&quot;&gt;ECMAScript for &lt;span class=&quot;caps&quot;&gt;XML&lt;/span&gt;&lt;/a&gt;. (See also: &lt;a href=&quot;http://en.wikipedia.org/wiki/S-Expression&quot;&gt;s-expression&lt;/a&gt;.)&lt;/p&gt;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;&lt;p class=&quot;footnote&quot; id=&quot;fn3&quot;&gt;&lt;a href=&quot;#fnr3&quot;&gt;&lt;sup&gt;3&lt;/sup&gt;&lt;/a&gt; &lt;a href=&quot;https://github.com/perl11/potion/wiki/_pages&quot;&gt;Potion wiki&lt;/a&gt;.&lt;/p&gt;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;&lt;p class=&quot;footnote&quot; id=&quot;fn4&quot;&gt;&lt;a href=&quot;#fnr4&quot;&gt;&lt;sup&gt;4&lt;/sup&gt;&lt;/a&gt; &lt;a href=&quot;http://github.com/rsms/sol&quot;&gt;sol&lt;/a&gt;.&lt;/p&gt;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;&lt;p class=&quot;footnote&quot; id=&quot;fn5&quot;&gt;&lt;a href=&quot;#fnr5&quot;&gt;&lt;sup&gt;5&lt;/sup&gt;&lt;/a&gt; &lt;a href=&quot;http://perl11.github.io/potion/html/&quot;&gt;Potion Documentation&lt;/a&gt;.&lt;/p&gt;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;&lt;h2&gt;Potion&amp;#8217;s and p2 license&lt;/h2&gt;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;&lt;p&gt;p2 is free software, released under an &lt;span class=&quot;caps&quot;&gt;MIT&lt;/span&gt; and &lt;span class=&quot;caps&quot;&gt;ARTISTIC&lt;/span&gt; 2 license &amp;#8212;&lt;br /&gt;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;the very brief paragraphs below. There is satisfaction simply in&lt;br /&gt;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;having created this. Please use this how you may, even in commercial&lt;br /&gt;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;or academic software. I&amp;#8217;ve had a good time and am want for nothing.&lt;/p&gt;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;&lt;hr /&gt;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;&lt;p&gt;potion is copyright &amp;#169; 2009 why the lucky stiff, &lt;span class=&quot;caps&quot;&gt;MIT&lt;/span&gt; licensed.&lt;/p&gt;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;&lt;p&gt;p2 and maintainance code by perl11 http://perl11.github.io/p2/&lt;br /&gt;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  &amp;#169; 2013 perl11.github.io, licensed under the &lt;span class=&quot;caps&quot;&gt;ARTISTIC&lt;/span&gt; 2.&lt;/p&gt;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;&lt;p&gt;HOWEVER. The follow &lt;span class=&quot;caps&quot;&gt;MIT&lt;/span&gt; licensed codes have also been employed:&lt;/p&gt;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;&lt;p&gt;Be it known, parts of the object model taken from &lt;a href=&quot;http://www.piumarta.com/software/id-objmodel/&quot;&gt;obj.c&lt;/a&gt;.&lt;br /&gt;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  &amp;#169; 2007 Ian Piumarta&lt;/p&gt;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;&lt;p&gt;And, also, the design of the VM bytecode is from &lt;a href=&quot;http://luaforge.net/docman/view.php/83/98/ANoFrillsIntroToLua51VMInstructions.pdf&quot;&gt;Lua&lt;/a&gt;.&lt;br /&gt;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  &amp;#169; 1994-2006 Lua.org, &lt;span class=&quot;caps&quot;&gt;PUC&lt;/span&gt;-Rio&lt;/p&gt;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;&lt;p&gt;The Mersenne Twister (&lt;a href=&quot;http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/MT2002/emt19937ar.html&quot;&gt;MT19937&lt;/a&gt;)&lt;br /&gt;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  &amp;#169; 1997-2002, Makoto Matsumoto and Takuji Nishimura&lt;/p&gt;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;&lt;p&gt;Lastly, &lt;a href=&quot;http://attractivechaos.awardspace.com/khash.h.html&quot;&gt;khash.h&lt;/a&gt;.&lt;br /&gt;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  &amp;#169; 2008, by Attractive Chaos&lt;/p&gt;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;&lt;p&gt;Permission is hereby granted, free of charge, to any person obtaining&lt;br /&gt;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;a copy of this software and associated documentation files (the&lt;br /&gt;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;&amp;#8220;Software&amp;#8221;), to deal in the Software without restriction, including&lt;br /&gt;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;without limitation the rights to use, copy, modify, merge, publish,&lt;br /&gt;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;distribute, sublicense, and/or sell copies of the Software, and to&lt;br /&gt;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;permit persons to whom the Software is furnished to do so, subject to&lt;br /&gt;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;the following conditions:&lt;/p&gt;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;&lt;p&gt;The above copyright notice and this permission notice shall be&lt;br /&gt;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;included in all copies or substantial portions of the Software.&lt;/p&gt;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;&lt;p&gt;&lt;span class=&quot;caps&quot;&gt;THE&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;SOFTWARE&lt;/span&gt; IS &lt;span class=&quot;caps&quot;&gt;PROVIDED&lt;/span&gt; &amp;#8220;AS IS&amp;#8221;, &lt;span class=&quot;caps&quot;&gt;WITHOUT&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;WARRANTY&lt;/span&gt; OF &lt;span class=&quot;caps&quot;&gt;ANY&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;KIND&lt;/span&gt;,&lt;br /&gt;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;&lt;span class=&quot;caps&quot;&gt;EXPRESS&lt;/span&gt; OR &lt;span class=&quot;caps&quot;&gt;IMPLIED&lt;/span&gt;, &lt;span class=&quot;caps&quot;&gt;INCLUDING&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;BUT&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;LIMITED&lt;/span&gt; TO &lt;span class=&quot;caps&quot;&gt;THE&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;WARRANTIES&lt;/span&gt; OF&lt;br /&gt;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;&lt;span class=&quot;caps&quot;&gt;MERCHANTABILITY&lt;/span&gt;, &lt;span class=&quot;caps&quot;&gt;FITNESS&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;FOR&lt;/span&gt; A &lt;span class=&quot;caps&quot;&gt;PARTICULAR&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;PURPOSE&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;AND&lt;/span&gt;&lt;br /&gt;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;&lt;span class=&quot;caps&quot;&gt;NONINFRINGEMENT&lt;/span&gt;. IN NO &lt;span class=&quot;caps&quot;&gt;EVENT&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;SHALL&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;THE&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;AUTHORS&lt;/span&gt; BE &lt;span class=&quot;caps&quot;&gt;LIABLE&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;FOR&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;ANY&lt;/span&gt;&lt;br /&gt;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;&lt;span class=&quot;caps&quot;&gt;CLAIM&lt;/span&gt;, &lt;span class=&quot;caps&quot;&gt;DAMAGES&lt;/span&gt; OR &lt;span class=&quot;caps&quot;&gt;OTHER&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;LIABILITY&lt;/span&gt;, &lt;span class=&quot;caps&quot;&gt;WHETHER&lt;/span&gt; IN AN &lt;span class=&quot;caps&quot;&gt;ACTION&lt;/span&gt; OF &lt;span class=&quot;caps&quot;&gt;CONTRACT&lt;/span&gt;,&lt;br /&gt;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;&lt;span class=&quot;caps&quot;&gt;TORT&lt;/span&gt; OR &lt;span class=&quot;caps&quot;&gt;OTHERWISE&lt;/span&gt;, &lt;span class=&quot;caps&quot;&gt;ARISING&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;FROM&lt;/span&gt;, &lt;span class=&quot;caps&quot;&gt;OUT&lt;/span&gt; OF OR IN &lt;span class=&quot;caps&quot;&gt;CONNECTION&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;WITH&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;THE&lt;/span&gt;&lt;br /&gt;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;&lt;span class=&quot;caps&quot;&gt;SOFTWARE&lt;/span&gt; OR &lt;span class=&quot;caps&quot;&gt;THE&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;USE&lt;/span&gt; OR &lt;span class=&quot;caps&quot;&gt;OTHER&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;DEALINGS&lt;/span&gt; IN &lt;span class=&quot;caps&quot;&gt;THE&lt;/span&gt; &lt;span class=&quot;caps&quot;&gt;SOFTWARE&lt;/span&gt;.&lt;/p&gt;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;</div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Feb 02 2018 for p2 "0.0" (date="2016-11-20")
by <a href="http://www.doxygen.org/index.html">doxygen</a>  1.8.13
</small></address></body></html>
