<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title></title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@osx219.apple.com" />
</head>

<body style="background-color: white">



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#Performance-Enhancements">Performance Enhancements</a></li>
  <li><a href="#Modules-and-Pragmata">Modules and Pragmata</a>
    <ul>
      <li><a href="#Updated-Modules-and-Pragmata">Updated Modules and Pragmata</a></li>
    </ul>
  </li>
  <li><a href="#Diagnostics">Diagnostics</a>
    <ul>
      <li><a href="#New-Diagnostics">New Diagnostics</a>
        <ul>
          <li><a href="#New-Errors">New Errors</a></li>
        </ul>
      </li>
      <li><a href="#Changes-to-Existing-Diagnostics">Changes to Existing Diagnostics</a></li>
    </ul>
  </li>
  <li><a href="#Configuration-and-Compilation">Configuration and Compilation</a></li>
  <li><a href="#Testing">Testing</a></li>
  <li><a href="#Platform-Support">Platform Support</a>
    <ul>
      <li><a href="#New-Platforms">New Platforms</a></li>
    </ul>
  </li>
  <li><a href="#Internal-Changes">Internal Changes</a></li>
  <li><a href="#Selected-Bug-Fixes">Selected Bug Fixes</a></li>
  <li><a href="#Acknowledgements">Acknowledgements</a></li>
  <li><a href="#Reporting-Bugs">Reporting Bugs</a></li>
  <li><a href="#SEE-ALSO">SEE ALSO</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>perl5256delta - what is new for perl v5.25.6</p>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>This document describes differences between the 5.25.5 release and the 5.25.6 release.</p>

<p>If you are upgrading from an earlier release such as 5.25.4, first read <a href="/cperl/perl5255delta.html">perl5255delta</a>, which describes differences between 5.25.4 and 5.25.5.</p>

<h1 id="Performance-Enhancements">Performance Enhancements</h1>

<ul>

<li><p>Converting a single-digit string to a number is now substantially faster.</p>

</li>
<li><p>The internal op implementing the <code>split</code> builtin has been simplified and sped up. Firstly, it no longer requires a subsidiary internal <code>pushre</code> op to do its work. Secondly, code of the form <code>my @x = split(...)</code> is now optimised in the same way as <code>@x = split(...)</code>, and is therefore a few percent faster.</p>

</li>
</ul>

<h1 id="Modules-and-Pragmata">Modules and Pragmata</h1>

<h2 id="Updated-Modules-and-Pragmata">Updated Modules and Pragmata</h2>

<ul>

<li><p><a href="/cperl/lib/Archive/Tar.html">Archive::Tar</a> has been upgraded from version 2.10 to 2.14.</p>

</li>
<li><p><a href="/cperl/lib/attributes.html">attributes</a> has been upgraded from version 0.27 to 0.28.</p>

</li>
<li><p><a href="/cperl/lib/B.html">B</a> has been upgraded from version 1.63 to 1.64.</p>

</li>
<li><p><a href="/cperl/lib/B/Concise.html">B::Concise</a> has been upgraded from version 0.998 to 0.999.</p>

<p>Its output is now more descriptive for <code>op_private</code> flags.</p>

</li>
<li><p><a href="/cperl/lib/B/Deparse.html">B::Deparse</a> has been upgraded from version 1.38 to 1.39.</p>

</li>
<li><p><a href="/cperl/lib/Data/Dumper.html">Data::Dumper</a> has been upgraded from version 2.161 to 2.162.</p>

</li>
<li><p><a href="/cperl/lib/Devel/Peek.html">Devel::Peek</a> has been upgraded from version 1.24 to 1.25.</p>

</li>
<li><p><a href="/cperl/lib/HTTP/Tiny.html">HTTP::Tiny</a> has been upgraded from version 0.064 to 0.070.</p>

<p>Internal 599-series errors now include the redirect history.</p>

</li>
<li><p><a href="/cperl/lib/List/Util.html">List::Util</a> has been upgraded from version 1.45_01 to 1.46.</p>

</li>
<li><p><a href="/cperl/lib/Module/CoreList.html">Module::CoreList</a> has been upgraded from version 5.20160920 to 5.20161020.</p>

</li>
<li><p><a href="/cperl/lib/mro.html">mro</a> has been upgraded from version 1.18 to 1.19.</p>

</li>
<li><p><a href="/cperl/lib/Net/Ping.html">Net::Ping</a> has been upgraded from version 2.44 to 2.51.</p>

<p>IPv6 addresses and <code>AF_INET6</code> sockets are now supported, along with several other enhancements.</p>

</li>
<li><p><a href="/cperl/lib/Opcode.html">Opcode</a> has been upgraded from version 1.37 to 1.38.</p>

</li>
<li><p><a href="/cperl/lib/overload.html">overload</a> has been upgraded from version 1.26 to 1.27.</p>

<p>Its compilation speed has been improved slightly.</p>

</li>
<li><p><a href="/cperl/lib/parent.html">parent</a> has been upgraded from version 0.234 to 0.236.</p>

</li>
<li><p><a href="/cperl/lib/PerlIO/encoding.html">PerlIO::encoding</a> has been upgraded from version 0.24 to 0.25.</p>

</li>
<li><p>podlators has been upgraded from version 4.07 to 4.08.</p>

</li>
<li><p><a href="/cperl/lib/POSIX.html">POSIX</a> has been upgraded from version 1.72 to 1.73.</p>

</li>
<li><p><a href="/cperl/lib/Scalar/Util.html">Scalar::Util</a> has been upgraded from version 1.45_01 to 1.46.</p>

</li>
<li><p><a href="/cperl/lib/Storable.html">Storable</a> has been upgraded from version 2.57 to 2.58.</p>

</li>
<li><p><a href="/cperl/lib/Test/Simple.html">Test::Simple</a> has been upgraded from version 1.302056 to 1.302059.</p>

</li>
<li><p><a href="/cperl/lib/Time/HiRes.html">Time::HiRes</a> has been upgraded from version 1.9739 to 1.9740_01.</p>

<p>It now builds on systems with C++11 compilers (such as G++ 6 and Clang++ 3.9).</p>

</li>
<li><p><a>VMS::Stdio</a> has been upgraded from version 2.41 to 2.42.</p>

</li>
</ul>

<h1 id="Diagnostics">Diagnostics</h1>

<p>The following additions or changes have been made to diagnostic output, including warnings and fatal error messages. For the complete list of diagnostic messages, see <a href="/cperl/perldiag.html">perldiag</a>.</p>

<h2 id="New-Diagnostics">New Diagnostics</h2>

<h3 id="New-Errors">New Errors</h3>

<ul>

<li><p>Using the empty pattern (which re-executes the last successfully-matched pattern) inside a code block in another regex, as in <code>/(?{ s!!new! })/</code>, has always previously yielded a segfault. It now produces an error: <a href="/cperl/perldiag.html#Use-of-the-empty-pattern-inside-of-a-regex-code-block-is-forbidden">Use of the empty pattern inside of a regex code block is forbidden</a>.</p>

</li>
</ul>

<h2 id="Changes-to-Existing-Diagnostics">Changes to Existing Diagnostics</h2>

<ul>

<li><p>Details as to the exact problem have been added to the diagnostics that occur when malformed UTF-8 is encountered when trying to convert to a code point.</p>

</li>
<li><p>Executing <code>undef $x</code> where <code>$x</code> is tied or magical no longer incorrectly blames the variable for an uninitialized-value warning encountered by the tied/magical code.</p>

</li>
</ul>

<h1 id="Configuration-and-Compilation">Configuration and Compilation</h1>

<ul>

<li><p>Builds using <code>USE_PAD_RESET</code> now work again; this configuration had bit-rotted.</p>

</li>
</ul>

<h1 id="Testing">Testing</h1>

<ul>

<li><p>Some parts of the test suite that try to exhaustively test edge cases in the regex implementation have been restricted to running for a maximum of five minutes. On slow systems they could otherwise take several hours, without significantly improving our understanding of the correctness of the code under test.</p>

<p>In addition, some of those test cases have been split into more files, to allow them to be run in parallel on suitable systems.</p>

</li>
<li><p>A new internal facility allows analysing the time taken by the individual tests in Perl&#39;s own test suite; see <i>Porting/harness-timer-report.pl</i>.</p>

</li>
</ul>

<h1 id="Platform-Support">Platform Support</h1>

<h2 id="New-Platforms">New Platforms</h2>

<dl>

<dt id="NetBSD-VAX">NetBSD/VAX</dt>
<dd>

<p>Perl now compiles under NetBSD on VAX machines. However, it&#39;s not possible for that platform to implement floating-point infinities and NaNs compatibly with most modern systems, which implement the IEEE-754 floating point standard. The hexadecimal floating point (<code>0x...p[+-]n</code> literals, <code>printf %a</code>) is not implemented, either. The <code>make test</code> passes 98% of tests.</p>

</dd>
</dl>

<h1 id="Internal-Changes">Internal Changes</h1>

<ul>

<li><p>The <code>PADOFFSET</code> type has changed from being unsigned to signed, and several pad-related variables such as <code>PL_padix</code> have changed from being of type <code>I32</code> to type <code>PADOFFSET</code>.</p>

</li>
<li><p>The function <code><a href="/cperl/perlapi.html#utf8n_to_uvchr">&quot;utf8n_to_uvchr&quot; in perlapi</a></code> has been changed to not abandon searching for other malformations when the first one is encountered. A call to it thus can generate multiple diagnostics, instead of just one.</p>

</li>
<li><p>A new function, <code><a href="/cperl/perlapi.html#utf8n_to_uvchr_error">&quot;utf8n_to_uvchr_error&quot; in perlapi</a></code>, has been added for use by modules that need to know the details of UTF-8 malformations beyond pass/fail. Previously, the only ways to know why a sequence was ill-formed was to capture and parse the generated diagnostics, or to do your own analysis.</p>

</li>
<li><p>Several new functions for handling Unicode have been added to the API: <code><a href="/cperl/perlapi.html#is_strict_utf8_string">&quot;is_strict_utf8_string&quot; in perlapi</a></code>, <code><a href="/cperl/perlapi.html#is_c9strict_utf8_string">&quot;is_c9strict_utf8_string&quot; in perlapi</a></code>, <code><a href="/cperl/perlapi.html#is_utf8_string_flags">&quot;is_utf8_string_flags&quot; in perlapi</a></code>, <code><a href="/cperl/perlapi.html#is_strict_utf8_string_loc">&quot;is_strict_utf8_string_loc&quot; in perlapi</a></code>, <code><a href="/cperl/perlapi.html#is_strict_utf8_string_loclen">&quot;is_strict_utf8_string_loclen&quot; in perlapi</a></code>, <code><a href="/cperl/perlapi.html#is_c9strict_utf8_string_loc">&quot;is_c9strict_utf8_string_loc&quot; in perlapi</a></code>, <code><a href="/cperl/perlapi.html#is_c9strict_utf8_string_loclen">&quot;is_c9strict_utf8_string_loclen&quot; in perlapi</a></code>, <code><a href="/cperl/perlapi.html#is_utf8_string_loc_flags">&quot;is_utf8_string_loc_flags&quot; in perlapi</a></code>, <code><a href="/cperl/perlapi.html#is_utf8_string_loclen_flags">&quot;is_utf8_string_loclen_flags&quot; in perlapi</a></code>, <code><a href="/cperl/perlapi.html#is_utf8_fixed_width_buf_flags">&quot;is_utf8_fixed_width_buf_flags&quot; in perlapi</a></code>, <code><a href="/cperl/perlapi.html#is_utf8_fixed_width_buf_loc_flags">&quot;is_utf8_fixed_width_buf_loc_flags&quot; in perlapi</a></code>, <code><a href="/cperl/perlapi.html#is_utf8_fixed_width_buf_loclen_flags">&quot;is_utf8_fixed_width_buf_loclen_flags&quot; in perlapi</a></code>.</p>

<p>These functions are all extensions of the <code>is_utf8_string_*()</code> functions, that apply various restrictions to the UTF-8 recognized as valid.</p>

</li>
<li><p>A new API function <code>sv_setvpv_bufsize()</code> allows simultaneously setting the length and allocated size of the buffer in an <code>SV</code>, growing the buffer if necessary.</p>

</li>
<li><p>A new API macro <code>SvPVCLEAR()</code> sets its <code>SV</code> argument to an empty string, like Perl-space <code>$x = &#39;&#39;</code>, but with several optimisations.</p>

</li>
<li><p>All parts of the internals now agree that the <code>sassign</code> op is a <code>BINOP</code>; previously it was listed as a <code>BASEOP</code> in <i>regen/opcodes</i>, which meant that several parts of the internals had to be special-cased to accommodate it. This oddity&#39;s original motivation was to handle code like <code>$x ||= 1</code>; that is now handled in a simpler way.</p>

</li>
<li><p>Several new internal C macros have been added that take a string literal as arguments, alongside existing routines that take the equivalent value as two arguments, a character pointer and a length. The advantage of this is that the length of the string is calculated automatically, rather than having to be done manually. These routines are now used where appropriate across the entire codebase.</p>

</li>
<li><p>The code in <i>gv.c</i> that determines whether a variable has a special meaning to Perl has been simplified.</p>

</li>
<li><p>The <code>DEBUGGING</code>-mode output for regex compilation and execution has been enhanced.</p>

</li>
</ul>

<h1 id="Selected-Bug-Fixes">Selected Bug Fixes</h1>

<ul>

<li><p>A sub containing a &quot;forward&quot; declaration with the same name (e.g., <code>sub c { sub c; }</code>) could sometimes crash or loop infinitely. [perl #129090]</p>

</li>
<li><p>A crash in executing a regex with a floating UTF-8 substring against a target string that also used UTF-8 has been fixed. [perl #129350]</p>

</li>
<li><p>Previously, a shebang line like <code>#!perl -i u</code> could be erroneously interpreted as requesting the <code>-u</code> option. This has been fixed. [perl #129336]</p>

</li>
<li><p>The regex engine was previously producing incorrect results in some rare situations when backtracking past a trie that matches only one thing; this showed up as capture buffers (<code>$1</code>, <code>$2</code>, etc) erroneously containing data from regex execution paths that weren&#39;t actually executed for the final match. [perl #129897]</p>

</li>
<li><p>Certain regexes making use of the experimental <code>regex_sets</code> feature could trigger an assertion failure. This has been fixed. [perl #129322]</p>

</li>
</ul>

<h1 id="Acknowledgements">Acknowledgements</h1>

<p>Perl 5.25.6 represents approximately 4 weeks of development since Perl 5.25.5 and contains approximately 16,000 lines of changes across 300 files from 23 authors.</p>

<p>Excluding auto-generated files, documentation and release tools, there were approximately 10,000 lines of changes to 190 .pm, .t, .c and .h files.</p>

<p>Perl continues to flourish into its third decade thanks to a vibrant community of users and developers. The following people are known to have contributed the improvements that became Perl 5.25.6:</p>

<p>Aaron Crane, Andy Lester, Chris &#39;BinGOs&#39; Williams, Dagfinn Ilmari Manns&aring;ker, Dan Collins, David Mitchell, Fran&ccedil;ois Perrad, Hugo van der Sanden, James E Keenan, James Raspass, Jarkko Hietaniemi, Karl Williamson, Lukas Mai, Nicolas R., Reini Urban, Sawyer X, Sergey Aleynikov, Stevan Little, Steve Hay, Steven Humphrey, Thomas Sibley, Tony Cook, Yves Orton.</p>

<p>The list above is almost certainly incomplete as it is automatically generated from version control history. In particular, it does not include the names of the (very much appreciated) contributors who reported issues to the Perl bug tracker.</p>

<p>Many of the changes included in this version originated in the CPAN modules included in Perl&#39;s core. We&#39;re grateful to the entire CPAN community for helping Perl to flourish.</p>

<p>For a more complete list of all of Perl&#39;s historical contributors, please see the <i>AUTHORS</i> file in the Perl source distribution.</p>

<h1 id="Reporting-Bugs">Reporting Bugs</h1>

<p>If you find what you think is a bug, you might check the perl bug database at <a href="https://rt.perl.org/">https://rt.perl.org/</a> . There may also be information at <a href="http://www.perl.org/">http://www.perl.org/</a> , the Perl Home Page.</p>

<p>If you believe you have an unreported bug, please run the <a>perlbug</a> program included with your release. Be sure to trim your bug down to a tiny but sufficient test case. Your bug report, along with the output of <code>perl -V</code>, will be sent off to perlbug@perl.org to be analysed by the Perl porting team.</p>

<p>If the bug you are reporting has security implications which make it inappropriate to send to a publicly archived mailing list, then see <a href="/cperl/perlsec.html#SECURITY-VULNERABILITY-CONTACT-INFORMATION">&quot;SECURITY VULNERABILITY CONTACT INFORMATION&quot; in perlsec</a> for details of how to report the issue.</p>

<h1 id="SEE-ALSO">SEE ALSO</h1>

<p>The <i>Changes</i> file for an explanation of how to view exhaustive details on what changed.</p>

<p>The <i>INSTALL</i> file for how to build Perl.</p>

<p>The <i>README</i> file for general stuff.</p>

<p>The <i>Artistic</i> and <i>Copying</i> files for copyright information.</p>


</body>

</html>


