<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>potion: compile.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">potion
   &#160;<span id="projectnumber">0.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d2/d47/compile_8c.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">compile.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>transform the ast to simple two-address lua-like bytecode.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d07/potion_8h_source.html">potion.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/dde/internal_8h_source.html">internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/df0/ast_8h_source.html">ast.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/de6/opcodes_8h_source.html">opcodes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../de/d21/asm_8h_source.html">asm.h</a>&quot;</code><br />
<code>#include &lt;dlfcn.h&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Include dependency graph for compile.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d3/d2f/compile_8c__incl.png" border="0" usemap="#compile_8c" alt=""/></div>
<map name="compile_8c" id="compile_8c">
<area shape="rect" id="node6" href="../../dd/d07/potion_8h.html" title="The potion API. " alt="" coords="356,80,425,107"/>
<area shape="rect" id="node12" href="../../db/dde/internal_8h.html" title="non&#45;API internal parts " alt="" coords="449,80,527,107"/>
<area shape="rect" id="node13" href="../../db/df0/ast_8h.html" title="the ast for Potion code in&#45;memory " alt="" coords="551,80,601,107"/>
<area shape="rect" id="node14" href="../../d3/de6/opcodes_8h.html" title="the Potion VM instruction set (heavily based on Lua&#39;s) " alt="" coords="626,80,710,107"/>
<area shape="rect" id="node15" href="../../de/d21/asm_8h.html" title="some assembler macros " alt="" coords="735,80,793,107"/>
<area shape="rect" id="node11" href="../../db/d16/config_8h.html" title="config.h" alt="" coords="537,155,607,181"/>
</map>
</div>
</div>
<p><a href="../../d2/d47/compile_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d49/struct_p_n_loop.html">PNLoop</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">jump table for loops, for the 2 args b and c Note: only statically allocated (max 1024)  <a href="../../d1/d49/struct_p_n_loop.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:afeab00e73d10534c5180a68a2a7a4c91"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#afeab00e73d10534c5180a68a2a7a4c91">PN_ASM1</a>(ins,  _a)&#160;&#160;&#160;f-&gt;asmb = (<a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a>)<a class="el" href="../../de/d21/asm_8h.html#a97a1342be082a71ebb4159bf81457c2d">potion_asm_op</a>(P, (<a class="el" href="../../dc/dbd/struct_p_n_asm.html">PNAsm</a> *)f-&gt;asmb, (<a class="el" href="../../db/dde/internal_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>)ins, (int)_a, 0)</td></tr>
<tr class="separator:afeab00e73d10534c5180a68a2a7a4c91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb0ffd40a9c7874c31a300033153bbf9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#adb0ffd40a9c7874c31a300033153bbf9">PN_ASM2</a>(ins,  _a,  _b)&#160;&#160;&#160;f-&gt;asmb = (<a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a>)<a class="el" href="../../de/d21/asm_8h.html#a97a1342be082a71ebb4159bf81457c2d">potion_asm_op</a>(P, (<a class="el" href="../../dc/dbd/struct_p_n_asm.html">PNAsm</a> *)f-&gt;asmb, (<a class="el" href="../../db/dde/internal_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>)ins, (int)_a, (int)_b)</td></tr>
<tr class="separator:adb0ffd40a9c7874c31a300033153bbf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec2e28e823b9863f3eed5cf9a3ddba91"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#aec2e28e823b9863f3eed5cf9a3ddba91">PN_REG</a>(f,  reg)</td></tr>
<tr class="separator:aec2e28e823b9863f3eed5cf9a3ddba91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed9e0ff030f1f722b586285278f7e0e4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#aed9e0ff030f1f722b586285278f7e0e4">PN_ARG</a>(n,  reg)</td></tr>
<tr class="separator:aed9e0ff030f1f722b586285278f7e0e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38ab9d9f1b3c0f8b16ac206e0bac7dd2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#a38ab9d9f1b3c0f8b16ac206e0bac7dd2">PN_BLOCK</a>(reg,  blk,  sig)</td></tr>
<tr class="separator:a38ab9d9f1b3c0f8b16ac206e0bac7dd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b05cbec5fc26ed8d4fce439b2af4967"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#a0b05cbec5fc26ed8d4fce439b2af4967">PN_UPVAL</a>(<a class="el" href="../../d2/d47/compile_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="separator:a0b05cbec5fc26ed8d4fce439b2af4967"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4603a3faee2d40fbbb6b40596c450b38"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#a4603a3faee2d40fbbb6b40596c450b38">PN_ARG_TABLE</a>(<a class="el" href="../../d2/d47/compile_8c.html#a696b922b70259bfcac0d3acf49cdf178">args</a>,  reg,  inc)&#160;&#160;&#160;<a class="el" href="../../d2/d47/compile_8c.html#a65d4e58018d54e8d6a8bc83074f1ac50">potion_arg_asmb</a>(P, f, loop, <a class="el" href="../../d2/d47/compile_8c.html#a696b922b70259bfcac0d3acf49cdf178">args</a>, &amp;reg, inc)</td></tr>
<tr class="separator:a4603a3faee2d40fbbb6b40596c450b38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3349ae3cedaf27042690e11ba6b40309"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#a3349ae3cedaf27042690e11ba6b40309">SRC_TUPLE_AT</a>(src,  i)&#160;&#160;&#160;<a class="el" href="../../db/df0/ast_8h.html#ada5024cdd03abb3cc067769cdc43b616">PN_SRC</a>(<a class="el" href="../../df/d30/struct_p_n_tuple.html#a019f18401b4d1f979d88a4c1a63cda2e">PN_TUPLE_AT</a>(<a class="el" href="../../db/df0/ast_8h.html#a0e9c5afa01dbaced80b64a040ab668fe">PN_S</a>(src,0), i))</td></tr>
<tr class="separator:a3349ae3cedaf27042690e11ba6b40309"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb8aed9465d15a84d64c1c13352419df"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#adb8aed9465d15a84d64c1c13352419df">PN_ASM_DEBUG</a>(<a class="el" href="../../df/d47/vm-ppc_8c.html#acee196421e9a06f7700bb3064b13b37a">REG</a>,  T)&#160;&#160;&#160;<a class="el" href="../../df/d47/vm-ppc_8c.html#acee196421e9a06f7700bb3064b13b37a">REG</a> = <a class="el" href="../../d2/d47/compile_8c.html#ab12013ccb753f696fe8eac070450a7cc">potion_source_debug</a>(P, f, T, <a class="el" href="../../df/d47/vm-ppc_8c.html#acee196421e9a06f7700bb3064b13b37a">REG</a>)</td></tr>
<tr class="separator:adb8aed9465d15a84d64c1c13352419df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7250b98fd002b1b450eead1ef84e35f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#ae7250b98fd002b1b450eead1ef84e35f">MAX_JUMPS</a>&#160;&#160;&#160;1024</td></tr>
<tr class="separator:ae7250b98fd002b1b450eead1ef84e35f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab841bd866d09a19560dc6ae3475e4a39"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#ab841bd866d09a19560dc6ae3475e4a39">LOAD_ARG</a>()&#160;&#160;&#160;<a class="el" href="../../d2/d47/compile_8c.html#a4603a3faee2d40fbbb6b40596c450b38">PN_ARG_TABLE</a>(<a class="el" href="../../db/df0/ast_8h.html#a0e9c5afa01dbaced80b64a040ab668fe">PN_S</a>(t,1), breg, 1)</td></tr>
<tr class="separator:ab841bd866d09a19560dc6ae3475e4a39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae22b9133dea54b4dc71a98651992ea66"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#ae22b9133dea54b4dc71a98651992ea66">SIG_EXPR_MSG</a>(<a class="el" href="../../d2/d47/compile_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>,  expr)</td></tr>
<tr class="separator:ae22b9133dea54b4dc71a98651992ea66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c247fbe3f2887dcfe9de9830dbb0a0e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#a2c247fbe3f2887dcfe9de9830dbb0a0e">READ_U8</a>(ptr)&#160;&#160;&#160;({<a class="el" href="../../db/dde/internal_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> rpu = *ptr; ptr += sizeof(<a class="el" href="../../db/dde/internal_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>); rpu;})</td></tr>
<tr class="separator:a2c247fbe3f2887dcfe9de9830dbb0a0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9fc363e7ea63a37620a0c12db8246f5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#ae9fc363e7ea63a37620a0c12db8246f5">READ_PN</a>(pn,  ptr)&#160;&#160;&#160;({<a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a> rpn = *(<a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a> *)ptr; ptr += pn; rpn;})</td></tr>
<tr class="separator:ae9fc363e7ea63a37620a0c12db8246f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90d082d58a557fd6d32370f6eab8c571"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#a90d082d58a557fd6d32370f6eab8c571">READ_CONST</a>(pn,  ptr)</td></tr>
<tr class="separator:a90d082d58a557fd6d32370f6eab8c571"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa430fc157d2055f0592af39d4fcd0517"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#aa430fc157d2055f0592af39d4fcd0517">READ_TUPLE</a>(ptr)</td></tr>
<tr class="separator:aa430fc157d2055f0592af39d4fcd0517"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacac5b757bd72c6d23de5a15a076b616"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#aacac5b757bd72c6d23de5a15a076b616">READ_VALUES</a>(pn,  ptr)</td></tr>
<tr class="separator:aacac5b757bd72c6d23de5a15a076b616"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5859af30fdbb698f6fa20169271228c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#aa5859af30fdbb698f6fa20169271228c">READ_PROTOS</a>(pn,  ptr)</td></tr>
<tr class="separator:aa5859af30fdbb698f6fa20169271228c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e45c645ffebcfd432bb5efdf95d55b7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#a9e45c645ffebcfd432bb5efdf95d55b7">WRITE_U8</a>(un,  ptr)&#160;&#160;&#160;({*ptr = (<a class="el" href="../../db/dde/internal_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>)un; ptr += sizeof(<a class="el" href="../../db/dde/internal_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>);})</td></tr>
<tr class="separator:a9e45c645ffebcfd432bb5efdf95d55b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1932c93697ce8384bc995bc0f9dd818b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#a1932c93697ce8384bc995bc0f9dd818b">WRITE_PN</a>(pn,  ptr)&#160;&#160;&#160;({*(<a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a> *)ptr = pn; ptr += sizeof(<a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a>);})</td></tr>
<tr class="separator:a1932c93697ce8384bc995bc0f9dd818b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a189c0a27b03cda995c1981eebc534f64"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#a189c0a27b03cda995c1981eebc534f64">WRITE_CONST</a>(val,  ptr)</td></tr>
<tr class="separator:a189c0a27b03cda995c1981eebc534f64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a019743c9db54e1cbedaf251e0c411469"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#a019743c9db54e1cbedaf251e0c411469">WRITE_TUPLE</a>(tup,  ptr)</td></tr>
<tr class="separator:a019743c9db54e1cbedaf251e0c411469"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a2d39d992d75b3e7ca6c07bff991ae5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#a4a2d39d992d75b3e7ca6c07bff991ae5">WRITE_VALUES</a>(tup,  ptr)</td></tr>
<tr class="separator:a4a2d39d992d75b3e7ca6c07bff991ae5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae211018086b3961db80f4ce87642cce"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#aae211018086b3961db80f4ce87642cce">WRITE_PROTOS</a>(tup,  ptr)</td></tr>
<tr class="separator:aae211018086b3961db80f4ce87642cce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a021efa5495d278d1662b4def8297062d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#a021efa5495d278d1662b4def8297062d">potion_sig_string</a> (<a class="el" href="../../dd/d07/potion_8h.html#a8218d006431d872b014396d48f881023">Potion</a> *P, <a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a> cl, <a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a> sig)</td></tr>
<tr class="separator:a021efa5495d278d1662b4def8297062d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab12013ccb753f696fe8eac070450a7cc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/dde/internal_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#ab12013ccb753f696fe8eac070450a7cc">potion_source_debug</a> (<a class="el" href="../../dd/d07/potion_8h.html#a8218d006431d872b014396d48f881023">Potion</a> *P, struct <a class="el" href="../../d6/d4e/struct_p_n_proto.html">PNProto</a> *volatile f, struct <a class="el" href="../../dc/dc6/struct_p_n_source.html">PNSource</a> *volatile t, <a class="el" href="../../db/dde/internal_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> reg)</td></tr>
<tr class="memdesc:ab12013ccb753f696fe8eac070450a7cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">insert DEBUG ops for every new line  <a href="#ab12013ccb753f696fe8eac070450a7cc">More...</a><br /></td></tr>
<tr class="separator:ab12013ccb753f696fe8eac070450a7cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63582dc02417fe452eff9192a5b4a5e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#a63582dc02417fe452eff9192a5b4a5e8">potion_source_asmb</a> (<a class="el" href="../../dd/d07/potion_8h.html#a8218d006431d872b014396d48f881023">Potion</a> *, struct <a class="el" href="../../d6/d4e/struct_p_n_proto.html">PNProto</a> *volatile, struct <a class="el" href="../../d1/d49/struct_p_n_loop.html">PNLoop</a> *, <a class="el" href="../../dd/d07/potion_8h.html#a1dbfbf639d88c38c8fcaedb9b3ba330c">PN_SIZE</a>, struct <a class="el" href="../../dc/dc6/struct_p_n_source.html">PNSource</a> *volatile, <a class="el" href="../../db/dde/internal_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>)</td></tr>
<tr class="separator:a63582dc02417fe452eff9192a5b4a5e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65d4e58018d54e8d6a8bc83074f1ac50"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#a65d4e58018d54e8d6a8bc83074f1ac50">potion_arg_asmb</a> (<a class="el" href="../../dd/d07/potion_8h.html#a8218d006431d872b014396d48f881023">Potion</a> *P, struct <a class="el" href="../../d6/d4e/struct_p_n_proto.html">PNProto</a> *volatile f, struct <a class="el" href="../../d1/d49/struct_p_n_loop.html">PNLoop</a> *loop, <a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a> <a class="el" href="../../d2/d47/compile_8c.html#a696b922b70259bfcac0d3acf49cdf178">args</a>, <a class="el" href="../../db/dde/internal_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *reg, int inc)</td></tr>
<tr class="separator:a65d4e58018d54e8d6a8bc83074f1ac50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49bd200a6ff397a7e9eb0707fc1ac921"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#a49bd200a6ff397a7e9eb0707fc1ac921">potion_sig_compile</a> (<a class="el" href="../../dd/d07/potion_8h.html#a8218d006431d872b014396d48f881023">Potion</a> *P, <a class="el" href="../../dd/d07/potion_8h.html#afa95974d90e8212193b57380d0ce74b5">vPN</a>(Proto) f, <a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a> src)</td></tr>
<tr class="memdesc:a49bd200a6ff397a7e9eb0707fc1ac921"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a pre-compiled potion expr to a signature tuple.  <a href="#a49bd200a6ff397a7e9eb0707fc1ac921">More...</a><br /></td></tr>
<tr class="separator:a49bd200a6ff397a7e9eb0707fc1ac921"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4825a59e51690b7de4c0983e68b7fce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#ae4825a59e51690b7de4c0983e68b7fce">potion_proto_load</a> (<a class="el" href="../../dd/d07/potion_8h.html#a8218d006431d872b014396d48f881023">Potion</a> *P, <a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a> up, <a class="el" href="../../db/dde/internal_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> pn, <a class="el" href="../../db/dde/internal_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> **ptr)</td></tr>
<tr class="separator:ae4825a59e51690b7de4c0983e68b7fce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad969bf78a897dccdd9be4751c64345ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#ad969bf78a897dccdd9be4751c64345ac">potion_run</a> (<a class="el" href="../../dd/d07/potion_8h.html#a8218d006431d872b014396d48f881023">Potion</a> *P, <a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a> code, int jit)</td></tr>
<tr class="separator:ad969bf78a897dccdd9be4751c64345ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a871896e25f5b28ea07c00f991ca9f553"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#a871896e25f5b28ea07c00f991ca9f553">potion_eval</a> (<a class="el" href="../../dd/d07/potion_8h.html#a8218d006431d872b014396d48f881023">Potion</a> *P, <a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a> bytes)</td></tr>
<tr class="separator:a871896e25f5b28ea07c00f991ca9f553"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56f0842affd37dac20753d9d3ba35292"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#a56f0842affd37dac20753d9d3ba35292">potion_compiler_init</a> (<a class="el" href="../../dd/d07/potion_8h.html#a8218d006431d872b014396d48f881023">Potion</a> *P)</td></tr>
<tr class="separator:a56f0842affd37dac20753d9d3ba35292"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1a987da93279b71d0a36883524971be4"><td class="memItemLeft" >struct {</td></tr>
<tr class="memitem:a882bc8924cc04f82d853e18dbed48d79"><td class="memItemLeft" >&#160;&#160;&#160;const char *&#160;&#160;&#160;<a class="el" href="../../d2/d47/compile_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></td></tr>
<tr class="separator:a882bc8924cc04f82d853e18dbed48d79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86bb531b66b39eee3ff774e7f90a5760"><td class="memItemLeft" >&#160;&#160;&#160;const <a class="el" href="../../db/dde/internal_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;&#160;&#160;<a class="el" href="../../d2/d47/compile_8c.html#a696b922b70259bfcac0d3acf49cdf178">args</a></td></tr>
<tr class="separator:a86bb531b66b39eee3ff774e7f90a5760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a987da93279b71d0a36883524971be4"><td class="memItemLeft" valign="top">}&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d47/compile_8c.html#a1a987da93279b71d0a36883524971be4">potion_ops</a> []</td></tr>
<tr class="separator:a1a987da93279b71d0a36883524971be4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>transform the ast to simple two-address lua-like bytecode. </p>
<p>A full three-address VM with possible SSA form is not needed. This is for highly dynamic languages, and the typed parts can be optimized differently.</p>
<p>implement the <a class="el" href="../../dc/dc6/struct_p_n_source.html">PNSource</a> (AST) and <a class="el" href="../../d6/d4e/struct_p_n_proto.html" title="a prototype is compiled source code, a closure block (lambda) non-volatile. ">PNProto</a> (closure) methods, special signature handling (parsed extra) and compile, bytecode load and dump methods. Some special control methods are handled here and not in the parser. We do not need lexed keywords, and are free to extend everything dynamically.</p>
<p>(c) 2008 why the lucky stiff, the freelance professor (c) 2014 perl11.org </p>

<p class="definition">Definition in file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="afeab00e73d10534c5180a68a2a7a4c91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab00e73d10534c5180a68a2a7a4c91">&#9670;&nbsp;</a></span>PN_ASM1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PN_ASM1</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ins, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_a&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;f-&gt;asmb = (<a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a>)<a class="el" href="../../de/d21/asm_8h.html#a97a1342be082a71ebb4159bf81457c2d">potion_asm_op</a>(P, (<a class="el" href="../../dc/dbd/struct_p_n_asm.html">PNAsm</a> *)f-&gt;asmb, (<a class="el" href="../../db/dde/internal_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>)ins, (int)_a, 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l00026">26</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="adb0ffd40a9c7874c31a300033153bbf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb0ffd40a9c7874c31a300033153bbf9">&#9670;&nbsp;</a></span>PN_ASM2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PN_ASM2</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ins, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;f-&gt;asmb = (<a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a>)<a class="el" href="../../de/d21/asm_8h.html#a97a1342be082a71ebb4159bf81457c2d">potion_asm_op</a>(P, (<a class="el" href="../../dc/dbd/struct_p_n_asm.html">PNAsm</a> *)f-&gt;asmb, (<a class="el" href="../../db/dde/internal_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>)ins, (int)_a, (int)_b)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l00027">27</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="aec2e28e823b9863f3eed5cf9a3ddba91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec2e28e823b9863f3eed5cf9a3ddba91">&#9670;&nbsp;</a></span>PN_REG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PN_REG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">f, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">reg&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">if</span> (reg &gt;= <a class="code" href="../../dd/d07/potion_8h.html#a2aef8d61c0327ccc388c4c5a2d388108">PN_INT</a>(f-&gt;stack)) \</div><div class="line">    f-&gt;stack = <a class="code" href="../../dd/d07/potion_8h.html#a6e594ae2504f34b066105706a4573527">PN_NUM</a>(reg + 1)</div><div class="ttc" id="potion_8h_html_a2aef8d61c0327ccc388c4c5a2d388108"><div class="ttname"><a href="../../dd/d07/potion_8h.html#a2aef8d61c0327ccc388c4c5a2d388108">PN_INT</a></div><div class="ttdeci">#define PN_INT(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00205">potion.h:205</a></div></div>
<div class="ttc" id="potion_8h_html_a6e594ae2504f34b066105706a4573527"><div class="ttname"><a href="../../dd/d07/potion_8h.html#a6e594ae2504f34b066105706a4573527">PN_NUM</a></div><div class="ttdeci">#define PN_NUM(i)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00204">potion.h:204</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l00184">184</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="aed9e0ff030f1f722b586285278f7e0e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed9e0ff030f1f722b586285278f7e0e4">&#9670;&nbsp;</a></span>PN_ARG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PN_ARG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">reg&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">if</span> (<a class="code" href="../../db/df0/ast_8h.html#a10fce9e7de50c80e6b4d0cf2edff82b9">PN_PART</a>(t-&gt;a[n]) == <a class="code" href="../../dd/d07/potion_8h.html#abd861a9078fa784a777e29fdb4926ed9a98fd0f03b38f6590eb28c3fe81a46631">AST_EXPR</a> &amp;&amp; <a class="code" href="../../db/df0/ast_8h.html#a10fce9e7de50c80e6b4d0cf2edff82b9">PN_PART</a>(<a class="code" href="../../df/d30/struct_p_n_tuple.html#a019f18401b4d1f979d88a4c1a63cda2e">PN_TUPLE_AT</a>(<a class="code" href="../../db/df0/ast_8h.html#a0e9c5afa01dbaced80b64a040ab668fe">PN_S</a>(t-&gt;a[n],0), 0)) == <a class="code" href="../../dd/d07/potion_8h.html#abd861a9078fa784a777e29fdb4926ed9a941b1d8abfa2830fdab3c780daa98a5e">AST_LIST</a>) { \</div><div class="line">    PN test = <a class="code" href="../../db/df0/ast_8h.html#a0e9c5afa01dbaced80b64a040ab668fe">PN_S</a>(<a class="code" href="../../df/d30/struct_p_n_tuple.html#a019f18401b4d1f979d88a4c1a63cda2e">PN_TUPLE_AT</a>(<a class="code" href="../../db/df0/ast_8h.html#a0e9c5afa01dbaced80b64a040ab668fe">PN_S</a>(t-&gt;a[n],0), 0), 0);         \</div><div class="line">    if (!<a class="code" href="../../dd/d07/potion_8h.html#af8d44534de4e7b8457f896ffb9c4687e">PN_IS_NIL</a>(test)) {                     \</div><div class="line">      DBG_c(<span class="stringliteral">&quot;expr (list %s) =&gt; %s\n&quot;</span>, <a class="code" href="../../dd/d07/potion_8h.html#a82cd0ad48173068d3b5e161fa66ce808">AS_STR</a>(test), <a class="code" href="../../dd/d07/potion_8h.html#a82cd0ad48173068d3b5e161fa66ce808">AS_STR</a>(test));  \</div><div class="line">      PN_TUPLE_EACH(test, i, v, {                   \</div><div class="line">      potion_source_asmb(P, f, loop, 0, <a class="code" href="../../db/df0/ast_8h.html#ada5024cdd03abb3cc067769cdc43b616">PN_SRC</a>(v), reg); });    \</div><div class="line">    }                                   \</div><div class="line">  } <span class="keywordflow">else</span> {                              \</div><div class="line">    potion_source_asmb(P, f, loop, 0, t-&gt;a[n], reg);            \</div><div class="line">  }</div><div class="ttc" id="struct_p_n_tuple_html_a019f18401b4d1f979d88a4c1a63cda2e"><div class="ttname"><a href="../../df/d30/struct_p_n_tuple.html#a019f18401b4d1f979d88a4c1a63cda2e">PNTuple::PN_TUPLE_AT</a></div><div class="ttdeci">#define PN_TUPLE_AT(t, n)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00269">potion.h:269</a></div></div>
<div class="ttc" id="ast_8h_html_a0e9c5afa01dbaced80b64a040ab668fe"><div class="ttname"><a href="../../db/df0/ast_8h.html#a0e9c5afa01dbaced80b64a040ab668fe">PN_S</a></div><div class="ttdeci">#define PN_S(S, N)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df0/ast_8h_source.html#l00033">ast.h:33</a></div></div>
<div class="ttc" id="potion_8h_html_a82cd0ad48173068d3b5e161fa66ce808"><div class="ttname"><a href="../../dd/d07/potion_8h.html#a82cd0ad48173068d3b5e161fa66ce808">AS_STR</a></div><div class="ttdeci">#define AS_STR(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00240">potion.h:240</a></div></div>
<div class="ttc" id="ast_8h_html_ada5024cdd03abb3cc067769cdc43b616"><div class="ttname"><a href="../../db/df0/ast_8h.html#ada5024cdd03abb3cc067769cdc43b616">PN_SRC</a></div><div class="ttdeci">#define PN_SRC(S)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df0/ast_8h_source.html#l00030">ast.h:30</a></div></div>
<div class="ttc" id="potion_8h_html_af8d44534de4e7b8457f896ffb9c4687e"><div class="ttname"><a href="../../dd/d07/potion_8h.html#af8d44534de4e7b8457f896ffb9c4687e">PN_IS_NIL</a></div><div class="ttdeci">#define PN_IS_NIL(v)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00160">potion.h:160</a></div></div>
<div class="ttc" id="potion_8h_html_abd861a9078fa784a777e29fdb4926ed9a941b1d8abfa2830fdab3c780daa98a5e"><div class="ttname"><a href="../../dd/d07/potion_8h.html#abd861a9078fa784a777e29fdb4926ed9a941b1d8abfa2830fdab3c780daa98a5e">AST_LIST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00418">potion.h:418</a></div></div>
<div class="ttc" id="ast_8h_html_a10fce9e7de50c80e6b4d0cf2edff82b9"><div class="ttname"><a href="../../db/df0/ast_8h.html#a10fce9e7de50c80e6b4d0cf2edff82b9">PN_PART</a></div><div class="ttdeci">#define PN_PART(S)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df0/ast_8h_source.html#l00031">ast.h:31</a></div></div>
<div class="ttc" id="potion_8h_html_abd861a9078fa784a777e29fdb4926ed9a98fd0f03b38f6590eb28c3fe81a46631"><div class="ttname"><a href="../../dd/d07/potion_8h.html#abd861a9078fa784a777e29fdb4926ed9a98fd0f03b38f6590eb28c3fe81a46631">AST_EXPR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00417">potion.h:417</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l00187">187</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="a38ab9d9f1b3c0f8b16ac206e0bac7dd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38ab9d9f1b3c0f8b16ac206e0bac7dd2">&#9670;&nbsp;</a></span>PN_BLOCK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PN_BLOCK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">reg, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">blk, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sig&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">({ \</div><div class="line">  PN block = <a class="code" href="../../dd/d07/potion_8h.html#ad6793f3765f6d7470ba98dc4b1fabe35">potion_send</a>(blk, <a class="code" href="../../dc/df8/internal_8c.html#af676ca529780e067a5bec1fe9bd81a86">PN_compile</a>, (<a class="code" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a>)f, <a class="code" href="../../d3/de9/struct_p_n_closure.html#a9bef03be1d7519cc2de9e845e295c11a">sig</a>); \</div><div class="line">  PN_SIZE num = <a class="code" href="../../df/d30/struct_p_n_tuple.html#aadef2304496ade91d7f123fb8c15819f">PN_PUT</a>(f-&gt;protos, block); \</div><div class="line">  DBG_c(<span class="stringliteral">&quot;protos =&gt; %u\n&quot;</span>, num); \</div><div class="line">  PN_ASM2(<a class="code" href="../../d3/de6/opcodes_8h.html#a508f0cb15c69e44bd305f0705fe9c3eba202a2ca4a29bd46ba915789eb5635b51">OP_PROTO</a>, reg, num); \</div><div class="line">  PN_TUPLE_EACH(((<span class="keyword">struct</span> <a class="code" href="../../d6/d4e/struct_p_n_proto.html">PNProto</a> *)block)-&gt;upvals, i, v, { \</div><div class="line">    PN_SIZE numup = <a class="code" href="../../df/d30/struct_p_n_tuple.html#a1f08eb1aa1f58834009989a86d082413">PN_GET</a>(f-&gt;upvals, v); \</div><div class="line">    DBG_c(<span class="stringliteral">&quot;upvals %s &lt;= %d\n&quot;</span>, <a class="code" href="../../dd/d07/potion_8h.html#a82cd0ad48173068d3b5e161fa66ce808">AS_STR</a>(v), (<span class="keywordtype">int</span>)numup); \</div><div class="line">    if (numup != <a class="code" href="../../dd/d07/potion_8h.html#a4d2444370609f6f8e1ee590a5ae8d716">PN_NONE</a>) <a class="code" href="../../d2/d47/compile_8c.html#adb0ffd40a9c7874c31a300033153bbf9">PN_ASM2</a>(<a class="code" href="../../d3/de6/opcodes_8h.html#a508f0cb15c69e44bd305f0705fe9c3ebab48573533495922f053a7d1c9b0d00b4">OP_GETUPVAL</a>, reg, numup); \</div><div class="line">    else                  <a class="code" href="../../d2/d47/compile_8c.html#adb0ffd40a9c7874c31a300033153bbf9">PN_ASM2</a>(<a class="code" href="../../d3/de6/opcodes_8h.html#a508f0cb15c69e44bd305f0705fe9c3eba7244587c9db8f1ec6788551bf9f20b21">OP_GETLOCAL</a>, reg, <a class="code" href="../../df/d30/struct_p_n_tuple.html#a1f08eb1aa1f58834009989a86d082413">PN_GET</a>(f-&gt;locals, v)); \</div><div class="line">  }); \</div><div class="line">})</div><div class="ttc" id="internal_8c_html_af676ca529780e067a5bec1fe9bd81a86"><div class="ttname"><a href="../../dc/df8/internal_8c.html#af676ca529780e067a5bec1fe9bd81a86">PN_compile</a></div><div class="ttdeci">PN PN_compile</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df8/internal_8c_source.html#l00014">internal.c:14</a></div></div>
<div class="ttc" id="struct_p_n_tuple_html_aadef2304496ade91d7f123fb8c15819f"><div class="ttname"><a href="../../df/d30/struct_p_n_tuple.html#aadef2304496ade91d7f123fb8c15819f">PNTuple::PN_PUT</a></div><div class="ttdeci">#define PN_PUT(T, X)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00266">potion.h:266</a></div></div>
<div class="ttc" id="potion_8h_html_a82cd0ad48173068d3b5e161fa66ce808"><div class="ttname"><a href="../../dd/d07/potion_8h.html#a82cd0ad48173068d3b5e161fa66ce808">AS_STR</a></div><div class="ttdeci">#define AS_STR(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00240">potion.h:240</a></div></div>
<div class="ttc" id="potion_8h_html_a4d2444370609f6f8e1ee590a5ae8d716"><div class="ttname"><a href="../../dd/d07/potion_8h.html#a4d2444370609f6f8e1ee590a5ae8d716">PN_NONE</a></div><div class="ttdeci">#define PN_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00145">potion.h:145</a></div></div>
<div class="ttc" id="opcodes_8h_html_a508f0cb15c69e44bd305f0705fe9c3ebab48573533495922f053a7d1c9b0d00b4"><div class="ttname"><a href="../../d3/de6/opcodes_8h.html#a508f0cb15c69e44bd305f0705fe9c3ebab48573533495922f053a7d1c9b0d00b4">OP_GETUPVAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/opcodes_8h_source.html#l00020">opcodes.h:20</a></div></div>
<div class="ttc" id="struct_p_n_proto_html"><div class="ttname"><a href="../../d6/d4e/struct_p_n_proto.html">PNProto</a></div><div class="ttdoc">a prototype is compiled source code, a closure block (lambda) non-volatile. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00445">potion.h:445</a></div></div>
<div class="ttc" id="struct_p_n_tuple_html_a1f08eb1aa1f58834009989a86d082413"><div class="ttname"><a href="../../df/d30/struct_p_n_tuple.html#a1f08eb1aa1f58834009989a86d082413">PNTuple::PN_GET</a></div><div class="ttdeci">#define PN_GET(T, X)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00265">potion.h:265</a></div></div>
<div class="ttc" id="compile_8c_html_adb0ffd40a9c7874c31a300033153bbf9"><div class="ttname"><a href="../../d2/d47/compile_8c.html#adb0ffd40a9c7874c31a300033153bbf9">PN_ASM2</a></div><div class="ttdeci">#define PN_ASM2(ins, _a, _b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d47/compile_8c_source.html#l00027">compile.c:27</a></div></div>
<div class="ttc" id="struct_p_n_closure_html_a9bef03be1d7519cc2de9e845e295c11a"><div class="ttname"><a href="../../d3/de9/struct_p_n_closure.html#a9bef03be1d7519cc2de9e845e295c11a">PNClosure::sig</a></div><div class="ttdeci">PN sig</div><div class="ttdoc">signature PNTuple </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00375">potion.h:375</a></div></div>
<div class="ttc" id="potion_8h_html_ad6793f3765f6d7470ba98dc4b1fabe35"><div class="ttname"><a href="../../dd/d07/potion_8h.html#ad6793f3765f6d7470ba98dc4b1fabe35">potion_send</a></div><div class="ttdeci">#define potion_send(RCV, MSG, ARGS...)</div><div class="ttdoc">method caches (more great stuff from ian piumarta) </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00772">potion.h:772</a></div></div>
<div class="ttc" id="opcodes_8h_html_a508f0cb15c69e44bd305f0705fe9c3eba7244587c9db8f1ec6788551bf9f20b21"><div class="ttname"><a href="../../d3/de6/opcodes_8h.html#a508f0cb15c69e44bd305f0705fe9c3eba7244587c9db8f1ec6788551bf9f20b21">OP_GETLOCAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/opcodes_8h_source.html#l00018">opcodes.h:18</a></div></div>
<div class="ttc" id="potion_8h_html_a602546b9119b5381d9fcd29d457bd8d2"><div class="ttname"><a href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a></div><div class="ttdeci">volatile _PN PN</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00081">potion.h:81</a></div></div>
<div class="ttc" id="opcodes_8h_html_a508f0cb15c69e44bd305f0705fe9c3eba202a2ca4a29bd46ba915789eb5635b51"><div class="ttname"><a href="../../d3/de6/opcodes_8h.html#a508f0cb15c69e44bd305f0705fe9c3eba202a2ca4a29bd46ba915789eb5635b51">OP_PROTO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/opcodes_8h_source.html#l00057">opcodes.h:57</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l00198">198</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="a0b05cbec5fc26ed8d4fce439b2af4967"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b05cbec5fc26ed8d4fce439b2af4967">&#9670;&nbsp;</a></span>PN_UPVAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PN_UPVAL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d2/d47/compile_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">({ \</div><div class="line">  PN_SIZE numl = <a class="code" href="../../df/d30/struct_p_n_tuple.html#a1f08eb1aa1f58834009989a86d082413">PN_GET</a>(f-&gt;locals, <a class="code" href="../../d2/d47/compile_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>); \</div><div class="line">  DBG_c(<span class="stringliteral">&quot;locals %s &lt;= %d\n&quot;</span>, <a class="code" href="../../dd/d07/potion_8h.html#a82cd0ad48173068d3b5e161fa66ce808">AS_STR</a>(<a class="code" href="../../d2/d47/compile_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>), (<span class="keywordtype">int</span>)numl); \</div><div class="line">  PN_SIZE numup = <a class="code" href="../../dd/d07/potion_8h.html#a4d2444370609f6f8e1ee590a5ae8d716">PN_NONE</a>; \</div><div class="line">  if (numl == <a class="code" href="../../dd/d07/potion_8h.html#a4d2444370609f6f8e1ee590a5ae8d716">PN_NONE</a>) { \</div><div class="line">    numup = <a class="code" href="../../df/d30/struct_p_n_tuple.html#a1f08eb1aa1f58834009989a86d082413">PN_GET</a>(f-&gt;upvals, <a class="code" href="../../d2/d47/compile_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>); \</div><div class="line">    if (numup == <a class="code" href="../../dd/d07/potion_8h.html#a4d2444370609f6f8e1ee590a5ae8d716">PN_NONE</a>) { \</div><div class="line">      DBG_c(<span class="stringliteral">&quot;upvals %s &lt;= -1\n&quot;</span>, <a class="code" href="../../dd/d07/potion_8h.html#a82cd0ad48173068d3b5e161fa66ce808">AS_STR</a>(<a class="code" href="../../d2/d47/compile_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)); \</div><div class="line">      vPN(Proto) up = f; \</div><div class="line">      int depth = 1; \</div><div class="line">      while (<a class="code" href="../../dd/d07/potion_8h.html#ad0daa8ca29933fe1a692553c71ba7668">PN_IS_PROTO</a>(up-&gt;source)) { \</div><div class="line">        up = (<span class="keyword">struct </span><a class="code" href="../../d6/d4e/struct_p_n_proto.html">PNProto</a> *)up-&gt;source; \</div><div class="line">        if (<a class="code" href="../../dd/d07/potion_8h.html#a4d2444370609f6f8e1ee590a5ae8d716">PN_NONE</a> != (numup = <a class="code" href="../../df/d30/struct_p_n_tuple.html#a1f08eb1aa1f58834009989a86d082413">PN_GET</a>(up-&gt;locals, <a class="code" href="../../d2/d47/compile_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>))) <span class="keywordflow">break</span>; \</div><div class="line">        depth++; \</div><div class="line">      } \</div><div class="line">      DBG_c(<span class="stringliteral">&quot;locals %s &lt;= %d\n&quot;</span>, <a class="code" href="../../dd/d07/potion_8h.html#a82cd0ad48173068d3b5e161fa66ce808">AS_STR</a>(<a class="code" href="../../d2/d47/compile_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>), (<span class="keywordtype">int</span>)numup); \</div><div class="line">      if (numup != <a class="code" href="../../dd/d07/potion_8h.html#a4d2444370609f6f8e1ee590a5ae8d716">PN_NONE</a>) { \</div><div class="line">        up = f; \</div><div class="line">        while (depth--) { \</div><div class="line">          up-&gt;upvals = <a class="code" href="../../df/d30/struct_p_n_tuple.html#ae51686d00f2ebde9584de4d1e7bd6b44">PN_PUSH</a>(up-&gt;upvals, <a class="code" href="../../d2/d47/compile_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>); \</div><div class="line">      DBG_c(<span class="stringliteral">&quot;upvals %s =&gt;\n&quot;</span>, <a class="code" href="../../dd/d07/potion_8h.html#a82cd0ad48173068d3b5e161fa66ce808">AS_STR</a>(<a class="code" href="../../d2/d47/compile_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)); \</div><div class="line">          up = (<span class="keyword">struct </span><a class="code" href="../../d6/d4e/struct_p_n_proto.html">PNProto</a> *)up-&gt;source; \</div><div class="line">        } \</div><div class="line">      } \</div><div class="line">      numup = <a class="code" href="../../df/d30/struct_p_n_tuple.html#a1f08eb1aa1f58834009989a86d082413">PN_GET</a>(f-&gt;upvals, <a class="code" href="../../d2/d47/compile_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>); \</div><div class="line">      DBG_c(<span class="stringliteral">&quot;upvals %s &lt;= %d\n&quot;</span>, <a class="code" href="../../dd/d07/potion_8h.html#a82cd0ad48173068d3b5e161fa66ce808">AS_STR</a>(<a class="code" href="../../d2/d47/compile_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>), (<span class="keywordtype">int</span>)numup); \</div><div class="line">    } \</div><div class="line">  } \</div><div class="line">  numup; \</div><div class="line">})</div><div class="ttc" id="potion_8h_html_a82cd0ad48173068d3b5e161fa66ce808"><div class="ttname"><a href="../../dd/d07/potion_8h.html#a82cd0ad48173068d3b5e161fa66ce808">AS_STR</a></div><div class="ttdeci">#define AS_STR(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00240">potion.h:240</a></div></div>
<div class="ttc" id="struct_p_n_tuple_html_ae51686d00f2ebde9584de4d1e7bd6b44"><div class="ttname"><a href="../../df/d30/struct_p_n_tuple.html#ae51686d00f2ebde9584de4d1e7bd6b44">PNTuple::PN_PUSH</a></div><div class="ttdeci">#define PN_PUSH(T, X)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00263">potion.h:263</a></div></div>
<div class="ttc" id="potion_8h_html_a4d2444370609f6f8e1ee590a5ae8d716"><div class="ttname"><a href="../../dd/d07/potion_8h.html#a4d2444370609f6f8e1ee590a5ae8d716">PN_NONE</a></div><div class="ttdeci">#define PN_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00145">potion.h:145</a></div></div>
<div class="ttc" id="struct_p_n_proto_html"><div class="ttname"><a href="../../d6/d4e/struct_p_n_proto.html">PNProto</a></div><div class="ttdoc">a prototype is compiled source code, a closure block (lambda) non-volatile. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00445">potion.h:445</a></div></div>
<div class="ttc" id="struct_p_n_tuple_html_a1f08eb1aa1f58834009989a86d082413"><div class="ttname"><a href="../../df/d30/struct_p_n_tuple.html#a1f08eb1aa1f58834009989a86d082413">PNTuple::PN_GET</a></div><div class="ttdeci">#define PN_GET(T, X)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00265">potion.h:265</a></div></div>
<div class="ttc" id="potion_8h_html_ad0daa8ca29933fe1a692553c71ba7668"><div class="ttname"><a href="../../dd/d07/potion_8h.html#ad0daa8ca29933fe1a692553c71ba7668">PN_IS_PROTO</a></div><div class="ttdeci">#define PN_IS_PROTO(v)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00169">potion.h:169</a></div></div>
<div class="ttc" id="compile_8c_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../d2/d47/compile_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d47/compile_8c_source.html#l00030">compile.c:30</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l00210">210</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="a4603a3faee2d40fbbb6b40596c450b38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4603a3faee2d40fbbb6b40596c450b38">&#9670;&nbsp;</a></span>PN_ARG_TABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PN_ARG_TABLE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d2/d47/compile_8c.html#a696b922b70259bfcac0d3acf49cdf178">args</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">reg, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">inc&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d2/d47/compile_8c.html#a65d4e58018d54e8d6a8bc83074f1ac50">potion_arg_asmb</a>(P, f, loop, <a class="el" href="../../d2/d47/compile_8c.html#a696b922b70259bfcac0d3acf49cdf178">args</a>, &amp;reg, inc)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l00240">240</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="a3349ae3cedaf27042690e11ba6b40309"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3349ae3cedaf27042690e11ba6b40309">&#9670;&nbsp;</a></span>SRC_TUPLE_AT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SRC_TUPLE_AT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">src, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">i&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../db/df0/ast_8h.html#ada5024cdd03abb3cc067769cdc43b616">PN_SRC</a>(<a class="el" href="../../df/d30/struct_p_n_tuple.html#a019f18401b4d1f979d88a4c1a63cda2e">PN_TUPLE_AT</a>(<a class="el" href="../../db/df0/ast_8h.html#a0e9c5afa01dbaced80b64a040ab668fe">PN_S</a>(src,0), i))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l00241">241</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="adb8aed9465d15a84d64c1c13352419df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb8aed9465d15a84d64c1c13352419df">&#9670;&nbsp;</a></span>PN_ASM_DEBUG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PN_ASM_DEBUG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../df/d47/vm-ppc_8c.html#acee196421e9a06f7700bb3064b13b37a">REG</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">T&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../df/d47/vm-ppc_8c.html#acee196421e9a06f7700bb3064b13b37a">REG</a> = <a class="el" href="../../d2/d47/compile_8c.html#ab12013ccb753f696fe8eac070450a7cc">potion_source_debug</a>(P, f, T, <a class="el" href="../../df/d47/vm-ppc_8c.html#acee196421e9a06f7700bb3064b13b37a">REG</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l00242">242</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="ae7250b98fd002b1b450eead1ef84e35f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7250b98fd002b1b450eead1ef84e35f">&#9670;&nbsp;</a></span>MAX_JUMPS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_JUMPS&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l00256">256</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="ab841bd866d09a19560dc6ae3475e4a39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab841bd866d09a19560dc6ae3475e4a39">&#9670;&nbsp;</a></span>LOAD_ARG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOAD_ARG</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d2/d47/compile_8c.html#a4603a3faee2d40fbbb6b40596c450b38">PN_ARG_TABLE</a>(<a class="el" href="../../db/df0/ast_8h.html#a0e9c5afa01dbaced80b64a040ab668fe">PN_S</a>(t,1), breg, 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae22b9133dea54b4dc71a98651992ea66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae22b9133dea54b4dc71a98651992ea66">&#9670;&nbsp;</a></span>SIG_EXPR_MSG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SIG_EXPR_MSG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d2/d47/compile_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">expr&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">if</span> (expr-&gt;part == <a class="code" href="../../dd/d07/potion_8h.html#abd861a9078fa784a777e29fdb4926ed9a98fd0f03b38f6590eb28c3fe81a46631">AST_EXPR</a>) {           \</div><div class="line">    vPN(Source) t = <a class="code" href="../../d2/d47/compile_8c.html#a3349ae3cedaf27042690e11ba6b40309">SRC_TUPLE_AT</a>(expr, 0);  \</div><div class="line">    if (t-&gt;part == <a class="code" href="../../dd/d07/potion_8h.html#abd861a9078fa784a777e29fdb4926ed9a15f0cbdbc9ee3bfa184dffeaf4d8402d">AST_MSG</a>) {           \</div><div class="line">      name = <a class="code" href="../../db/df0/ast_8h.html#a0e9c5afa01dbaced80b64a040ab668fe">PN_S</a>(t,0);             \</div><div class="line">      PN_PUT(f-&gt;locals, <a class="code" href="../../d2/d47/compile_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);          \</div><div class="line">      DBG_c(<span class="stringliteral">&quot;locals %s\n&quot;</span>, <a class="code" href="../../d5/da9/struct_p_n_bytes.html#a1a49dc30df54f576694ab622ebf38d1b">PN_STR_PTR</a>(<a class="code" href="../../d2/d47/compile_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>));   \</div><div class="line">      sig = <a class="code" href="../../df/d30/struct_p_n_tuple.html#ae51686d00f2ebde9584de4d1e7bd6b44">PN_PUSH</a>(<a class="code" href="../../d6/d4e/struct_p_n_proto.html#afd8e9140ab8077c52ba010527bf2b72c">sig</a>, <a class="code" href="../../d2/d47/compile_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);         \</div><div class="line">    }                       \</div><div class="line">  } <span class="keywordflow">else</span> { <a class="code" href="../../d2/d47/compile_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="code" href="../../dd/d07/potion_8h.html#a0ea5262cc34221b5632e6e7d4b4eb3de">PN_NIL</a>; }</div><div class="ttc" id="ast_8h_html_a0e9c5afa01dbaced80b64a040ab668fe"><div class="ttname"><a href="../../db/df0/ast_8h.html#a0e9c5afa01dbaced80b64a040ab668fe">PN_S</a></div><div class="ttdeci">#define PN_S(S, N)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/df0/ast_8h_source.html#l00033">ast.h:33</a></div></div>
<div class="ttc" id="struct_p_n_proto_html_afd8e9140ab8077c52ba010527bf2b72c"><div class="ttname"><a href="../../d6/d4e/struct_p_n_proto.html#afd8e9140ab8077c52ba010527bf2b72c">PNProto::sig</a></div><div class="ttdeci">PN sig</div><div class="ttdoc">argument signature </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00448">potion.h:448</a></div></div>
<div class="ttc" id="potion_8h_html_abd861a9078fa784a777e29fdb4926ed9a15f0cbdbc9ee3bfa184dffeaf4d8402d"><div class="ttname"><a href="../../dd/d07/potion_8h.html#abd861a9078fa784a777e29fdb4926ed9a15f0cbdbc9ee3bfa184dffeaf4d8402d">AST_MSG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00413">potion.h:413</a></div></div>
<div class="ttc" id="struct_p_n_tuple_html_ae51686d00f2ebde9584de4d1e7bd6b44"><div class="ttname"><a href="../../df/d30/struct_p_n_tuple.html#ae51686d00f2ebde9584de4d1e7bd6b44">PNTuple::PN_PUSH</a></div><div class="ttdeci">#define PN_PUSH(T, X)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00263">potion.h:263</a></div></div>
<div class="ttc" id="potion_8h_html_abd861a9078fa784a777e29fdb4926ed9a98fd0f03b38f6590eb28c3fe81a46631"><div class="ttname"><a href="../../dd/d07/potion_8h.html#abd861a9078fa784a777e29fdb4926ed9a98fd0f03b38f6590eb28c3fe81a46631">AST_EXPR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00417">potion.h:417</a></div></div>
<div class="ttc" id="compile_8c_html_a3349ae3cedaf27042690e11ba6b40309"><div class="ttname"><a href="../../d2/d47/compile_8c.html#a3349ae3cedaf27042690e11ba6b40309">SRC_TUPLE_AT</a></div><div class="ttdeci">#define SRC_TUPLE_AT(src, i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d47/compile_8c_source.html#l00241">compile.c:241</a></div></div>
<div class="ttc" id="compile_8c_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../d2/d47/compile_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d47/compile_8c_source.html#l00030">compile.c:30</a></div></div>
<div class="ttc" id="potion_8h_html_a0ea5262cc34221b5632e6e7d4b4eb3de"><div class="ttname"><a href="../../dd/d07/potion_8h.html#a0ea5262cc34221b5632e6e7d4b4eb3de">PN_NIL</a></div><div class="ttdeci">#define PN_NIL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00139">potion.h:139</a></div></div>
<div class="ttc" id="struct_p_n_bytes_html_a1a49dc30df54f576694ab622ebf38d1b"><div class="ttname"><a href="../../d5/da9/struct_p_n_bytes.html#a1a49dc30df54f576694ab622ebf38d1b">PNBytes::PN_STR_PTR</a></div><div class="ttdeci">#define PN_STR_PTR(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00213">potion.h:213</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l00918">918</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="a2c247fbe3f2887dcfe9de9830dbb0a0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c247fbe3f2887dcfe9de9830dbb0a0e">&#9670;&nbsp;</a></span>READ_U8</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define READ_U8</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr</td><td>)</td>
          <td>&#160;&#160;&#160;({<a class="el" href="../../db/dde/internal_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> rpu = *ptr; ptr += sizeof(<a class="el" href="../../db/dde/internal_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>); rpu;})</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l01114">1114</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="ae9fc363e7ea63a37620a0c12db8246f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9fc363e7ea63a37620a0c12db8246f5">&#9670;&nbsp;</a></span>READ_PN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define READ_PN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;({<a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a> rpn = *(<a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a> *)ptr; ptr += pn; rpn;})</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l01115">1115</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="a90d082d58a557fd6d32370f6eab8c571"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90d082d58a557fd6d32370f6eab8c571">&#9670;&nbsp;</a></span>READ_CONST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define READ_CONST</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">({ \</div><div class="line">    PN val = <a class="code" href="../../d2/d47/compile_8c.html#ae9fc363e7ea63a37620a0c12db8246f5">READ_PN</a>(pn, ptr); \</div><div class="line">    if (<a class="code" href="../../dd/d07/potion_8h.html#a1bb765ca8db08ee5ff709e5b20d5f22a">PN_IS_PTR</a>(val)) { \</div><div class="line">      if (val &amp; 2) { \</div><div class="line">        size_t len = ((val ^ 2) &gt;&gt; 4) - 1; \</div><div class="line">        val = <a class="code" href="../../de/d2f/number_8c.html#abecdd67ba5aa7854a122d0b5cb93bdd7">potion_strtod</a>(P, (<span class="keywordtype">char</span> *)ptr, len); \</div><div class="line">        ptr += len; \</div><div class="line">      } <span class="keywordflow">else</span> { \</div><div class="line">        size_t len = (val &gt;&gt; 4) - 1; \</div><div class="line">        val = <a class="code" href="../../dd/d07/potion_8h.html#a97959d41bf9282095d5d25dfffa799b0">PN_STRN</a>((<span class="keywordtype">char</span> *)ptr, len); \</div><div class="line">        ptr += len; \</div><div class="line">      } \</div><div class="line">    } \</div><div class="line">    val; \</div><div class="line">  })</div><div class="ttc" id="number_8c_html_abecdd67ba5aa7854a122d0b5cb93bdd7"><div class="ttname"><a href="../../de/d2f/number_8c.html#abecdd67ba5aa7854a122d0b5cb93bdd7">potion_strtod</a></div><div class="ttdeci">PN potion_strtod(Potion *P, char *str, int len)</div><div class="ttdoc">Convert string to double. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d2f/number_8c_source.html#l00024">number.c:24</a></div></div>
<div class="ttc" id="potion_8h_html_a1bb765ca8db08ee5ff709e5b20d5f22a"><div class="ttname"><a href="../../dd/d07/potion_8h.html#a1bb765ca8db08ee5ff709e5b20d5f22a">PN_IS_PTR</a></div><div class="ttdeci">#define PN_IS_PTR(v)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00159">potion.h:159</a></div></div>
<div class="ttc" id="potion_8h_html_a97959d41bf9282095d5d25dfffa799b0"><div class="ttname"><a href="../../dd/d07/potion_8h.html#a97959d41bf9282095d5d25dfffa799b0">PN_STRN</a></div><div class="ttdeci">#define PN_STRN(x, l)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00211">potion.h:211</a></div></div>
<div class="ttc" id="compile_8c_html_ae9fc363e7ea63a37620a0c12db8246f5"><div class="ttname"><a href="../../d2/d47/compile_8c.html#ae9fc363e7ea63a37620a0c12db8246f5">READ_PN</a></div><div class="ttdeci">#define READ_PN(pn, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d47/compile_8c_source.html#l01115">compile.c:1115</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l01116">1116</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="aa430fc157d2055f0592af39d4fcd0517"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa430fc157d2055f0592af39d4fcd0517">&#9670;&nbsp;</a></span>READ_TUPLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define READ_TUPLE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordtype">long</span> i = 0, count = <a class="code" href="../../d2/d47/compile_8c.html#a2c247fbe3f2887dcfe9de9830dbb0a0e">READ_U8</a>(ptr); \</div><div class="line">  PN tup = <a class="code" href="../../dd/d07/potion_8h.html#a118aaea530cb321be73f4a8fdbddbae8">potion_tuple_with_size</a>(P, (<a class="code" href="../../dd/d07/potion_8h.html#a1dbfbf639d88c38c8fcaedb9b3ba330c">PN_SIZE</a>)count); \</div><div class="line">  for (; i &lt; count; i++)</div><div class="ttc" id="compile_8c_html_a2c247fbe3f2887dcfe9de9830dbb0a0e"><div class="ttname"><a href="../../d2/d47/compile_8c.html#a2c247fbe3f2887dcfe9de9830dbb0a0e">READ_U8</a></div><div class="ttdeci">#define READ_U8(ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d47/compile_8c_source.html#l01114">compile.c:1114</a></div></div>
<div class="ttc" id="potion_8h_html_a1dbfbf639d88c38c8fcaedb9b3ba330c"><div class="ttname"><a href="../../dd/d07/potion_8h.html#a1dbfbf639d88c38c8fcaedb9b3ba330c">PN_SIZE</a></div><div class="ttdeci">unsigned int PN_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00079">potion.h:79</a></div></div>
<div class="ttc" id="potion_8h_html_a118aaea530cb321be73f4a8fdbddbae8"><div class="ttname"><a href="../../dd/d07/potion_8h.html#a118aaea530cb321be73f4a8fdbddbae8">potion_tuple_with_size</a></div><div class="ttdeci">PN potion_tuple_with_size(Potion *, unsigned long)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d33/table_8c_source.html#l00298">table.c:298</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l01132">1132</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="aacac5b757bd72c6d23de5a15a076b616"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacac5b757bd72c6d23de5a15a076b616">&#9670;&nbsp;</a></span>READ_VALUES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define READ_VALUES</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">({ \</div><div class="line">    READ_TUPLE(ptr) <a class="code" href="../../df/d30/struct_p_n_tuple.html#a019f18401b4d1f979d88a4c1a63cda2e">PN_TUPLE_AT</a>(tup, i) = <a class="code" href="../../d2/d47/compile_8c.html#a90d082d58a557fd6d32370f6eab8c571">READ_CONST</a>(pn, ptr); \</div><div class="line">    tup; \</div><div class="line">  })</div><div class="ttc" id="struct_p_n_tuple_html_a019f18401b4d1f979d88a4c1a63cda2e"><div class="ttname"><a href="../../df/d30/struct_p_n_tuple.html#a019f18401b4d1f979d88a4c1a63cda2e">PNTuple::PN_TUPLE_AT</a></div><div class="ttdeci">#define PN_TUPLE_AT(t, n)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00269">potion.h:269</a></div></div>
<div class="ttc" id="compile_8c_html_a90d082d58a557fd6d32370f6eab8c571"><div class="ttname"><a href="../../d2/d47/compile_8c.html#a90d082d58a557fd6d32370f6eab8c571">READ_CONST</a></div><div class="ttdeci">#define READ_CONST(pn, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d47/compile_8c_source.html#l01116">compile.c:1116</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l01136">1136</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="aa5859af30fdbb698f6fa20169271228c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5859af30fdbb698f6fa20169271228c">&#9670;&nbsp;</a></span>READ_PROTOS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define READ_PROTOS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">({ \</div><div class="line">    READ_TUPLE(ptr) <a class="code" href="../../df/d30/struct_p_n_tuple.html#a019f18401b4d1f979d88a4c1a63cda2e">PN_TUPLE_AT</a>(tup, i) = <a class="code" href="../../d2/d47/compile_8c.html#ae4825a59e51690b7de4c0983e68b7fce">potion_proto_load</a>(P, (<a class="code" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a>)f, pn, &amp;(ptr)); \</div><div class="line">    tup; \</div><div class="line">  })</div><div class="ttc" id="struct_p_n_tuple_html_a019f18401b4d1f979d88a4c1a63cda2e"><div class="ttname"><a href="../../df/d30/struct_p_n_tuple.html#a019f18401b4d1f979d88a4c1a63cda2e">PNTuple::PN_TUPLE_AT</a></div><div class="ttdeci">#define PN_TUPLE_AT(t, n)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00269">potion.h:269</a></div></div>
<div class="ttc" id="compile_8c_html_ae4825a59e51690b7de4c0983e68b7fce"><div class="ttname"><a href="../../d2/d47/compile_8c.html#ae4825a59e51690b7de4c0983e68b7fce">potion_proto_load</a></div><div class="ttdeci">PN potion_proto_load(Potion *P, PN up, u8 pn, u8 **ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d47/compile_8c_source.html#l01146">compile.c:1146</a></div></div>
<div class="ttc" id="potion_8h_html_a602546b9119b5381d9fcd29d457bd8d2"><div class="ttname"><a href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a></div><div class="ttdeci">volatile _PN PN</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00081">potion.h:81</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l01140">1140</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="a9e45c645ffebcfd432bb5efdf95d55b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e45c645ffebcfd432bb5efdf95d55b7">&#9670;&nbsp;</a></span>WRITE_U8</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WRITE_U8</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">un, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;({*ptr = (<a class="el" href="../../db/dde/internal_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>)un; ptr += sizeof(<a class="el" href="../../db/dde/internal_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>);})</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l01191">1191</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="a1932c93697ce8384bc995bc0f9dd818b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1932c93697ce8384bc995bc0f9dd818b">&#9670;&nbsp;</a></span>WRITE_PN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WRITE_PN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;({*(<a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a> *)ptr = pn; ptr += sizeof(<a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a>);})</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l01192">1192</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="a189c0a27b03cda995c1981eebc534f64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a189c0a27b03cda995c1981eebc534f64">&#9670;&nbsp;</a></span>WRITE_CONST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WRITE_CONST</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">val, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">({ \</div><div class="line">    if (<a class="code" href="../../dd/d07/potion_8h.html#a282e5428a7755e1afe2ea57b5c42354e">PN_IS_STR</a>(val)) { \</div><div class="line">      PN count = (<a class="code" href="../../d5/deb/struct_p_n_string.html#a4ea9328e80070d15688530e17fc938ef">PN_STR_LEN</a>(val)+1) &lt;&lt; 4; \</div><div class="line">      WRITE_PN(count, ptr); \</div><div class="line">      PN_MEMCPY_N(ptr, <a class="code" href="../../d5/da9/struct_p_n_bytes.html#a1a49dc30df54f576694ab622ebf38d1b">PN_STR_PTR</a>(val), <span class="keywordtype">char</span>, <a class="code" href="../../d5/deb/struct_p_n_string.html#a4ea9328e80070d15688530e17fc938ef">PN_STR_LEN</a>(val)); \</div><div class="line">      ptr += <a class="code" href="../../d5/deb/struct_p_n_string.html#a4ea9328e80070d15688530e17fc938ef">PN_STR_LEN</a>(val); \</div><div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../dd/d07/potion_8h.html#aacade90944aae1a4e4cfc14270167998">PN_IS_DBL</a>(val)) { \</div><div class="line">      PN str = <a class="code" href="../../dd/d07/potion_8h.html#a948e62d88848ba563a835c69dce8995a">potion_num_string</a>(P, <a class="code" href="../../dd/d07/potion_8h.html#a0ea5262cc34221b5632e6e7d4b4eb3de">PN_NIL</a>, val); \</div><div class="line">      PN count = ((<a class="code" href="../../d5/deb/struct_p_n_string.html#a4ea9328e80070d15688530e17fc938ef">PN_STR_LEN</a>(str)+1) &lt;&lt; 4) | 2; \</div><div class="line">      WRITE_PN(count, ptr); \</div><div class="line">      PN_MEMCPY_N(ptr, <a class="code" href="../../d5/da9/struct_p_n_bytes.html#a1a49dc30df54f576694ab622ebf38d1b">PN_STR_PTR</a>(str), <span class="keywordtype">char</span>, <a class="code" href="../../d5/deb/struct_p_n_string.html#a4ea9328e80070d15688530e17fc938ef">PN_STR_LEN</a>(str)); \</div><div class="line">      ptr += <a class="code" href="../../d5/deb/struct_p_n_string.html#a4ea9328e80070d15688530e17fc938ef">PN_STR_LEN</a>(str); \</div><div class="line">    } <span class="keywordflow">else</span> { \</div><div class="line">      PN cval = (<a class="code" href="../../dd/d07/potion_8h.html#a1bb765ca8db08ee5ff709e5b20d5f22a">PN_IS_PTR</a>(val) ? <a class="code" href="../../dd/d07/potion_8h.html#a0ea5262cc34221b5632e6e7d4b4eb3de">PN_NIL</a> : val); \</div><div class="line">      WRITE_PN(cval, ptr); \</div><div class="line">    } \</div><div class="line">  })</div><div class="ttc" id="potion_8h_html_a282e5428a7755e1afe2ea57b5c42354e"><div class="ttname"><a href="../../dd/d07/potion_8h.html#a282e5428a7755e1afe2ea57b5c42354e">PN_IS_STR</a></div><div class="ttdeci">#define PN_IS_STR(v)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00166">potion.h:166</a></div></div>
<div class="ttc" id="potion_8h_html_a948e62d88848ba563a835c69dce8995a"><div class="ttname"><a href="../../dd/d07/potion_8h.html#a948e62d88848ba563a835c69dce8995a">potion_num_string</a></div><div class="ttdeci">PN potion_num_string(Potion *, PN, PN)</div></div>
<div class="ttc" id="struct_p_n_string_html_a4ea9328e80070d15688530e17fc938ef"><div class="ttname"><a href="../../d5/deb/struct_p_n_string.html#a4ea9328e80070d15688530e17fc938ef">PNString::PN_STR_LEN</a></div><div class="ttdeci">#define PN_STR_LEN(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00214">potion.h:214</a></div></div>
<div class="ttc" id="potion_8h_html_aacade90944aae1a4e4cfc14270167998"><div class="ttname"><a href="../../dd/d07/potion_8h.html#aacade90944aae1a4e4cfc14270167998">PN_IS_DBL</a></div><div class="ttdeci">#define PN_IS_DBL(v)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00163">potion.h:163</a></div></div>
<div class="ttc" id="potion_8h_html_a1bb765ca8db08ee5ff709e5b20d5f22a"><div class="ttname"><a href="../../dd/d07/potion_8h.html#a1bb765ca8db08ee5ff709e5b20d5f22a">PN_IS_PTR</a></div><div class="ttdeci">#define PN_IS_PTR(v)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00159">potion.h:159</a></div></div>
<div class="ttc" id="potion_8h_html_a0ea5262cc34221b5632e6e7d4b4eb3de"><div class="ttname"><a href="../../dd/d07/potion_8h.html#a0ea5262cc34221b5632e6e7d4b4eb3de">PN_NIL</a></div><div class="ttdeci">#define PN_NIL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00139">potion.h:139</a></div></div>
<div class="ttc" id="struct_p_n_bytes_html_a1a49dc30df54f576694ab622ebf38d1b"><div class="ttname"><a href="../../d5/da9/struct_p_n_bytes.html#a1a49dc30df54f576694ab622ebf38d1b">PNBytes::PN_STR_PTR</a></div><div class="ttdeci">#define PN_STR_PTR(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00213">potion.h:213</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l01193">1193</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="a019743c9db54e1cbedaf251e0c411469"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a019743c9db54e1cbedaf251e0c411469">&#9670;&nbsp;</a></span>WRITE_TUPLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WRITE_TUPLE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tup, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordtype">long</span> i = 0, count = <a class="code" href="../../df/d30/struct_p_n_tuple.html#a80b5c3484f296c3d6527db301efc4c54">PN_TUPLE_LEN</a>(tup); \</div><div class="line">  WRITE_U8(count, ptr); \</div><div class="line">  for (; i &lt; count; i++)</div><div class="ttc" id="struct_p_n_tuple_html_a80b5c3484f296c3d6527db301efc4c54"><div class="ttname"><a href="../../df/d30/struct_p_n_tuple.html#a80b5c3484f296c3d6527db301efc4c54">PNTuple::PN_TUPLE_LEN</a></div><div class="ttdeci">#define PN_TUPLE_LEN(t)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00268">potion.h:268</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l01210">1210</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="a4a2d39d992d75b3e7ca6c07bff991ae5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a2d39d992d75b3e7ca6c07bff991ae5">&#9670;&nbsp;</a></span>WRITE_VALUES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WRITE_VALUES</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tup, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">({ \</div><div class="line">    WRITE_TUPLE(tup, ptr) <a class="code" href="../../d2/d47/compile_8c.html#a189c0a27b03cda995c1981eebc534f64">WRITE_CONST</a>(<a class="code" href="../../df/d30/struct_p_n_tuple.html#a019f18401b4d1f979d88a4c1a63cda2e">PN_TUPLE_AT</a>(tup, i), ptr); \</div><div class="line">  })</div><div class="ttc" id="struct_p_n_tuple_html_a019f18401b4d1f979d88a4c1a63cda2e"><div class="ttname"><a href="../../df/d30/struct_p_n_tuple.html#a019f18401b4d1f979d88a4c1a63cda2e">PNTuple::PN_TUPLE_AT</a></div><div class="ttdeci">#define PN_TUPLE_AT(t, n)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00269">potion.h:269</a></div></div>
<div class="ttc" id="compile_8c_html_a189c0a27b03cda995c1981eebc534f64"><div class="ttname"><a href="../../d2/d47/compile_8c.html#a189c0a27b03cda995c1981eebc534f64">WRITE_CONST</a></div><div class="ttdeci">#define WRITE_CONST(val, ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d47/compile_8c_source.html#l01193">compile.c:1193</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l01214">1214</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="aae211018086b3961db80f4ce87642cce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae211018086b3961db80f4ce87642cce">&#9670;&nbsp;</a></span>WRITE_PROTOS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WRITE_PROTOS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tup, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">({ \</div><div class="line">    WRITE_TUPLE(tup, ptr) ptr += <a class="code" href="../../d6/d4e/struct_p_n_proto.html#ac4183f24e29bb870443b6b21922ed359">potion_proto_dumpbc</a>(P, <a class="code" href="../../df/d30/struct_p_n_tuple.html#a019f18401b4d1f979d88a4c1a63cda2e">PN_TUPLE_AT</a>(tup, i), \</div><div class="line">        out, (<span class="keywordtype">char</span> *)ptr - <a class="code" href="../../d5/da9/struct_p_n_bytes.html#a1a49dc30df54f576694ab622ebf38d1b">PN_STR_PTR</a>(out)); \</div><div class="line">  })</div><div class="ttc" id="struct_p_n_tuple_html_a019f18401b4d1f979d88a4c1a63cda2e"><div class="ttname"><a href="../../df/d30/struct_p_n_tuple.html#a019f18401b4d1f979d88a4c1a63cda2e">PNTuple::PN_TUPLE_AT</a></div><div class="ttdeci">#define PN_TUPLE_AT(t, n)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00269">potion.h:269</a></div></div>
<div class="ttc" id="struct_p_n_proto_html_ac4183f24e29bb870443b6b21922ed359"><div class="ttname"><a href="../../d6/d4e/struct_p_n_proto.html#ac4183f24e29bb870443b6b21922ed359">PNProto::potion_proto_dumpbc</a></div><div class="ttdeci">long potion_proto_dumpbc(Potion *P, PN proto, PN out, long pos)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d47/compile_8c_source.html#l01228">compile.c:1228</a></div></div>
<div class="ttc" id="struct_p_n_bytes_html_a1a49dc30df54f576694ab622ebf38d1b"><div class="ttname"><a href="../../d5/da9/struct_p_n_bytes.html#a1a49dc30df54f576694ab622ebf38d1b">PNBytes::PN_STR_PTR</a></div><div class="ttdeci">#define PN_STR_PTR(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d07/potion_8h_source.html#l00213">potion.h:213</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l01217">1217</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a021efa5495d278d1662b4def8297062d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a021efa5495d278d1662b4def8297062d">&#9670;&nbsp;</a></span>potion_sig_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a> potion_sig_string </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d07/potion_8h.html#a8218d006431d872b014396d48f881023">Potion</a> *&#160;</td>
          <td class="paramname"><em>P</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a>&#160;</td>
          <td class="paramname"><em>cl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a>&#160;</td>
          <td class="paramname"><em>sig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>string of the sig tuple. "arg1=o,arg2=o" </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l00060">60</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="ab12013ccb753f696fe8eac070450a7cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab12013ccb753f696fe8eac070450a7cc">&#9670;&nbsp;</a></span>potion_source_debug()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/dde/internal_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> potion_source_debug </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d07/potion_8h.html#a8218d006431d872b014396d48f881023">Potion</a> *&#160;</td>
          <td class="paramname"><em>P</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/d4e/struct_p_n_proto.html">PNProto</a> *volatile&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dc/dc6/struct_p_n_source.html">PNSource</a> *volatile&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/dde/internal_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>reg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>insert DEBUG ops for every new line </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l00245">245</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="a63582dc02417fe452eff9192a5b4a5e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63582dc02417fe452eff9192a5b4a5e8">&#9670;&nbsp;</a></span>potion_source_asmb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void potion_source_asmb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d07/potion_8h.html#a8218d006431d872b014396d48f881023">Potion</a> *&#160;</td>
          <td class="paramname"><em>P</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/d4e/struct_p_n_proto.html">PNProto</a> * volatile&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/d49/struct_p_n_loop.html">PNLoop</a> *&#160;</td>
          <td class="paramname"><em>loop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d07/potion_8h.html#a1dbfbf639d88c38c8fcaedb9b3ba330c">PN_SIZE</a>&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dc/dc6/struct_p_n_source.html">PNSource</a> * volatile&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/dde/internal_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>reg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l00321">321</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="a65d4e58018d54e8d6a8bc83074f1ac50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65d4e58018d54e8d6a8bc83074f1ac50">&#9670;&nbsp;</a></span>potion_arg_asmb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void potion_arg_asmb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d07/potion_8h.html#a8218d006431d872b014396d48f881023">Potion</a> *&#160;</td>
          <td class="paramname"><em>P</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/d4e/struct_p_n_proto.html">PNProto</a> *volatile&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/d49/struct_p_n_loop.html">PNLoop</a> *&#160;</td>
          <td class="paramname"><em>loop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a>&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/dde/internal_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> *&#160;</td>
          <td class="paramname"><em>reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>inc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l00269">269</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="a49bd200a6ff397a7e9eb0707fc1ac921"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49bd200a6ff397a7e9eb0707fc1ac921">&#9670;&nbsp;</a></span>potion_sig_compile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a> potion_sig_compile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d07/potion_8h.html#a8218d006431d872b014396d48f881023">Potion</a> *&#160;</td>
          <td class="paramname"><em>P</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d07/potion_8h.html#afa95974d90e8212193b57380d0ce74b5">vPN</a>(Proto)&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a>&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts a pre-compiled potion expr to a signature tuple. </p>
<p>Extract locals, apply type defaults and do type and param checks. Sigs are also ambigious, the parser usually compiles it down to expression trees, not to a sig tuple. Converts assign,pipe,value.</p>
<p>Not used by P2, as args2 generates the correct sig tuple in the parser already.</p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000001">Todo:</a></b></dt><dd>this is overly complicated. create tuples as in P2 in the parser, do not reuse expr and assign.</dd></dl>
<p>Name=Type, '|' optional '.' end ':='default type: 'o' (= PN object) Encode to 3-tuple AST_CODE: name type|modifier default </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>the <a class="el" href="../../d6/d4e/struct_p_n_proto.html" title="a prototype is compiled source code, a closure block (lambda) non-volatile. ">PNProto</a> closure to store locals </td></tr>
    <tr><td class="paramname">src</td><td><a class="el" href="../../dc/dc6/struct_p_n_source.html">PNSource</a> signature tree, parsed via yy_sig() </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../df/d30/struct_p_n_tuple.html" title="a tuple is an array of PNs. ">PNTuple</a> of sigs</dd></dl>
<p>(x=n,y:=1) =&gt; </p><div class="fragment"><div class="line">(list (assign (expr (msg (x)) expr (msg (n ))),</div><div class="line">       assign (expr (msg (y)) value (1 ))) </div></div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l00949">949</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="ae4825a59e51690b7de4c0983e68b7fce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4825a59e51690b7de4c0983e68b7fce">&#9670;&nbsp;</a></span>potion_proto_load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a> potion_proto_load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d07/potion_8h.html#a8218d006431d872b014396d48f881023">Potion</a> *&#160;</td>
          <td class="paramname"><em>P</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a>&#160;</td>
          <td class="paramname"><em>up</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/dde/internal_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td>
          <td class="paramname"><em>pn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/dde/internal_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> **&#160;</td>
          <td class="paramname"><em>ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l01146">1146</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="ad969bf78a897dccdd9be4751c64345ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad969bf78a897dccdd9be4751c64345ac">&#9670;&nbsp;</a></span>potion_run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a> potion_run </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d07/potion_8h.html#a8218d006431d872b014396d48f881023">Potion</a> *&#160;</td>
          <td class="paramname"><em>P</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a>&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>jit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l01289">1289</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="a871896e25f5b28ea07c00f991ca9f553"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a871896e25f5b28ea07c00f991ca9f553">&#9670;&nbsp;</a></span>potion_eval()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a> potion_eval </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d07/potion_8h.html#a8218d006431d872b014396d48f881023">Potion</a> *&#160;</td>
          <td class="paramname"><em>P</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d07/potion_8h.html#a602546b9119b5381d9fcd29d457bd8d2">PN</a>&#160;</td>
          <td class="paramname"><em>bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l01305">1305</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="a56f0842affd37dac20753d9d3ba35292"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56f0842affd37dac20753d9d3ba35292">&#9670;&nbsp;</a></span>potion_compiler_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void potion_compiler_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d07/potion_8h.html#a8218d006431d872b014396d48f881023">Potion</a> *&#160;</td>
          <td class="paramname"><em>P</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l01314">1314</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a8f8f80d37794cde9472343e4487ba3eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f8f80d37794cde9472343e4487ba3eb">&#9670;&nbsp;</a></span>name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* name</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l00030">30</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="a696b922b70259bfcac0d3acf49cdf178"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a696b922b70259bfcac0d3acf49cdf178">&#9670;&nbsp;</a></span>args</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../db/dde/internal_8h.html#aed742c436da53c1080638ce6ef7d13de">u8</a> args</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d47/compile_8c_source.html#l00031">31</a> of file <a class="el" href="../../d2/d47/compile_8c_source.html">compile.c</a>.</p>

</div>
</div>
<a id="a1a987da93279b71d0a36883524971be4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a987da93279b71d0a36883524971be4">&#9670;&nbsp;</a></span>potion_ops</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const { ... }   potion_ops[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">  {<span class="stringliteral">&quot;noop&quot;</span>, 0}, {<span class="stringliteral">&quot;move&quot;</span>, 2}, {<span class="stringliteral">&quot;loadk&quot;</span>, 2}, {<span class="stringliteral">&quot;loadpn&quot;</span>, 2}, {<span class="stringliteral">&quot;self&quot;</span>, 1},</div><div class="line">  {<span class="stringliteral">&quot;newtuple&quot;</span>, 2}, {<span class="stringliteral">&quot;gettuple&quot;</span>, 2}, {<span class="stringliteral">&quot;settuple&quot;</span>, 2}, {<span class="stringliteral">&quot;getlocal&quot;</span>, 2}, {<span class="stringliteral">&quot;setlocal&quot;</span>, 2},</div><div class="line">  {<span class="stringliteral">&quot;getupval&quot;</span>, 2}, {<span class="stringliteral">&quot;setupval&quot;</span>, 2}, {<span class="stringliteral">&quot;global&quot;</span>, 2}, {<span class="stringliteral">&quot;gettable&quot;</span>, 2},</div><div class="line">  {<span class="stringliteral">&quot;settable&quot;</span>, 2}, {<span class="stringliteral">&quot;newlick&quot;</span>, 2}, {<span class="stringliteral">&quot;getpath&quot;</span>, 2}, {<span class="stringliteral">&quot;setpath&quot;</span>, 2},</div><div class="line">  {<span class="stringliteral">&quot;add&quot;</span>, 2}, {<span class="stringliteral">&quot;sub&quot;</span>, 2}, {<span class="stringliteral">&quot;mult&quot;</span>, 2}, {<span class="stringliteral">&quot;div&quot;</span>, 2}, {<span class="stringliteral">&quot;mod&quot;</span>, 2}, {<span class="stringliteral">&quot;pow&quot;</span>, 2},</div><div class="line">  {<span class="stringliteral">&quot;not&quot;</span>, 1}, {<span class="stringliteral">&quot;cmp&quot;</span>, 2}, {<span class="stringliteral">&quot;eq&quot;</span>, 2}, {<span class="stringliteral">&quot;neq&quot;</span>, 2}, {<span class="stringliteral">&quot;lt&quot;</span>, 2}, {<span class="stringliteral">&quot;lte&quot;</span>, 2},</div><div class="line">  {<span class="stringliteral">&quot;gt&quot;</span>, 2}, {<span class="stringliteral">&quot;gte&quot;</span>, 2}, {<span class="stringliteral">&quot;bitn&quot;</span>, 2}, {<span class="stringliteral">&quot;bitl&quot;</span>, 2}, {<span class="stringliteral">&quot;bitr&quot;</span>, 2}, {<span class="stringliteral">&quot;def&quot;</span>, 2},</div><div class="line">  {<span class="stringliteral">&quot;bind&quot;</span>, 2}, {<span class="stringliteral">&quot;msg&quot;</span>, 2}, {<span class="stringliteral">&quot;jump&quot;</span>, 1}, {<span class="stringliteral">&quot;test&quot;</span>, 2}, {<span class="stringliteral">&quot;testjmp&quot;</span>, 2},</div><div class="line">  {<span class="stringliteral">&quot;notjmp&quot;</span>, 2}, {<span class="stringliteral">&quot;named&quot;</span>, 2}, {<span class="stringliteral">&quot;call&quot;</span>, 2}, {<span class="stringliteral">&quot;callset&quot;</span>, 2}, {<span class="stringliteral">&quot;tailcall&quot;</span>, 2},</div><div class="line">  {<span class="stringliteral">&quot;return&quot;</span>, 1}, {<span class="stringliteral">&quot;proto&quot;</span>, 2}, {<span class="stringliteral">&quot;class&quot;</span>, 2}, {<span class="stringliteral">&quot;debug&quot;</span>, 2}</div><div class="line">}</div></div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Feb 02 2018 for potion ."1289" (date="2015-11-08")
) by <a href="http://www.doxygen.org/index.html">doxygen</a>  1.8.13
</small></address></body></html>
