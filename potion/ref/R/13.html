<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>ASM</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.2.8' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/36.html#L49'>ASM</a>                49 core/vm-arm.c    ASM((ins &lt;&lt; 2) | ((a &gt;&gt; 2) &amp; 0x3)); \</span>
<span class='curline'><a href='../S/36.html#L50'>ASM</a>                50 core/vm-arm.c    ASM((a &lt;&lt; 5)   | (b &amp; 0x1F)); \</span>
<span class='curline'><a href='../S/36.html#L51'>ASM</a>                51 core/vm-arm.c    ASM(c); ASM(d)</span>
<span class='curline'><a href='../S/36.html#L57'>ASM</a>                57 core/vm-arm.c    ASM(ins &lt;&lt; 2); \</span>
<span class='curline'><a href='../S/36.html#L58'>ASM</a>                58 core/vm-arm.c    ASM(a &gt;&gt; 16); ASM(a &gt;&gt; 8); ASM(a)</span>
<span class='curline'><a href='../S/38.html#L48'>ASM</a>                48 core/vm-ppc.c    ASM((ins &lt;&lt; 2) | ((a &gt;&gt; 2) &amp; 0x3)); \</span>
<span class='curline'><a href='../S/38.html#L49'>ASM</a>                49 core/vm-ppc.c    ASM((a &lt;&lt; 5)   | (b &amp; 0x1F)); \</span>
<span class='curline'><a href='../S/38.html#L50'>ASM</a>                50 core/vm-ppc.c    ASM(c); ASM(d)</span>
<span class='curline'><a href='../S/38.html#L56'>ASM</a>                56 core/vm-ppc.c    ASM(ins &lt;&lt; 2); \</span>
<span class='curline'><a href='../S/38.html#L57'>ASM</a>                57 core/vm-ppc.c    ASM(a &gt;&gt; 16); ASM(a &gt;&gt; 8); ASM(a)</span>
<span class='curline'><a href='../S/39.html#L30'>ASM</a>                30 core/vm-x86.c      ASM((op)+0x40); ASMI(RBPN(reg)); }			\</span>
<span class='curline'><a href='../S/39.html#L31'>ASM</a>                31 core/vm-x86.c    else { ASM(op); ASM(RBP(reg)); }</span>
<span class='curline'><a href='../S/39.html#L34'>ASM</a>                34 core/vm-x86.c    if (reg &gt; 31) { ASM((op)+0x40); ASMI(RBPN(reg)); }	\</span>
<span class='curline'><a href='../S/39.html#L35'>ASM</a>                35 core/vm-x86.c    else { ASM(op); ASM(RBP(reg)); }</span>
<span class='curline'><a href='../S/39.html#L39'>ASM</a>                39 core/vm-x86.c  #define X86_PRE()  ASM(0x48)</span>
<span class='curline'><a href='../S/39.html#L40'>ASM</a>                40 core/vm-x86.c  #define X86_POST() ASM(0x48); ASM(0x98)</span>
<span class='curline'><a href='../S/39.html#L46'>ASM</a>                46 core/vm-x86.c      ASM((op)+0x40); ASMI(RBPN(reg)); }		\</span>
<span class='curline'><a href='../S/39.html#L47'>ASM</a>                47 core/vm-x86.c    else { ASM(op); ASM(RBP(reg)); }</span>
<span class='curline'><a href='../S/39.html#L50'>ASM</a>                50 core/vm-x86.c    if (reg &gt; 15) { ASM((op)+0x40); ASMI(RBPN(reg)); }	\</span>
<span class='curline'><a href='../S/39.html#L51'>ASM</a>                51 core/vm-x86.c    else { ASM(op); ASM(RBP(reg)); }</span>
<span class='curline'><a href='../S/39.html#L55'>ASM</a>                55 core/vm-x86.c  #define X86_MOV_RBP(reg, x) X86_PRE(); ASM(reg); ASM_MOV_EBP(0x45,x)</span>
<span class='curline'><a href='../S/39.html#L58'>ASM</a>                58 core/vm-x86.c          ASM(0xC7); ASM_MOV_EBP(0x45,reg)	/* movl -A(%rbp) */ \</span>
<span class='curline'><a href='../S/39.html#L62'>ASM</a>                62 core/vm-x86.c          X86_PRE(); ASM(0xb8); ASMN((PN)(x)); 			/* movq x, %rax */ \</span>
<span class='curline'><a href='../S/39.html#L63'>ASM</a>                63 core/vm-x86.c          X86_PRE(); ASM(0x89); ASM_MOV_EBP(0x45,reg)	       	/* movq %rax, -A(%rbp) */</span>
<span class='curline'><a href='../S/39.html#L71'>ASM</a>                71 core/vm-x86.c          ASM(insn);                                            \</span>
<span class='curline'><a href='../S/39.html#L72'>ASM</a>                72 core/vm-x86.c          ASM(0);                                               \</span>
<span class='curline'><a href='../S/39.html#L76'>ASM</a>                76 core/vm-x86.c          ASM(0x0f); ASM(insn);                                 \</span>
<span class='curline'><a href='../S/39.html#L88'>ASM</a>                88 core/vm-x86.c            ASM(0x0f);                                          \</span>
<span class='curline'><a href='../S/39.html#L89'>ASM</a>                89 core/vm-x86.c            ASM(insn + 0x10);                                   \</span>
<span class='curline'><a href='../S/39.html#L92'>ASM</a>                92 core/vm-x86.c            ASM(insn);                                          \</span>
<span class='curline'><a href='../S/39.html#L93'>ASM</a>                93 core/vm-x86.c            ASM(tag - (*asmp)-&gt;len - 2);                        \</span>
<span class='curline'><a href='../S/39.html#L107'>ASM</a>               107 core/vm-x86.c          if (two) { X86_PRE(); ASM(0x8B); ASM_MOV_EBP(0x55,op.b) }	/* mov -B(%rbp) %edx */	\</span>
<span class='curline'><a href='../S/39.html#L108'>ASM</a>               108 core/vm-x86.c          ASM(0xF6); ASM(0xC0); ASM(0x01); 				/* test 0x1 %al */ \</span>
<span class='curline'><a href='../S/39.html#L109'>ASM</a>               109 core/vm-x86.c          TAG_PREP(dbl_a); ASM(0x74); ASM(0); 				/* je [a] */ \</span>
<span class='curline'><a href='../S/39.html#L110'>ASM</a>               110 core/vm-x86.c          if (two) { ASM(0xF6); ASM(0xC2); ASM(0x01); }			/* test 0x1 %dl */ \</span>
<span class='curline'><a href='../S/39.html#L111'>ASM</a>               111 core/vm-x86.c          if (two) { TAG_PREP(dbl_a1); ASM(0x74); ASM(0); 		/* je [a] */ } \</span>
<span class='curline'><a href='../S/39.html#L113'>ASM</a>               113 core/vm-x86.c          TAG_PREP(end_b); ASM(0xEB); ASM(0); 				/* jmp [b] */ \</span>
<span class='curline'><a href='../S/39.html#L118'>ASM</a>               118 core/vm-x86.c          X86_PRE(); ASM(0xB8); ASMN(dbl_func); 				/* mov &amp;dbl_func %rax */ \</span>
<span class='curline'><a href='../S/39.html#L119'>ASM</a>               119 core/vm-x86.c          ASM(0xFF); ASM(0xD0); 						/* callq %rax */ \</span>
<span class='curline'><a href='../S/39.html#L135'>ASM</a>               135 core/vm-x86.c          X86_PRE(); ASM(0x8B); ASM_MOV_EBP(0x55,op.a)	/* mov -A(%rbp) %rdx */ \</span>
<span class='curline'><a href='../S/39.html#L138'>ASM</a>               138 core/vm-x86.c          TAG_PREP(dbl_b); ASM(0x74);ASM(0); 		/* je [dbl_b] */ \</span>
<span class='curline'><a href='../S/39.html#L140'>ASM</a>               140 core/vm-x86.c          TAG_PREP(dbl_a); ASM(0x74);ASM(0);		/* je [dbl_a] */ \</span>
<span class='curline'><a href='../S/39.html#L142'>ASM</a>               142 core/vm-x86.c          X86_PRE(); ASM(0x39); ASM(0xC2);                /* both_int: cmp %rax, %rdx */ \</span>
<span class='curline'><a href='../S/39.html#L143'>ASM</a>               143 core/vm-x86.c          TAG_PREP(true_1); ASM(iop); ASM(0);		/* j? [true] */	\</span>
<span class='curline'><a href='../S/39.html#L144'>ASM</a>               144 core/vm-x86.c          TAG_PREP(false_); ASM(0xEB); ASM(0);		/* jmp [false] */ \</span>
<span class='curline'><a href='../S/39.html#L149'>ASM</a>               149 core/vm-x86.c  	ASMS("\xf2\x0f\x10\x42");ASM(PN_SIZE_T);	/* movsd 8(%rdx), %xmm0 [a] */ \</span>
<span class='curline'><a href='../S/39.html#L152'>ASM</a>               152 core/vm-x86.c  	ASM(0xF2);X86_PRE();ASMS("\x0f\x2a\xc8");       /* cvtsi2sd %rax, %xmm1 [b] */ \</span>
<span class='curline'><a href='../S/39.html#L153'>ASM</a>               153 core/vm-x86.c          TAG_PREP(cmp_dbl); ASM(0xEB);ASM(0);		/* jmp [cmp_dbl] */ \</span>
<span class='curline'><a href='../S/39.html#L156'>ASM</a>               156 core/vm-x86.c  	ASMS("\xf2\x0f\x10\x48");ASM(PN_SIZE_T);	/* movsd 8(%rax), %xmm1 [b] */ \</span>
<span class='curline'><a href='../S/39.html#L158'>ASM</a>               158 core/vm-x86.c          ASM(0x74);ASM(X86C(12,14, 0,0));                /* je +cvt */ \</span>
<span class='curline'><a href='../S/39.html#L161'>ASM</a>               161 core/vm-x86.c  	ASM(0xF2);X86_PRE();ASMS("\x0f\x2a\xc2");	/* cvtsi2sd %rdx, %xmm0 [a] */ \</span>
<span class='curline'><a href='../S/39.html#L162'>ASM</a>               162 core/vm-x86.c          ASM(0xEB); ASM(X86C(5,5, 0,0));			/* jmp [cmp_dbl] */ \</span>
<span class='curline'><a href='../S/39.html#L163'>ASM</a>               163 core/vm-x86.c  	ASMS("\xf2\x0f\x10\x42");ASM(PN_SIZE_T);	/* movsd 8(%rdx), %xmm0 [a] */ \</span>
<span class='curline'><a href='../S/39.html#L166'>ASM</a>               166 core/vm-x86.c          TAG_PREP(true_2); ASM(xop); ASM(0);        	/* j? [true] */   \</span>
<span class='curline'><a href='../S/39.html#L168'>ASM</a>               168 core/vm-x86.c          ASM(0xEB); ASM(X86C(7,14, 1,op.a));		/* jmp [+true] */ \</span>
<span class='curline'><a href='../S/39.html#L180'>ASM</a>               180 core/vm-x86.c          X86_PRE(); ASM(0x8B); ASM_MOV_EBP(0x55,op.a)	/* mov -A(%rbp) %rdx */ \</span>
<span class='curline'><a href='../S/39.html#L182'>ASM</a>               182 core/vm-x86.c          X86_PRE(); ASM(0x39); ASM(0xC2);                /* cmpq %rax, %rdx */ \</span>
<span class='curline'><a href='../S/39.html#L186'>ASM</a>               186 core/vm-x86.c          TAG_PREP(_end); ASM(0xE9); ASMI(0);		/* jmp [_end] */ \</span>
<span class='curline'><a href='../S/39.html#L189'>ASM</a>               189 core/vm-x86.c          X86_PRE(); ASM(0xa9), ASMI(-8);		        /* testq $-8, %rax */ \</span>
<span class='curline'><a href='../S/39.html#L194'>ASM</a>               194 core/vm-x86.c          X86_PRE();ASMS("\x8b\x40");ASM(PN_SIZE_T);	/* movl	8(%rax), %rax */ \</span>
<span class='curline'><a href='../S/39.html#L204'>ASM</a>               204 core/vm-x86.c          X86_PRE(); ASM(0xa9), ASMI(-8);		        /* testq $-8, %rax */ \</span>
<span class='curline'><a href='../S/39.html#L209'>ASM</a>               209 core/vm-x86.c          X86_PRE();ASMS("\x8b\x40");ASM(PN_SIZE_T);	/* movl	8(%rax), %rax */ \</span>
<span class='curline'><a href='../S/39.html#L221'>ASM</a>               221 core/vm-x86.c  	ASM(0xF2);X86_PRE();ASMS("\x0f\x2a\xc8");	/* cvtsi2sd %rax, %xmm1 [a] */ \</span>
<span class='curline'><a href='../S/39.html#L229'>ASM</a>               229 core/vm-x86.c  	ASM(0xF2);X86_PRE();ASMS("\x0f\x2a\xc0");	/* cvtsi2sd %rax, %xmm0 [b] */ \</span>
<span class='curline'><a href='../S/39.html#L236'>ASM</a>               236 core/vm-x86.c          TAG_PREP(_end1); ASM(0xEB); ASM(0);		/* jmp [_end] */ \</span>
<span class='curline'><a href='../S/39.html#L254'>ASM</a>               254 core/vm-x86.c          ASM(0xE9); \</span>
<span class='curline'><a href='../S/39.html#L268'>ASM</a>               268 core/vm-x86.c    X86_PRE(); ASM(0xB8); ASMN(potion_x86_debug); \</span>
<span class='curline'><a href='../S/39.html#L269'>ASM</a>               269 core/vm-x86.c    ASM(0xFF); ASM(0xD0)</span>
<span class='curline'><a href='../S/39.html#L332'>ASM</a>               332 core/vm-x86.c  	ASM(0x8b); ASM(0x55); ASM(2 * sizeof(PN));	//mov argn(%ebp), %edx</span>
<span class='curline'><a href='../S/39.html#L338'>ASM</a>               338 core/vm-x86.c  	ASM(0xc7); ASM(0x44); ASM(0x24); ASM(argn * sizeof(PN)); ASMI(regn); //mov $regn, argn(%esp)</span>
<span class='curline'><a href='../S/39.html#L340'>ASM</a>               340 core/vm-x86.c  	ASM(0x8b); ASM_MOV_EBP(0x55,regn) 			//mov -0x8(%ebp), %edx</span>
<span class='curline'><a href='../S/39.html#L344'>ASM</a>               344 core/vm-x86.c  	ASMS("\x89\x54\x24"); ASM(argn * sizeof(PN));//mov %edx, argn(%esp)</span>
<span class='curline'><a href='../S/39.html#L346'>ASM</a>               346 core/vm-x86.c  	ASM(0x8b); ASM(0x55); ASM(argn * sizeof(PN));		//mov argn(%ebp), %edx</span>
<span class='curline'><a href='../S/39.html#L349'>ASM</a>               349 core/vm-x86.c  	ASM(0x89); ASM_MOV_EBP(0x55,regn)			//mov %edx, regn(%ebp)</span>
<span class='curline'><a href='../S/39.html#L358'>ASM</a>               358 core/vm-x86.c        X86_PRE(); ASM(0xc7); ASM(0xc7); ASMI(regn);</span>
<span class='curline'><a href='../S/39.html#L360'>ASM</a>               360 core/vm-x86.c        X86_PRE(); ASM(out ? 0x8b : 0x89); ASM_MOV_EBP(0x7d,regn) // mov -regn(%rbp), %rdi</span>
<span class='curline'><a href='../S/39.html#L365'>ASM</a>               365 core/vm-x86.c        X86_PRE(); ASM(0xc7); ASM(0xc6); ASMI(regn);</span>
<span class='curline'><a href='../S/39.html#L367'>ASM</a>               367 core/vm-x86.c        X86_PRE(); ASM(out ? 0x8b : 0x89); ASM_MOV_EBP(0x75,regn)</span>
<span class='curline'><a href='../S/39.html#L372'>ASM</a>               372 core/vm-x86.c        X86_PRE(); ASM(0xc7); ASM(0xc2); ASMI(regn);</span>
<span class='curline'><a href='../S/39.html#L374'>ASM</a>               374 core/vm-x86.c        X86_PRE(); ASM(out ? 0x8b : 0x89); ASM_MOV_EBP(0x55,regn)</span>
<span class='curline'><a href='../S/39.html#L379'>ASM</a>               379 core/vm-x86.c        X86_PRE(); ASM(0xc7); ASM(0xc1); ASMI(regn);</span>
<span class='curline'><a href='../S/39.html#L381'>ASM</a>               381 core/vm-x86.c        X86_PRE(); ASM(out ? 0x8b : 0x89); ASM_MOV_EBP(0x4d,regn)</span>
<span class='curline'><a href='../S/39.html#L388'>ASM</a>               388 core/vm-x86.c        ASM(0x4c); ASM(out ? 0x8b : 0x89); ASM_MOV_EBP(0x45,regn)</span>
<span class='curline'><a href='../S/39.html#L395'>ASM</a>               395 core/vm-x86.c        ASM(0x4c); ASM(out ? 0x8b : 0x89); ASM_MOV_EBP(0x4d,regn)</span>
<span class='curline'><a href='../S/39.html#L400'>ASM</a>               400 core/vm-x86.c  	X86_PRE(); ASM(0x8B); ASM_MOV_EBP(0x5d,regn) // mov %rbp(A) %rbx</span>
<span class='curline'><a href='../S/39.html#L404'>ASM</a>               404 core/vm-x86.c  	  X86_PRE(); ASMS("\x89\x5c\x24"); ASM((argn - 6) * sizeof(PN)); // mov %rbx N(%rsp)</span>
<span class='curline'><a href='../S/39.html#L407'>ASM</a>               407 core/vm-x86.c  	X86_PRE(); ASM(0x8b); ASM(0x5d); ASM((argn - 4) * sizeof(PN));</span>
<span class='curline'><a href='../S/39.html#L408'>ASM</a>               408 core/vm-x86.c  	X86_PRE(); ASM(0x89); ASM_MOV_EBP(0x5d,regn) // mov %rbp(A) %rbx</span>
<span class='curline'><a href='../S/39.html#L416'>ASM</a>               416 core/vm-x86.c    ASM(0x55); 				// push %rbp</span>
<span class='curline'><a href='../S/39.html#L417'>ASM</a>               417 core/vm-x86.c    X86_PRE(); ASM(0x89); ASM(0xE5); 	// mov %rsp,%rbp</span>
<span class='curline'><a href='../S/39.html#L427'>ASM</a>               427 core/vm-x86.c      X86_PRE(); ASM(0x81); ASM(0xEC); ASMI(rsp); // sub rsp, %esp</span>
<span class='curline'><a href='../S/39.html#L429'>ASM</a>               429 core/vm-x86.c      X86_PRE(); ASM(0x83); ASM(0xEC); ASM(rsp);  // sub rsp, %esp</span>
<span class='curline'><a href='../S/39.html#L459'>ASM</a>               459 core/vm-x86.c      X86_PRE(); ASM(0x8B);  		// mov n(%eax), %eax</span>
<span class='curline'><a href='../S/39.html#L460'>ASM</a>               460 core/vm-x86.c      if (n &gt;= 0x80) { ASM(0x80); ASMI(n); } // if more than ~15 upvals</span>
<span class='curline'><a href='../S/39.html#L461'>ASM</a>               461 core/vm-x86.c      else { ASM(0x40); ASM(n); }</span>
<span class='curline'><a href='../S/39.html#L489'>ASM</a>               489 core/vm-x86.c    X86_PRE(); ASM(0xB8); ASMN(potion_f_values);		// mov &amp;potion_f_values %rax</span>
<span class='curline'><a href='../S/39.html#L490'>ASM</a>               490 core/vm-x86.c    ASM(0xFF); ASM(0xD0); 				// callq %rax</span>
<span class='curline'><a href='../S/39.html#L491'>ASM</a>               491 core/vm-x86.c    X86_PRE(); ASM(0x05); ASMI(sizeof(struct PNTuple)</span>
<span class='curline'><a href='../S/39.html#L493'>ASM</a>               493 core/vm-x86.c    X86_PRE(); ASM(0x8B); ASM(0); 			// mov (%rax) %rax</span>
<span class='curline'><a href='../S/39.html#L511'>ASM</a>               511 core/vm-x86.c  	 "\x75"); ASM(X86C(19,20, 0,0)); 		// jnz a</span>
<span class='curline'><a href='../S/39.html#L513'>ASM</a>               513 core/vm-x86.c      ASM(0x74); ASM(X86C(11,12, 0,0)); 		// jz a</span>
<span class='curline'><a href='../S/39.html#L515'>ASM</a>               515 core/vm-x86.c      ASM(0x75); ASM(X86C(3,4, 0,0)); 		// jnz a</span>
<span class='curline'><a href='../S/39.html#L516'>ASM</a>               516 core/vm-x86.c      X86_PRE(); ASM(0x8B); ASM(0x40);</span>
<span class='curline'><a href='../S/39.html#L517'>ASM</a>               517 core/vm-x86.c                 ASM(sizeof(struct PNObject)); 	// mov N(%eax) %eax;  #WeakRef-&gt;data (Obj+PN)</span>
<span class='curline'><a href='../S/39.html#L527'>ASM</a>               527 core/vm-x86.c    X86_PRE(); ASM(0x8B); ASM_MOV_EBP(0x55, op.a) 	// mov %rsp(A) %rdx</span>
<span class='curline'><a href='../S/39.html#L531'>ASM</a>               531 core/vm-x86.c  	 "\x75"); ASM(X86C(19,20, 0,0)); 		// jnz a</span>
<span class='curline'><a href='../S/39.html#L533'>ASM</a>               533 core/vm-x86.c      ASM(0x74); ASM(X86C(11,12, 0,0)); 			// jz a</span>
<span class='curline'><a href='../S/39.html#L535'>ASM</a>               535 core/vm-x86.c      ASM(0x75); ASM(X86C(3,4, 0,0)); 			// jnz a</span>
<span class='curline'><a href='../S/39.html#L536'>ASM</a>               536 core/vm-x86.c      X86_PRE(); ASM(0x89); ASM(0x50);</span>
<span class='curline'><a href='../S/39.html#L537'>ASM</a>               537 core/vm-x86.c                 ASM(sizeof(struct PNObject)); 		// mov N(%rax) %rax</span>
<span class='curline'><a href='../S/39.html#L539'>ASM</a>               539 core/vm-x86.c    X86_PRE(); ASM(0x89); ASM_MOV_EBP(0x55, regs + op.b)// a: mov %rdx %rsp(B)</span>
<span class='curline'><a href='../S/39.html#L546'>ASM</a>               546 core/vm-x86.c    X86_PRE(); ASM(0x8B); ASM(0x40); ASM(sizeof(struct PNObject));</span>
<span class='curline'><a href='../S/39.html#L554'>ASM</a>               554 core/vm-x86.c    X86_PRE(); ASM(0x8B); ASM_MOV_EBP(0x55, op.a) 		// mov -A(%rbp) %edx</span>
<span class='curline'><a href='../S/39.html#L556'>ASM</a>               556 core/vm-x86.c    X86_PRE(); ASM(0x89); ASM(0x50); ASM(sizeof(struct PNObject));// mov %rdx %rax.data</span>
<span class='curline'><a href='../S/39.html#L564'>ASM</a>               564 core/vm-x86.c    X86_PRE(); ASM(0xB8); ASMN(potion_define_global);     // mov &amp;potion_define_global, %rax</span>
<span class='curline'><a href='../S/39.html#L565'>ASM</a>               565 core/vm-x86.c    ASM(0xFF); ASM(0xD0);					// callq %rax</span>
<span class='curline'><a href='../S/39.html#L567'>ASM</a>               567 core/vm-x86.c    X86_PRE(); ASM(0x89); ASM_MOV_EBP(0x45, op.a) 	// mov %eax -A(%rbp)</span>
<span class='curline'><a href='../S/39.html#L573'>ASM</a>               573 core/vm-x86.c    X86_PRE(); ASM(0xB8); ASMN(potion_tuple_empty);// mov &amp;potion_tuple_empty %rax</span>
<span class='curline'><a href='../S/39.html#L574'>ASM</a>               574 core/vm-x86.c    ASM(0xFF); ASM(0xD0); 			 // callq %rax</span>
<span class='curline'><a href='../S/39.html#L583'>ASM</a>               583 core/vm-x86.c    X86_PRE(); ASM(0xB8); ASMN(potion_fwd);	// mov &amp;potion_fwd, %rax</span>
<span class='curline'><a href='../S/39.html#L584'>ASM</a>               584 core/vm-x86.c    ASM(0xFF); ASM(0xD0);				// callq %rax</span>
<span class='curline'><a href='../S/39.html#L586'>ASM</a>               586 core/vm-x86.c      X86_PRE();ASM(0x8b);ASM_MOV_EBP(0x55,op.b-ASM_TPL_IMM); // mov -B-1024(%rbp) %rdx</span>
<span class='curline'><a href='../S/39.html#L589'>ASM</a>               589 core/vm-x86.c      X86_PRE();ASM(0x8b);ASM(0x44);ASM((5+PN_SIZE_T)&lt;&lt;4);ASM(0x10);// mov 0x10(%rax,%rdx,PN_SIZE_T),%rax</span>
<span class='curline'><a href='../S/39.html#L591'>ASM</a>               591 core/vm-x86.c      X86_PRE();ASM(0xc7);ASM(0xc2);ASMI(op.b+2);         // mov B+$2, %rdx #PNTuple+2</span>
<span class='curline'><a href='../S/39.html#L592'>ASM</a>               592 core/vm-x86.c      X86_PRE();ASM(0x8b);ASM(0x04);ASM((5+PN_SIZE_T)&lt;&lt;4);// mov (%rax,%rdx,PN_SIZE_T),%rax</span>
<span class='curline'><a href='../S/39.html#L603'>ASM</a>               603 core/vm-x86.c    X86_PRE(); ASM(0xB8); ASMN(potion_tuple_push);// mov &amp;potion_tuple_push %rax</span>
<span class='curline'><a href='../S/39.html#L604'>ASM</a>               604 core/vm-x86.c    ASM(0xFF); ASM(0xD0); 			// callq %rax</span>
<span class='curline'><a href='../S/39.html#L614'>ASM</a>               614 core/vm-x86.c    X86_PRE(); ASM(0xB8); ASMN(potion_table_at);  // mov &amp;potion_table_set %rax</span>
<span class='curline'><a href='../S/39.html#L615'>ASM</a>               615 core/vm-x86.c    ASM(0xFF); ASM(0xD0); 			// callq %rax</span>
<span class='curline'><a href='../S/39.html#L625'>ASM</a>               625 core/vm-x86.c    X86_PRE(); ASM(0xB8); ASMN(potion_table_set); // mov &amp;potion_table_set %rax</span>
<span class='curline'><a href='../S/39.html#L626'>ASM</a>               626 core/vm-x86.c    ASM(0xFF); ASM(0xD0); 			// callq %rax</span>
<span class='curline'><a href='../S/39.html#L648'>ASM</a>               648 core/vm-x86.c    X86_PRE(); ASM(0xB8); ASMN(potion_lick); 	// mov &amp;potion_lick %rax</span>
<span class='curline'><a href='../S/39.html#L649'>ASM</a>               649 core/vm-x86.c    ASM(0xFF); ASM(0xD0); 			// callq %rax</span>
<span class='curline'><a href='../S/39.html#L658'>ASM</a>               658 core/vm-x86.c    X86_PRE(); ASM(0xB8); ASMN(potion_obj_get); 	// mov &amp;potion_obj_get %rax</span>
<span class='curline'><a href='../S/39.html#L659'>ASM</a>               659 core/vm-x86.c    ASM(0xFF); ASM(0xD0); 			// callq %rax</span>
<span class='curline'><a href='../S/39.html#L669'>ASM</a>               669 core/vm-x86.c    X86_PRE(); ASM(0xB8); ASMN(potion_obj_set); 	// mov &amp;potion_obj_set %rax</span>
<span class='curline'><a href='../S/39.html#L670'>ASM</a>               670 core/vm-x86.c    ASM(0xFF); ASM(0xD0); 			// callq %rax</span>
<span class='curline'><a href='../S/39.html#L677'>ASM</a>               677 core/vm-x86.c      ASM(0x70); ASM(2);                   // jo +2</span>
<span class='curline'><a href='../S/39.html#L684'>ASM</a>               684 core/vm-x86.c      X86_PRE(); ASM(0x29); ASM(0xD0); // sub %edx %eax</span>
<span class='curline'><a href='../S/39.html#L685'>ASM</a>               685 core/vm-x86.c      ASM(0x70); ASM(X86_PRE_T + 4);   // jo +4</span>
<span class='curline'><a href='../S/39.html#L686'>ASM</a>               686 core/vm-x86.c      X86_PRE(); ASM(0xFF); ASM(0xC0); // inc %eax</span>
<span class='curline'><a href='../S/39.html#L696'>ASM</a>               696 core/vm-x86.c      ASM(0x70); ASM(X86_PRE_T + 4);      // jo +4</span>
<span class='curline'><a href='../S/39.html#L732'>ASM</a>               732 core/vm-x86.c    X86_PRE(); ASM(0xB8); ASMN(potion_num_pow);// mov &amp;potion_num_pow %rax</span>
<span class='curline'><a href='../S/39.html#L733'>ASM</a>               733 core/vm-x86.c    ASM(0xFF); ASM(0xD0); 		 // callq %rax</span>
<span class='curline'><a href='../S/39.html#L742'>ASM</a>               742 core/vm-x86.c    X86_PRE(); ASM(0xB8); ASMN(potion_vm_neq); 	// mov &amp;potion_vm_neq %rax</span>
<span class='curline'><a href='../S/39.html#L743'>ASM</a>               743 core/vm-x86.c    ASM(0xFF); ASM(0xD0); 			// callq %rax</span>
<span class='curline'><a href='../S/39.html#L754'>ASM</a>               754 core/vm-x86.c    X86_PRE(); ASM(0xB8); ASMN(potion_vm_eq); 	// mov &amp;potion_vm_eq %rax</span>
<span class='curline'><a href='../S/39.html#L755'>ASM</a>               755 core/vm-x86.c    ASM(0xFF); ASM(0xD0); 			// callq %rax</span>
<span class='curline'><a href='../S/39.html#L792'>ASM</a>               792 core/vm-x86.c      X86_PRE(); ASM(0xF7); ASM(0xD0); // not %eax</span>
<span class='curline'><a href='../S/39.html#L793'>ASM</a>               793 core/vm-x86.c      X86_PRE(); ASM(0xFF); ASM(0xC0); // inc %rax</span>
<span class='curline'><a href='../S/39.html#L805'>ASM</a>               805 core/vm-x86.c        ASM(0x70); ASM(6);        // jo +6</span>
<span class='curline'><a href='../S/39.html#L818'>ASM</a>               818 core/vm-x86.c      ASM(0x70); ASM(6);          // jo +6</span>
<span class='curline'><a href='../S/39.html#L829'>ASM</a>               829 core/vm-x86.c    X86_PRE(); ASM(0xB8); ASMN(potion_def_method); // mov &amp;potion_def_method %rax</span>
<span class='curline'><a href='../S/39.html#L830'>ASM</a>               830 core/vm-x86.c    ASM(0xFF); ASM(0xD0); // callq %rax</span>
<span class='curline'><a href='../S/39.html#L839'>ASM</a>               839 core/vm-x86.c    X86_PRE(); ASM(0xB8); ASMN(potion_bind); 	// mov &amp;potion_bind %rax</span>
<span class='curline'><a href='../S/39.html#L840'>ASM</a>               840 core/vm-x86.c    ASM(0xFF); ASM(0xD0); 			// callq %rax</span>
<span class='curline'><a href='../S/39.html#L849'>ASM</a>               849 core/vm-x86.c    X86_PRE(); ASM(0xB8); ASMN(potion_message); 	// mov &amp;potion_message %rax</span>
<span class='curline'><a href='../S/39.html#L850'>ASM</a>               850 core/vm-x86.c    ASM(0xFF); ASM(0xD0); 			// callq %rax</span>
<span class='curline'><a href='../S/39.html#L863'>ASM</a>               863 core/vm-x86.c    X86_PRE(); ASM(0x83); ASM(0xF8); ASM(PN_FALSE); 	// cmp FALSE %rax</span>
<span class='curline'><a href='../S/39.html#L864'>ASM</a>               864 core/vm-x86.c    TAG_PREP(false1); ASM(0x74); ASM(0);			// je false (+13,21)</span>
<span class='curline'><a href='../S/39.html#L865'>ASM</a>               865 core/vm-x86.c    X86_PRE(); ASM(0x85); ASM(0xC0); 			// test %rax %rax</span>
<span class='curline'><a href='../S/39.html#L866'>ASM</a>               866 core/vm-x86.c    TAG_PREP(false2); ASM(0x74); ASM(0);			// jz false (+9,16)</span>
<span class='curline'><a href='../S/39.html#L868'>ASM</a>               868 core/vm-x86.c    TAG_PREP(true1); ASM(0xEB); ASM(0);			// jmp true (+7,14)</span>
<span class='curline'><a href='../S/39.html#L889'>ASM</a>               889 core/vm-x86.c    X86_PRE(); ASM(0x83); ASM(0xF8); ASM(PN_FALSE); 	// cmp FALSE %rax</span>
<span class='curline'><a href='../S/39.html#L890'>ASM</a>               890 core/vm-x86.c    ASM(0x74); ASM(X86C(9,10, 0,0)); 			// jz false (+9)</span>
<span class='curline'><a href='../S/39.html#L891'>ASM</a>               891 core/vm-x86.c    X86_PRE(); ASM(0x85); ASM(0xC0); 			// test %rax %rax</span>
<span class='curline'><a href='../S/39.html#L892'>ASM</a>               892 core/vm-x86.c    ASM(0x74); ASM(5);					// jz false (+5)</span>
<span class='curline'><a href='../S/39.html#L900'>ASM</a>               900 core/vm-x86.c    X86_PRE(); ASM(0x83); ASM(0xF8); ASM(PN_FALSE);	// cmp FALSE %rax</span>
<span class='curline'><a href='../S/39.html#L901'>ASM</a>               901 core/vm-x86.c    ASM(0x74); ASM(X86C(4,5, 0,0));			// jz false (+4)</span>
<span class='curline'><a href='../S/39.html#L902'>ASM</a>               902 core/vm-x86.c    X86_PRE(); ASM(0x85); ASM(0xC0);			// test %rax %rax</span>
<span class='curline'><a href='../S/39.html#L903'>ASM</a>               903 core/vm-x86.c    ASM(0x75); ASM(5);					// jnz true (+5)</span>
<span class='curline'><a href='../S/39.html#L914'>ASM</a>               914 core/vm-x86.c    X86_PRE(); ASM(0xB8); ASMN(potion_sig_find); 		// mov &amp;potion_sig_find %rax</span>
<span class='curline'><a href='../S/39.html#L918'>ASM</a>               918 core/vm-x86.c    ASM(0x78); ASM(0);					// js +12</span>
<span class='curline'><a href='../S/39.html#L919'>ASM</a>               919 core/vm-x86.c    X86_PRE(); ASM(0xF7); ASM(0xD8);			// neg %rax</span>
<span class='curline'><a href='../S/39.html#L920'>ASM</a>               920 core/vm-x86.c    X86_PRE(); ASM(0x8B); ASM_MOV_EBP(0x55, op.b)		// mov -B(%rbp) %rdx</span>
<span class='curline'><a href='../S/39.html#L922'>ASM</a>               922 core/vm-x86.c    ASM(0x89); ASM(0x54); ASM_MOV_EBP(0x85, op.a + 2)	// mov %edx -A(%ebp,%eax,4)</span>
<span class='curline'><a href='../S/39.html#L926'>ASM</a>               926 core/vm-x86.c      X86_PRE(); ASM(0x89); ASM(0x94); ASM(0xC5); ASM(RBP(op.a + 2)); ASM(0xff); ASM(0xff);</span>
<span class='curline'><a href='../S/39.html#L928'>ASM</a>               928 core/vm-x86.c      X86_PRE(); ASM(0x89); ASM(0x54); ASM(0xC5); ASM(RBP(op.a + 2)); // mov %rdx -A(%rbp,%rax,8)</span>
<span class='curline'><a href='../S/39.html#L941'>ASM</a>               941 core/vm-x86.c    X86_PRE(); ASM(0x8B); ASM_MOV_EBP(0x45, op.a)		// mov %rbp(A) %rax</span>
<span class='curline'><a href='../S/39.html#L942'>ASM</a>               942 core/vm-x86.c    ASM(0xF6); ASM(0xC0); ASM(0x01);			// test 0x1 %al</span>
<span class='curline'><a href='../S/39.html#L944'>ASM</a>               944 core/vm-x86.c    ASM(0x75); ASM(X86C(56,68, 3,op.a));	 		// jnz [a]</span>
<span class='curline'><a href='../S/39.html#L945'>ASM</a>               945 core/vm-x86.c    ASM(0xF7); ASM(0xC0); ASMI(PN_REF_MASK);		// test REFMASK %eax</span>
<span class='curline'><a href='../S/39.html#L947'>ASM</a>               947 core/vm-x86.c    ASM(0x74); ASM(X86C(48,60, 5,op.a));			// jz [a]</span>
<span class='curline'><a href='../S/39.html#L948'>ASM</a>               948 core/vm-x86.c    X86_PRE(); ASM(0x83); ASM(0xE0); ASM(0xF8);		// and ~PRIMITIVE %rax</span>
<span class='curline'><a href='../S/39.html#L951'>ASM</a>               951 core/vm-x86.c    ASM(0x81); ASM(0x38); ASMI(PN_TVTABLE);		// cmpq VTABLE (%eax)  # 0x25000a</span>
<span class='curline'><a href='../S/39.html#L953'>ASM</a>               953 core/vm-x86.c    ASM(0x75); ASM(X86C(13,20, 1, start-3));		// jnz [c]</span>
<span class='curline'><a href='../S/39.html#L956'>ASM</a>               956 core/vm-x86.c    X86_PRE(); ASM(0xB8); ASMN(potion_object_new);	// mov &amp;potion_object_new %rax</span>
<span class='curline'><a href='../S/39.html#L957'>ASM</a>               957 core/vm-x86.c    ASM(0xFF); ASM(0xD0); 				// callq %rax</span>
<span class='curline'><a href='../S/39.html#L959'>ASM</a>               959 core/vm-x86.c    X86_PRE(); ASM(0x8B); ASM_MOV_EBP(0x45, op.a)		// mov %rbp(A) %rax</span>
<span class='curline'><a href='../S/39.html#L960'>ASM</a>               960 core/vm-x86.c    X86_PRE(); ASM(0x8B); ASM(0x40);</span>
<span class='curline'><a href='../S/39.html#L961'>ASM</a>               961 core/vm-x86.c      ASM((char *)&amp;((struct PNVtable *)P-&gt;lobby)-&gt;ctor</span>
<span class='curline'><a href='../S/39.html#L963'>ASM</a>               963 core/vm-x86.c    X86_PRE(); ASM(0x89); ASM_MOV_EBP(0x45, op.a)		// mov %rax %rbp(A)</span>
<span class='curline'><a href='../S/39.html#L967'>ASM</a>               967 core/vm-x86.c    ASM(0x81); ASM(0x38); ASMI(PN_TCLOSURE);	     // c: cmpq CLOSURE (%eax) # 0x250005</span>
<span class='curline'><a href='../S/39.html#L969'>ASM</a>               969 core/vm-x86.c    ASM(0x74); ASM(X86C(22,30, 2,op.a));			// jz [d]</span>
<span class='curline'><a href='../S/39.html#L977'>ASM</a>               977 core/vm-x86.c    X86_PRE(); ASM(0xB8); ASMN(potion_obj_get_call); 	// mov &amp;potion_obj_get_call %rax</span>
<span class='curline'><a href='../S/39.html#L978'>ASM</a>               978 core/vm-x86.c    ASM(0xFF); ASM(0xD0); 			        // callq *%rax</span>
<span class='curline'><a href='../S/39.html#L980'>ASM</a>               980 core/vm-x86.c    ASM(0xEB); ASM(X86C(3,4, 1,op.a)); 		       	// jmp [b]</span>
<span class='curline'><a href='../S/39.html#L984'>ASM</a>               984 core/vm-x86.c    X86_PRE(); ASM(0x8B); ASM_MOV_EBP(0x45, op.a)      // d: mov %rbp(A) %rax</span>
<span class='curline'><a href='../S/39.html#L987'>ASM</a>               987 core/vm-x86.c    X86_PRE(); ASM(0x8B); ASM(0x40);</span>
<span class='curline'><a href='../S/39.html#L988'>ASM</a>               988 core/vm-x86.c               ASM(sizeof(struct PNObject));	     // b: mov N(%rax) %rax</span>
<span class='curline'><a href='../S/39.html#L1015'>ASM</a>              1015 core/vm-x86.c    ASM(0xFF); ASM(0xD0); 				// callq *%rax</span>
<span class='curline'><a href='../S/39.html#L1016'>ASM</a>              1016 core/vm-x86.c    X86_PRE(); ASM(0x89); ASM(0x45); ASM(RBP(op.a)); 	// mov %rbp(A) %rax</span>
<span class='curline'><a href='../S/39.html#L1023'>ASM</a>              1023 core/vm-x86.c    X86_PRE(); ASM(0xB8); ASMN(potion_obj_get_callset); // mov &amp;potion_obj_get %rax</span>
<span class='curline'><a href='../S/39.html#L1024'>ASM</a>              1024 core/vm-x86.c    ASM(0xFF); ASM(0xD0);    // callq %rax</span>
<span class='curline'><a href='../S/39.html#L1034'>ASM</a>              1034 core/vm-x86.c    ASM(0xC9); ASM(0xC3); // leave; ret</span>
<span class='curline'><a href='../S/39.html#L1055'>ASM</a>              1055 core/vm-x86.c    X86_PRE(); ASM(0xB8); ASMN(potion_f_protos);	// mov &amp;potion_f_values %rax</span>
<span class='curline'><a href='../S/39.html#L1056'>ASM</a>              1056 core/vm-x86.c    ASM(0xFF); ASM(0xD0);				// callq %rax</span>
<span class='curline'><a href='../S/39.html#L1064'>ASM</a>              1064 core/vm-x86.c        X86_PRE(); ASM(0x8B); ASM_MOV_EBP(0x55, lregs + opp.b) // mov upval %rdx</span>
<span class='curline'><a href='../S/39.html#L1068'>ASM</a>              1068 core/vm-x86.c        X86_PRE(); ASM(0xB8); ASMN(potion_ref); 	// mov &amp;potion_ref %rax</span>
<span class='curline'><a href='../S/39.html#L1069'>ASM</a>              1069 core/vm-x86.c        ASM(0xFF); ASM(0xD0);			// callq %rax</span>
<span class='curline'><a href='../S/39.html#L1070'>ASM</a>              1070 core/vm-x86.c        X86_PRE(); ASM(0x89); ASM(0xC2);		// mov %rax %rdx</span>
<span class='curline'><a href='../S/39.html#L1076'>ASM</a>              1076 core/vm-x86.c      X86_PRE(); ASM(0x89);			// mov %rdx N(%rax)</span>
<span class='curline'><a href='../S/39.html#L1078'>ASM</a>              1078 core/vm-x86.c      if (n &gt;= 0x80) { ASM(0x90); ASMI(n); }</span>
<span class='curline'><a href='../S/39.html#L1079'>ASM</a>              1079 core/vm-x86.c      else { ASM(0x50); ASM(n); }</span>
<span class='curline'><a href='../S/39.html#L1088'>ASM</a>              1088 core/vm-x86.c    X86_PRE(); ASM(0xB8); ASMN(potion_vm_class);	// mov &amp;potion_vm_class %rax</span>
<span class='curline'><a href='../S/39.html#L1089'>ASM</a>              1089 core/vm-x86.c    ASM(0xFF); ASM(0xD0);				// callq %rax</span>
<span class='curline'><a href='../S/39.html#L1105'>ASM</a>              1105 core/vm-x86.c        ASM(0x81); ASM(X86C(0xFA,0xFF, 0,0));</span>
<span class='curline'><a href='../S/39.html#L1107'>ASM</a>              1107 core/vm-x86.c          ASM(0x75); ASM(X86C(7,11, 0,0));			// jnz +11</span>
<span class='curline'><a href='../S/39.html#L1108'>ASM</a>              1108 core/vm-x86.c        X86_PRE(); ASM(0xB8); ASMN(kh_val(PN, vt-&gt;methods, k - 1)); // mov CL %rax</span>
<span class='curline'><a href='../S/39.html#L1110'>ASM</a>              1110 core/vm-x86.c        ASM(0x5D);</span>
<span class='curline'><a href='../S/39.html#L1112'>ASM</a>              1112 core/vm-x86.c        ASM(0xC3); // retq</span>
<span class='curline'><a href='../S/39.html#L1115'>ASM</a>              1115 core/vm-x86.c    ASM(0xB8); ASMI(0); // mov NIL %eax</span>
<span class='curline'><a href='../S/39.html#L1117'>ASM</a>              1117 core/vm-x86.c    ASM(0x5D);</span>
<span class='curline'><a href='../S/39.html#L1119'>ASM</a>              1119 core/vm-x86.c    ASM(0xC3); // retq</span>
<span class='curline'><a href='../S/39.html#L1131'>ASM</a>              1131 core/vm-x86.c      ASM(0x81); ASM(X86C(0xFA,0xFF, 0,0));</span>
<span class='curline'><a href='../S/39.html#L1133'>ASM</a>              1133 core/vm-x86.c      ASM(0x75); ASM(X86C(7,6, 0,0));	// jnz +7</span>
<span class='curline'><a href='../S/39.html#L1134'>ASM</a>              1134 core/vm-x86.c      ASM(0xB8); ASMI(i);			// mov i %rax</span>
<span class='curline'><a href='../S/39.html#L1135'>ASM</a>              1135 core/vm-x86.c      ASM(0x5D);                          // pop %rbp</span>
<span class='curline'><a href='../S/39.html#L1136'>ASM</a>              1136 core/vm-x86.c      ASM(0xC3);				// retq</span>
<span class='curline'><a href='../S/39.html#L1140'>ASM</a>              1140 core/vm-x86.c      ASM(0x81); ASM(X86C(0xFA,0xFF, 0,0));</span>
<span class='curline'><a href='../S/39.html#L1142'>ASM</a>              1142 core/vm-x86.c      ASM(0x75); ASM(X86C(7,6, 0,0));	// jnz +7</span>
<span class='curline'><a href='../S/39.html#L1143'>ASM</a>              1143 core/vm-x86.c      ASM(0xB8); ASMI(i);			// mov i %rax</span>
<span class='curline'><a href='../S/39.html#L1144'>ASM</a>              1144 core/vm-x86.c      ASM(0xC3);				// retq</span>
<span class='curline'><a href='../S/39.html#L1147'>ASM</a>              1147 core/vm-x86.c    X86_PRE(); ASM(0xB8); ASMN(-1);	// mov -1 %rax</span>
<span class='curline'><a href='../S/39.html#L1149'>ASM</a>              1149 core/vm-x86.c    ASM(0x5D);                            // pop %rbp</span>
<span class='curline'><a href='../S/39.html#L1151'>ASM</a>              1151 core/vm-x86.c    ASM(0xC3);				// retq</span>
</pre>
</body>
</html>
